function Cp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vd={exports:{}},ja={},yd={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Tp=Symbol.for("react.portal"),Ep=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Fp=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Mp=Symbol.for("react.memo"),Np=Symbol.for("react.lazy"),ac=Symbol.iterator;function Dp(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_d=Object.assign,wd={};function si(e,t,n){this.props=e,this.context=t,this.refs=wd,this.updater=n||gd}si.prototype.isReactComponent={};si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kd(){}kd.prototype=si.prototype;function Vl(e,t,n){this.props=e,this.context=t,this.refs=wd,this.updater=n||gd}var Bl=Vl.prototype=new kd;Bl.constructor=Vl;_d(Bl,si.prototype);Bl.isPureReactComponent=!0;var sc=Array.isArray,Sd=Object.prototype.hasOwnProperty,Hl={current:null},bd={key:!0,ref:!0,__self:!0,__source:!0};function xd(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Sd.call(t,r)&&!bd.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var d=Array(f),v=0;v<f;v++)d[v]=arguments[v+2];i.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:lo,type:e,key:o,ref:a,props:i,_owner:Hl.current}}function jp(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $l(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lc=/\/+/g;function bs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zp(""+e.key):t.toString(36)}function ea(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case lo:case Tp:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+bs(a,0):r,sc(i)?(n="",e!=null&&(n=e.replace(lc,"$&/")+"/"),ea(i,t,n,"",function(v){return v})):i!=null&&($l(i)&&(i=jp(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(lc,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",sc(e))for(var f=0;f<e.length;f++){o=e[f];var d=r+bs(o,f);a+=ea(o,t,n,d,i)}else if(d=Dp(e),typeof d=="function")for(e=d.call(e),f=0;!(o=e.next()).done;)o=o.value,d=r+bs(o,f++),a+=ea(o,t,n,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Do(e,t,n){if(e==null)return e;var r=[],i=0;return ea(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},ta={transition:null},Vp={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:ta,ReactCurrentOwner:Hl};function Pd(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Do,forEach:function(e,t,n){Do(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Do(e,function(){t++}),t},toArray:function(e){return Do(e,function(t){return t})||[]},only:function(e){if(!$l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=si;ve.Fragment=Ep;ve.Profiler=Lp;ve.PureComponent=Vl;ve.StrictMode=Op;ve.Suspense=Ap;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;ve.act=Pd;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_d({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Hl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)Sd.call(t,d)&&!bd.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){f=Array(d);for(var v=0;v<d;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:lo,type:e.type,key:i,ref:o,props:r,_owner:a}};ve.createContext=function(e){return e={$$typeof:Rp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fp,_context:e},e.Consumer=e};ve.createElement=xd;ve.createFactory=function(e){var t=xd.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Ip,render:e}};ve.isValidElement=$l;ve.lazy=function(e){return{$$typeof:Np,_payload:{_status:-1,_result:e},_init:Up}};ve.memo=function(e,t){return{$$typeof:Mp,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};ve.unstable_act=Pd;ve.useCallback=function(e,t){return mt.current.useCallback(e,t)};ve.useContext=function(e){return mt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return mt.current.useEffect(e,t)};ve.useId=function(){return mt.current.useId()};ve.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return mt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};ve.useRef=function(e){return mt.current.useRef(e)};ve.useState=function(e){return mt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return mt.current.useTransition()};ve.version="18.3.1";yd.exports=ve;var za=yd.exports;const Cd=md(za);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp=za,Hp=Symbol.for("react.element"),$p=Symbol.for("react.fragment"),Wp=Object.prototype.hasOwnProperty,Kp=Bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qp={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Wp.call(t,r)&&!qp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Hp,type:e,key:o,ref:a,props:i,_owner:Kp.current}}ja.Fragment=$p;ja.jsx=Td;ja.jsxs=Td;vd.exports=ja;var Qp=vd.exports;const fa=Qp.jsx;var ha={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */ha.exports;(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={227:(a,f,d)=>{var v=d(155);f.formatArgs=function(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const P="color: "+this.color;g.splice(1,0,P,"color: inherit");let b=0,l=0;g[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(b++,h==="%c"&&(l=b))}),g.splice(l,0,P)},f.save=function(g){try{g?f.storage.setItem("debug",g):f.storage.removeItem("debug")}catch{}},f.load=function(){let g;try{g=f.storage.getItem("debug")}catch{}return!g&&v!==void 0&&"env"in v&&(g=v.env.DEBUG),g},f.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},f.storage=function(){try{return localStorage}catch{}}(),f.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],f.log=console.debug||console.log||(()=>{}),a.exports=d(447)(f);const{formatters:w}=a.exports;w.j=function(g){try{return JSON.stringify(g)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}},447:(a,f,d)=>{a.exports=function(v){function w(b){let l,h,y,c=null;function s(...m){if(!s.enabled)return;const _=s,x=Number(new Date),C=x-(l||x);_.diff=C,_.prev=l,_.curr=x,l=x,m[0]=w.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let S=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(O,N)=>{if(O==="%%")return"%";S++;const F=w.formatters[N];if(typeof F=="function"){const V=m[S];O=F.call(_,V),m.splice(S,1),S--}return O}),w.formatArgs.call(_,m),(_.log||w.log).apply(_,m)}return s.namespace=b,s.useColors=w.useColors(),s.color=w.selectColor(b),s.extend=g,s.destroy=w.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(h!==w.namespaces&&(h=w.namespaces,y=w.enabled(b)),y),set:m=>{c=m}}),typeof w.init=="function"&&w.init(s),s}function g(b,l){const h=w(this.namespace+(l===void 0?":":l)+b);return h.log=this.log,h}function P(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return w.debug=w,w.default=w,w.coerce=function(b){return b instanceof Error?b.stack||b.message:b},w.disable=function(){const b=[...w.names.map(P),...w.skips.map(P).map(l=>"-"+l)].join(",");return w.enable(""),b},w.enable=function(b){let l;w.save(b),w.namespaces=b,w.names=[],w.skips=[];const h=(typeof b=="string"?b:"").split(/[\s,]+/),y=h.length;for(l=0;l<y;l++)h[l]&&((b=h[l].replace(/\*/g,".*?"))[0]==="-"?w.skips.push(new RegExp("^"+b.slice(1)+"$")):w.names.push(new RegExp("^"+b+"$")))},w.enabled=function(b){if(b[b.length-1]==="*")return!0;let l,h;for(l=0,h=w.skips.length;l<h;l++)if(w.skips[l].test(b))return!1;for(l=0,h=w.names.length;l<h;l++)if(w.names[l].test(b))return!0;return!1},w.humanize=d(824),w.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(v).forEach(b=>{w[b]=v[b]}),w.names=[],w.skips=[],w.formatters={},w.selectColor=function(b){let l=0;for(let h=0;h<b.length;h++)l=(l<<5)-l+b.charCodeAt(h),l|=0;return w.colors[Math.abs(l)%w.colors.length]},w.enable(w.load()),w}},996:a=>{var f=function(y){return function(c){return!!c&&typeof c=="object"}(y)&&!function(c){var s=Object.prototype.toString.call(c);return s==="[object RegExp]"||s==="[object Date]"||function(m){return m.$$typeof===d}(c)}(y)},d=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function v(y,c){return c.clone!==!1&&c.isMergeableObject(y)?l((s=y,Array.isArray(s)?[]:{}),y,c):y;var s}function w(y,c,s){return y.concat(c).map(function(m){return v(m,s)})}function g(y){return Object.keys(y).concat(function(c){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(c).filter(function(s){return Object.propertyIsEnumerable.call(c,s)}):[]}(y))}function P(y,c){try{return c in y}catch{return!1}}function b(y,c,s){var m={};return s.isMergeableObject(y)&&g(y).forEach(function(_){m[_]=v(y[_],s)}),g(c).forEach(function(_){(function(x,C){return P(x,C)&&!(Object.hasOwnProperty.call(x,C)&&Object.propertyIsEnumerable.call(x,C))})(y,_)||(P(y,_)&&s.isMergeableObject(c[_])?m[_]=function(x,C){if(!C.customMerge)return l;var S=C.customMerge(x);return typeof S=="function"?S:l}(_,s)(y[_],c[_],s):m[_]=v(c[_],s))}),m}function l(y,c,s){(s=s||{}).arrayMerge=s.arrayMerge||w,s.isMergeableObject=s.isMergeableObject||f,s.cloneUnlessOtherwiseSpecified=v;var m=Array.isArray(c);return m===Array.isArray(y)?m?s.arrayMerge(y,c,s):b(y,c,s):v(c,s)}l.all=function(y,c){if(!Array.isArray(y))throw new Error("first argument should be an array");return y.reduce(function(s,m){return l(s,m,c)},{})};var h=l;a.exports=h},856:function(a){a.exports=function(){function f(Y){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},f(Y)}function d(Y,te){return d=Object.setPrototypeOf||function(ue,me){return ue.__proto__=me,ue},d(Y,te)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(Y,te,ue){return w=v()?Reflect.construct:function(me,Ve,Dt){var Jt=[null];Jt.push.apply(Jt,Ve);var xn=new(Function.bind.apply(me,Jt));return Dt&&d(xn,Dt.prototype),xn},w.apply(null,arguments)}function g(Y){return P(Y)||b(Y)||l(Y)||y()}function P(Y){if(Array.isArray(Y))return h(Y)}function b(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}function l(Y,te){if(Y){if(typeof Y=="string")return h(Y,te);var ue=Object.prototype.toString.call(Y).slice(8,-1);return ue==="Object"&&Y.constructor&&(ue=Y.constructor.name),ue==="Map"||ue==="Set"?Array.from(Y):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?h(Y,te):void 0}}function h(Y,te){(te==null||te>Y.length)&&(te=Y.length);for(var ue=0,me=new Array(te);ue<te;ue++)me[ue]=Y[ue];return me}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=Object.hasOwnProperty,s=Object.setPrototypeOf,m=Object.isFrozen,_=Object.getPrototypeOf,x=Object.getOwnPropertyDescriptor,C=Object.freeze,S=Object.seal,O=Object.create,N=typeof Reflect<"u"&&Reflect,F=N.apply,V=N.construct;F||(F=function(Y,te,ue){return Y.apply(te,ue)}),C||(C=function(Y){return Y}),S||(S=function(Y){return Y}),V||(V=function(Y,te){return w(Y,g(te))});var Q=H(Array.prototype.forEach),ee=H(Array.prototype.pop),ae=H(Array.prototype.push),j=H(String.prototype.toLowerCase),T=H(String.prototype.match),I=H(String.prototype.replace),R=H(String.prototype.indexOf),L=H(String.prototype.trim),M=H(RegExp.prototype.test),U=q(TypeError);function H(Y){return function(te){for(var ue=arguments.length,me=new Array(ue>1?ue-1:0),Ve=1;Ve<ue;Ve++)me[Ve-1]=arguments[Ve];return F(Y,te,me)}}function q(Y){return function(){for(var te=arguments.length,ue=new Array(te),me=0;me<te;me++)ue[me]=arguments[me];return V(Y,ue)}}function W(Y,te){s&&s(Y,null);for(var ue=te.length;ue--;){var me=te[ue];if(typeof me=="string"){var Ve=j(me);Ve!==me&&(m(te)||(te[ue]=Ve),me=Ve)}Y[me]=!0}return Y}function G(Y){var te,ue=O(null);for(te in Y)F(c,Y,[te])&&(ue[te]=Y[te]);return ue}function re(Y,te){for(;Y!==null;){var ue=x(Y,te);if(ue){if(ue.get)return H(ue.get);if(typeof ue.value=="function")return H(ue.value)}Y=_(Y)}function me(Ve){return console.warn("fallback value for",Ve),null}return me}var le=C(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),he=C(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pe=C(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fe=C(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ge=C(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ke=C(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ne=C(["#text"]),Ee=C(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ze=C(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Se=C(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ye=C(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),de=S(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Te=S(/<%[\w\W]*|[\w\W]*%>/gm),nt=S(/^data-[\-\w.\u00B7-\uFFFF]/),$e=S(/^aria-[\-\w]+$/),rt=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ft=S(/^(?:\w+script|data):/i),Yt=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bn=S(/^html$/i),Zt=function(){return typeof window>"u"?null:window},ts=function(Y,te){if(f(Y)!=="object"||typeof Y.createPolicy!="function")return null;var ue=null,me="data-tt-policy-suffix";te.currentScript&&te.currentScript.hasAttribute(me)&&(ue=te.currentScript.getAttribute(me));var Ve="dompurify"+(ue?"#"+ue:"");try{return Y.createPolicy(Ve,{createHTML:function(Dt){return Dt}})}catch{return console.warn("TrustedTypes policy "+Ve+" could not be created."),null}};function po(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zt(),te=function(A){return po(A)};if(te.version="2.3.8",te.removed=[],!Y||!Y.document||Y.document.nodeType!==9)return te.isSupported=!1,te;var ue=Y.document,me=Y.document,Ve=Y.DocumentFragment,Dt=Y.HTMLTemplateElement,Jt=Y.Node,xn=Y.Element,ci=Y.NodeFilter,mo=Y.NamedNodeMap,un=mo===void 0?Y.NamedNodeMap||Y.MozNamedAttrMap:mo,ns=Y.HTMLFormElement,rs=Y.DOMParser,is=Y.trustedTypes,Pr=xn.prototype,os=re(Pr,"cloneNode"),as=re(Pr,"nextSibling"),ss=re(Pr,"childNodes"),di=re(Pr,"parentNode");if(typeof Dt=="function"){var jt=me.createElement("template");jt.content&&jt.content.ownerDocument&&(me=jt.content.ownerDocument)}var zt=ts(is,ue),vo=zt?zt.createHTML(""):"",Cr=me,fi=Cr.implementation,Pn=Cr.createNodeIterator,yo=Cr.createDocumentFragment,go=Cr.getElementsByTagName,ls=ue.importNode,_o={};try{_o=G(me).documentMode?me.documentMode:{}}catch{}var bt={};te.isSupported=typeof di=="function"&&fi&&fi.createHTMLDocument!==void 0&&_o!==9;var tr,en,Tr=de,Er=Te,hi=nt,us=$e,wo=ft,Or=Yt,be=rt,We=null,ko=W({},[].concat(g(le),g(he),g(pe),g(ge),g(Ne))),Ke=null,Cn=W({},[].concat(g(Ee),g(Ze),g(Se),g(ye))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tn=null,Lr=null,pi=!0,mi=!0,So=!1,En=!1,cn=!1,vi=!1,yi=!1,On=!1,Fr=!1,Ln=!1,bo=!0,gi=!0,Fn=!1,Ut={},Rn=null,xo=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Po=null,Co=W({},["audio","video","img","source","image","track"]),_i=null,dn=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),In="http://www.w3.org/1998/Math/MathML",wi="http://www.w3.org/2000/svg",tn="http://www.w3.org/1999/xhtml",Rr=tn,To=!1,nr=["application/xhtml+xml","text/html"],rr="text/html",An=null,cs=me.createElement("form"),Eo=function(A){return A instanceof RegExp||A instanceof Function},ki=function(A){An&&An===A||(A&&f(A)==="object"||(A={}),A=G(A),We="ALLOWED_TAGS"in A?W({},A.ALLOWED_TAGS):ko,Ke="ALLOWED_ATTR"in A?W({},A.ALLOWED_ATTR):Cn,_i="ADD_URI_SAFE_ATTR"in A?W(G(dn),A.ADD_URI_SAFE_ATTR):dn,Po="ADD_DATA_URI_TAGS"in A?W(G(Co),A.ADD_DATA_URI_TAGS):Co,Rn="FORBID_CONTENTS"in A?W({},A.FORBID_CONTENTS):xo,Tn="FORBID_TAGS"in A?W({},A.FORBID_TAGS):{},Lr="FORBID_ATTR"in A?W({},A.FORBID_ATTR):{},Ut="USE_PROFILES"in A&&A.USE_PROFILES,pi=A.ALLOW_ARIA_ATTR!==!1,mi=A.ALLOW_DATA_ATTR!==!1,So=A.ALLOW_UNKNOWN_PROTOCOLS||!1,En=A.SAFE_FOR_TEMPLATES||!1,cn=A.WHOLE_DOCUMENT||!1,On=A.RETURN_DOM||!1,Fr=A.RETURN_DOM_FRAGMENT||!1,Ln=A.RETURN_TRUSTED_TYPE||!1,yi=A.FORCE_BODY||!1,bo=A.SANITIZE_DOM!==!1,gi=A.KEEP_CONTENT!==!1,Fn=A.IN_PLACE||!1,be=A.ALLOWED_URI_REGEXP||be,Rr=A.NAMESPACE||tn,A.CUSTOM_ELEMENT_HANDLING&&Eo(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&Eo(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tr=tr=nr.indexOf(A.PARSER_MEDIA_TYPE)===-1?rr:A.PARSER_MEDIA_TYPE,en=tr==="application/xhtml+xml"?function(J){return J}:j,En&&(mi=!1),Fr&&(On=!0),Ut&&(We=W({},g(Ne)),Ke=[],Ut.html===!0&&(W(We,le),W(Ke,Ee)),Ut.svg===!0&&(W(We,he),W(Ke,Ze),W(Ke,ye)),Ut.svgFilters===!0&&(W(We,pe),W(Ke,Ze),W(Ke,ye)),Ut.mathMl===!0&&(W(We,ge),W(Ke,Se),W(Ke,ye))),A.ADD_TAGS&&(We===ko&&(We=G(We)),W(We,A.ADD_TAGS)),A.ADD_ATTR&&(Ke===Cn&&(Ke=G(Ke)),W(Ke,A.ADD_ATTR)),A.ADD_URI_SAFE_ATTR&&W(_i,A.ADD_URI_SAFE_ATTR),A.FORBID_CONTENTS&&(Rn===xo&&(Rn=G(Rn)),W(Rn,A.FORBID_CONTENTS)),gi&&(We["#text"]=!0),cn&&W(We,["html","head","body"]),We.table&&(W(We,["tbody"]),delete Tn.tbody),C&&C(A),An=A)},Oo=W({},["mi","mo","mn","ms","mtext"]),Lo=W({},["foreignobject","desc","title","annotation-xml"]),ds=W({},["title","style","font","a","script"]),Vt=W({},he);W(Vt,pe),W(Vt,Fe);var Ir=W({},ge);W(Ir,ke);var fs=function(A){var J=di(A);J&&J.tagName||(J={namespaceURI:tn,tagName:"template"});var X=j(A.tagName),xe=j(J.tagName);return A.namespaceURI===wi?J.namespaceURI===tn?X==="svg":J.namespaceURI===In?X==="svg"&&(xe==="annotation-xml"||Oo[xe]):!!Vt[X]:A.namespaceURI===In?J.namespaceURI===tn?X==="math":J.namespaceURI===wi?X==="math"&&Lo[xe]:!!Ir[X]:A.namespaceURI===tn&&!(J.namespaceURI===wi&&!Lo[xe])&&!(J.namespaceURI===In&&!Oo[xe])&&!Ir[X]&&(ds[X]||!Vt[X])},Bt=function(A){ae(te.removed,{element:A});try{A.parentNode.removeChild(A)}catch{try{A.outerHTML=vo}catch{A.remove()}}},ir=function(A,J){try{ae(te.removed,{attribute:J.getAttributeNode(A),from:J})}catch{ae(te.removed,{attribute:null,from:J})}if(J.removeAttribute(A),A==="is"&&!Ke[A])if(On||Fr)try{Bt(J)}catch{}else try{J.setAttribute(A,"")}catch{}},Fo=function(A){var J,X;if(yi)A="<remove></remove>"+A;else{var xe=T(A,/^[\r\n\t ]+/);X=xe&&xe[0]}tr==="application/xhtml+xml"&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");var De=zt?zt.createHTML(A):A;if(Rr===tn)try{J=new rs().parseFromString(De,tr)}catch{}if(!J||!J.documentElement){J=fi.createDocument(Rr,"template",null);try{J.documentElement.innerHTML=To?"":De}catch{}}var Je=J.body||J.documentElement;return A&&X&&Je.insertBefore(me.createTextNode(X),Je.childNodes[0]||null),Rr===tn?go.call(J,cn?"html":"body")[0]:cn?J.documentElement:Je},Ro=function(A){return Pn.call(A.ownerDocument||A,A,ci.SHOW_ELEMENT|ci.SHOW_COMMENT|ci.SHOW_TEXT,null,!1)},hs=function(A){return A instanceof ns&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof un)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function")},or=function(A){return f(Jt)==="object"?A instanceof Jt:A&&f(A)==="object"&&typeof A.nodeType=="number"&&typeof A.nodeName=="string"},st=function(A,J,X){bt[A]&&Q(bt[A],function(xe){xe.call(te,J,X,An)})},ar=function(A){var J;if(st("beforeSanitizeElements",A,null),hs(A)||M(/[\u0080-\uFFFF]/,A.nodeName))return Bt(A),!0;var X=en(A.nodeName);if(st("uponSanitizeElement",A,{tagName:X,allowedTags:We}),A.hasChildNodes()&&!or(A.firstElementChild)&&(!or(A.content)||!or(A.content.firstElementChild))&&M(/<[/\w]/g,A.innerHTML)&&M(/<[/\w]/g,A.textContent)||X==="select"&&M(/<template/i,A.innerHTML))return Bt(A),!0;if(!We[X]||Tn[X]){if(!Tn[X]&&fn(X)&&(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,X)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(X)))return!1;if(gi&&!Rn[X]){var xe=di(A)||A.parentNode,De=ss(A)||A.childNodes;if(De&&xe)for(var Je=De.length-1;Je>=0;--Je)xe.insertBefore(os(De[Je],!0),as(A))}return Bt(A),!0}return A instanceof xn&&!fs(A)?(Bt(A),!0):X!=="noscript"&&X!=="noembed"||!M(/<\/no(script|embed)/i,A.innerHTML)?(En&&A.nodeType===3&&(J=A.textContent,J=I(J,Tr," "),J=I(J,Er," "),A.textContent!==J&&(ae(te.removed,{element:A.cloneNode()}),A.textContent=J)),st("afterSanitizeElements",A,null),!1):(Bt(A),!0)},Io=function(A,J,X){if(bo&&(J==="id"||J==="name")&&(X in me||X in cs))return!1;if(!(mi&&!Lr[J]&&M(hi,J))){if(!(pi&&M(us,J))){if(!Ke[J]||Lr[J]){if(!(fn(A)&&(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,A)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(A))&&(Ae.attributeNameCheck instanceof RegExp&&M(Ae.attributeNameCheck,J)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(J))||J==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,X)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(X))))return!1}else if(!_i[J]){if(!M(be,I(X,Or,""))){if((J!=="src"&&J!=="xlink:href"&&J!=="href"||A==="script"||R(X,"data:")!==0||!Po[A])&&!(So&&!M(wo,I(X,Or,"")))){if(X)return!1}}}}}return!0},fn=function(A){return A.indexOf("-")>0},sr=function(A){var J,X,xe,De;st("beforeSanitizeAttributes",A,null);var Je=A.attributes;if(Je){var qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ke};for(De=Je.length;De--;){var lr=J=Je[De],nn=lr.name,yt=lr.namespaceURI;if(X=nn==="value"?J.value:L(J.value),xe=en(nn),qe.attrName=xe,qe.attrValue=X,qe.keepAttr=!0,qe.forceKeepAttr=void 0,st("uponSanitizeAttribute",A,qe),X=qe.attrValue,!qe.forceKeepAttr&&(ir(nn,A),qe.keepAttr))if(M(/\/>/i,X))ir(nn,A);else{En&&(X=I(X,Tr," "),X=I(X,Er," "));var Si=en(A.nodeName);if(Io(Si,xe,X))try{yt?A.setAttributeNS(yt,nn,X):A.setAttribute(nn,X),ee(te.removed)}catch{}}}st("afterSanitizeAttributes",A,null)}},ps=function A(J){var X,xe=Ro(J);for(st("beforeSanitizeShadowDOM",J,null);X=xe.nextNode();)st("uponSanitizeShadowNode",X,null),ar(X)||(X.content instanceof Ve&&A(X.content),sr(X));st("afterSanitizeShadowDOM",J,null)};return te.sanitize=function(A,J){var X,xe,De,Je,qe;if((To=!A)&&(A="<!-->"),typeof A!="string"&&!or(A)){if(typeof A.toString!="function")throw U("toString is not a function");if(typeof(A=A.toString())!="string")throw U("dirty is not a string, aborting")}if(!te.isSupported){if(f(Y.toStaticHTML)==="object"||typeof Y.toStaticHTML=="function"){if(typeof A=="string")return Y.toStaticHTML(A);if(or(A))return Y.toStaticHTML(A.outerHTML)}return A}if(vi||ki(J),te.removed=[],typeof A=="string"&&(Fn=!1),Fn){if(A.nodeName){var lr=en(A.nodeName);if(!We[lr]||Tn[lr])throw U("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof Jt)(xe=(X=Fo("<!---->")).ownerDocument.importNode(A,!0)).nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?X=xe:X.appendChild(xe);else{if(!On&&!En&&!cn&&A.indexOf("<")===-1)return zt&&Ln?zt.createHTML(A):A;if(!(X=Fo(A)))return On?null:Ln?vo:""}X&&yi&&Bt(X.firstChild);for(var nn=Ro(Fn?A:X);De=nn.nextNode();)De.nodeType===3&&De===Je||ar(De)||(De.content instanceof Ve&&ps(De.content),sr(De),Je=De);if(Je=null,Fn)return A;if(On){if(Fr)for(qe=yo.call(X.ownerDocument);X.firstChild;)qe.appendChild(X.firstChild);else qe=X;return Ke.shadowroot&&(qe=ls.call(ue,qe,!0)),qe}var yt=cn?X.outerHTML:X.innerHTML;return cn&&We["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&M(bn,X.ownerDocument.doctype.name)&&(yt="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+yt),En&&(yt=I(yt,Tr," "),yt=I(yt,Er," ")),zt&&Ln?zt.createHTML(yt):yt},te.setConfig=function(A){ki(A),vi=!0},te.clearConfig=function(){An=null,vi=!1},te.isValidAttribute=function(A,J,X){An||ki({});var xe=en(A),De=en(J);return Io(xe,De,X)},te.addHook=function(A,J){typeof J=="function"&&(bt[A]=bt[A]||[],ae(bt[A],J))},te.removeHook=function(A){if(bt[A])return ee(bt[A])},te.removeHooks=function(A){bt[A]&&(bt[A]=[])},te.removeAllHooks=function(){bt={}},te}return po()}()},729:a=>{var f=Object.prototype.hasOwnProperty,d="~";function v(){}function w(l,h,y){this.fn=l,this.context=h,this.once=y||!1}function g(l,h,y,c,s){if(typeof y!="function")throw new TypeError("The listener must be a function");var m=new w(y,c||l,s),_=d?d+h:h;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function P(l,h){--l._eventsCount==0?l._events=new v:delete l._events[h]}function b(){this._events=new v,this._eventsCount=0}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(d=!1)),b.prototype.eventNames=function(){var l,h,y=[];if(this._eventsCount===0)return y;for(h in l=this._events)f.call(l,h)&&y.push(d?h.slice(1):h);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(l)):y},b.prototype.listeners=function(l){var h=d?d+l:l,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var c=0,s=y.length,m=new Array(s);c<s;c++)m[c]=y[c].fn;return m},b.prototype.listenerCount=function(l){var h=d?d+l:l,y=this._events[h];return y?y.fn?1:y.length:0},b.prototype.emit=function(l,h,y,c,s,m){var _=d?d+l:l;if(!this._events[_])return!1;var x,C,S=this._events[_],O=arguments.length;if(S.fn){switch(S.once&&this.removeListener(l,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,y),!0;case 4:return S.fn.call(S.context,h,y,c),!0;case 5:return S.fn.call(S.context,h,y,c,s),!0;case 6:return S.fn.call(S.context,h,y,c,s,m),!0}for(C=1,x=new Array(O-1);C<O;C++)x[C-1]=arguments[C];S.fn.apply(S.context,x)}else{var N,F=S.length;for(C=0;C<F;C++)switch(S[C].once&&this.removeListener(l,S[C].fn,void 0,!0),O){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,y);break;case 4:S[C].fn.call(S[C].context,h,y,c);break;default:if(!x)for(N=1,x=new Array(O-1);N<O;N++)x[N-1]=arguments[N];S[C].fn.apply(S[C].context,x)}}return!0},b.prototype.on=function(l,h,y){return g(this,l,h,y,!1)},b.prototype.once=function(l,h,y){return g(this,l,h,y,!0)},b.prototype.removeListener=function(l,h,y,c){var s=d?d+l:l;if(!this._events[s])return this;if(!h)return P(this,s),this;var m=this._events[s];if(m.fn)m.fn!==h||c&&!m.once||y&&m.context!==y||P(this,s);else{for(var _=0,x=[],C=m.length;_<C;_++)(m[_].fn!==h||c&&!m[_].once||y&&m[_].context!==y)&&x.push(m[_]);x.length?this._events[s]=x.length===1?x[0]:x:P(this,s)}return this},b.prototype.removeAllListeners=function(l){var h;return l?(h=d?d+l:l,this._events[h]&&P(this,h)):(this._events=new v,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=d,b.EventEmitter=b,a.exports=b},717:a=>{typeof Object.create=="function"?a.exports=function(f,d){f.super_=d,f.prototype=Object.create(d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(f,d){f.super_=d;var v=function(){};v.prototype=d.prototype,f.prototype=new v,f.prototype.constructor=f}},824:a=>{var f=1e3,d=60*f,v=60*d,w=24*v,g=7*w,P=365.25*w;function b(l,h,y,c){var s=h>=1.5*y;return Math.round(l/y)+" "+c+(s?"s":"")}a.exports=function(l,h){h=h||{};var y=typeof l;if(y==="string"&&l.length>0)return function(c){if(!((c=String(c)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(s){var m=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return m*P;case"weeks":case"week":case"w":return m*g;case"days":case"day":case"d":return m*w;case"hours":case"hour":case"hrs":case"hr":case"h":return m*v;case"minutes":case"minute":case"mins":case"min":case"m":return m*d;case"seconds":case"second":case"secs":case"sec":case"s":return m*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}(l);if(y==="number"&&isFinite(l))return h.long?function(c){var s=Math.abs(c);return s>=w?b(c,s,w,"day"):s>=v?b(c,s,v,"hour"):s>=d?b(c,s,d,"minute"):s>=f?b(c,s,f,"second"):c+" ms"}(l):function(c){var s=Math.abs(c);return s>=w?Math.round(c/w)+"d":s>=v?Math.round(c/v)+"h":s>=d?Math.round(c/d)+"m":s>=f?Math.round(c/f)+"s":c+"ms"}(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))}},520:(a,f,d)=>{var v=d(155),w=v.platform==="win32",g=d(539);function P(S,O){for(var N=[],F=0;F<S.length;F++){var V=S[F];V&&V!=="."&&(V===".."?N.length&&N[N.length-1]!==".."?N.pop():O&&N.push(".."):N.push(V))}return N}function b(S){for(var O=S.length-1,N=0;N<=O&&!S[N];N++);for(var F=O;F>=0&&!S[F];F--);return N===0&&F===O?S:N>F?[]:S.slice(N,F+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,h=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function c(S){var O=l.exec(S),N=(O[1]||"")+(O[2]||""),F=O[3]||"",V=h.exec(F);return[N,V[1],V[2],V[3]]}function s(S){var O=l.exec(S),N=O[1]||"",F=!!N&&N[1]!==":";return{device:N,isUnc:F,isAbsolute:F||!!O[2],tail:O[3]}}function m(S){return"\\\\"+S.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var S="",O="",N=!1,F=arguments.length-1;F>=-1;F--){var V;if(F>=0?V=arguments[F]:S?(V=v.env["="+S])&&V.substr(0,3).toLowerCase()===S.toLowerCase()+"\\"||(V=S+"\\"):V=v.cwd(),!g.isString(V))throw new TypeError("Arguments to path.resolve must be strings");if(V){var Q=s(V),ee=Q.device,ae=Q.isUnc,j=Q.isAbsolute,T=Q.tail;if((!ee||!S||ee.toLowerCase()===S.toLowerCase())&&(S||(S=ee),N||(O=T+"\\"+O,N=j),S&&N))break}}return ae&&(S=m(S)),S+(N?"\\":"")+(O=P(O.split(/[\\\/]+/),!N).join("\\"))||"."},y.normalize=function(S){var O=s(S),N=O.device,F=O.isUnc,V=O.isAbsolute,Q=O.tail,ee=/[\\\/]$/.test(Q);return(Q=P(Q.split(/[\\\/]+/),!V).join("\\"))||V||(Q="."),Q&&ee&&(Q+="\\"),F&&(N=m(N)),N+(V?"\\":"")+Q},y.isAbsolute=function(S){return s(S).isAbsolute},y.join=function(){for(var S=[],O=0;O<arguments.length;O++){var N=arguments[O];if(!g.isString(N))throw new TypeError("Arguments to path.join must be strings");N&&S.push(N)}var F=S.join("\\");return/^[\\\/]{2}[^\\\/]/.test(S[0])||(F=F.replace(/^[\\\/]{2,}/,"\\")),y.normalize(F)},y.relative=function(S,O){S=y.resolve(S),O=y.resolve(O);for(var N=S.toLowerCase(),F=O.toLowerCase(),V=b(O.split("\\")),Q=b(N.split("\\")),ee=b(F.split("\\")),ae=Math.min(Q.length,ee.length),j=ae,T=0;T<ae;T++)if(Q[T]!==ee[T]){j=T;break}if(j==0)return O;var I=[];for(T=j;T<Q.length;T++)I.push("..");return(I=I.concat(V.slice(j))).join("\\")},y._makeLong=function(S){if(!g.isString(S))return S;if(!S)return"";var O=y.resolve(S);return/^[a-zA-Z]\:\\/.test(O)?"\\\\?\\"+O:/^\\\\[^?.]/.test(O)?"\\\\?\\UNC\\"+O.substring(2):S},y.dirname=function(S){var O=c(S),N=O[0],F=O[1];return N||F?(F&&(F=F.substr(0,F.length-1)),N+F):"."},y.basename=function(S,O){var N=c(S)[2];return O&&N.substr(-1*O.length)===O&&(N=N.substr(0,N.length-O.length)),N},y.extname=function(S){return c(S)[3]},y.format=function(S){if(!g.isObject(S))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof S);var O=S.root||"";if(!g.isString(O))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof S.root);var N=S.dir,F=S.base||"";return N?N[N.length-1]===y.sep?N+F:N+y.sep+F:F},y.parse=function(S){if(!g.isString(S))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof S);var O=c(S);if(!O||O.length!==4)throw new TypeError("Invalid path '"+S+"'");return{root:O[0],dir:O[0]+O[1].slice(0,-1),base:O[2],ext:O[3],name:O[2].slice(0,O[2].length-O[3].length)}},y.sep="\\",y.delimiter=";";var _=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,x={};function C(S){return _.exec(S).slice(1)}x.resolve=function(){for(var S="",O=!1,N=arguments.length-1;N>=-1&&!O;N--){var F=N>=0?arguments[N]:v.cwd();if(!g.isString(F))throw new TypeError("Arguments to path.resolve must be strings");F&&(S=F+"/"+S,O=F[0]==="/")}return(O?"/":"")+(S=P(S.split("/"),!O).join("/"))||"."},x.normalize=function(S){var O=x.isAbsolute(S),N=S&&S[S.length-1]==="/";return(S=P(S.split("/"),!O).join("/"))||O||(S="."),S&&N&&(S+="/"),(O?"/":"")+S},x.isAbsolute=function(S){return S.charAt(0)==="/"},x.join=function(){for(var S="",O=0;O<arguments.length;O++){var N=arguments[O];if(!g.isString(N))throw new TypeError("Arguments to path.join must be strings");N&&(S+=S?"/"+N:N)}return x.normalize(S)},x.relative=function(S,O){S=x.resolve(S).substr(1),O=x.resolve(O).substr(1);for(var N=b(S.split("/")),F=b(O.split("/")),V=Math.min(N.length,F.length),Q=V,ee=0;ee<V;ee++)if(N[ee]!==F[ee]){Q=ee;break}var ae=[];for(ee=Q;ee<N.length;ee++)ae.push("..");return(ae=ae.concat(F.slice(Q))).join("/")},x._makeLong=function(S){return S},x.dirname=function(S){var O=C(S),N=O[0],F=O[1];return N||F?(F&&(F=F.substr(0,F.length-1)),N+F):"."},x.basename=function(S,O){var N=C(S)[2];return O&&N.substr(-1*O.length)===O&&(N=N.substr(0,N.length-O.length)),N},x.extname=function(S){return C(S)[3]},x.format=function(S){if(!g.isObject(S))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof S);var O=S.root||"";if(!g.isString(O))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof S.root);return(S.dir?S.dir+x.sep:"")+(S.base||"")},x.parse=function(S){if(!g.isString(S))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof S);var O=C(S);if(!O||O.length!==4)throw new TypeError("Invalid path '"+S+"'");return O[1]=O[1]||"",O[2]=O[2]||"",O[3]=O[3]||"",{root:O[0],dir:O[0]+O[1].slice(0,-1),base:O[2],ext:O[3],name:O[2].slice(0,O[2].length-O[3].length)}},x.sep="/",x.delimiter=":",a.exports=w?y:x,a.exports.posix=x,a.exports.win32=y},155:a=>{var f,d,v=a.exports={};function w(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function P(x){if(f===setTimeout)return setTimeout(x,0);if((f===w||!f)&&setTimeout)return f=setTimeout,setTimeout(x,0);try{return f(x,0)}catch{try{return f.call(null,x,0)}catch{return f.call(this,x,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:w}catch{f=w}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch{d=g}})();var b,l=[],h=!1,y=-1;function c(){h&&b&&(h=!1,b.length?l=b.concat(l):y=-1,l.length&&s())}function s(){if(!h){var x=P(c);h=!0;for(var C=l.length;C;){for(b=l,l=[];++y<C;)b&&b[y].run();y=-1,C=l.length}b=null,h=!1,function(S){if(d===clearTimeout)return clearTimeout(S);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(S);try{d(S)}catch{try{return d.call(null,S)}catch{return d.call(this,S)}}}(x)}}function m(x,C){this.fun=x,this.array=C}function _(){}v.nextTick=function(x){var C=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)C[S-1]=arguments[S];l.push(new m(x,C)),l.length!==1||h||P(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=_,v.addListener=_,v.once=_,v.off=_,v.removeListener=_,v.removeAllListeners=_,v.emit=_,v.prependListener=_,v.prependOnceListener=_,v.listeners=function(x){return[]},v.binding=function(x){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(x){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},384:a=>{a.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},539:(a,f,d)=>{var v=d(155),w=/%[sdj%]/g;f.format=function(L){if(!S(L)){for(var M=[],U=0;U<arguments.length;U++)M.push(b(arguments[U]));return M.join(" ")}U=1;for(var H=arguments,q=H.length,W=String(L).replace(w,function(re){if(re==="%%")return"%";if(U>=q)return re;switch(re){case"%s":return String(H[U++]);case"%d":return Number(H[U++]);case"%j":try{return JSON.stringify(H[U++])}catch{return"[Circular]"}default:return re}}),G=H[U];U<q;G=H[++U])x(G)||!F(G)?W+=" "+G:W+=" "+b(G);return W},f.deprecate=function(L,M){if(O(d.g.process))return function(){return f.deprecate(L,M).apply(this,arguments)};if(v.noDeprecation===!0)return L;var U=!1;return function(){if(!U){if(v.throwDeprecation)throw new Error(M);v.traceDeprecation?console.trace(M):console.error(M),U=!0}return L.apply(this,arguments)}};var g,P={};function b(L,M){var U={seen:[],stylize:h};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),_(M)?U.showHidden=M:M&&f._extend(U,M),O(U.showHidden)&&(U.showHidden=!1),O(U.depth)&&(U.depth=2),O(U.colors)&&(U.colors=!1),O(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=l),y(U,L,U.depth)}function l(L,M){var U=b.styles[M];return U?"\x1B["+b.colors[U][0]+"m"+L+"\x1B["+b.colors[U][1]+"m":L}function h(L,M){return L}function y(L,M,U){if(L.customInspect&&M&&ee(M.inspect)&&M.inspect!==f.inspect&&(!M.constructor||M.constructor.prototype!==M)){var H=M.inspect(U,L);return S(H)||(H=y(L,H,U)),H}var q=function(ge,ke){if(O(ke))return ge.stylize("undefined","undefined");if(S(ke)){var Ne="'"+JSON.stringify(ke).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ge.stylize(Ne,"string")}if(C(ke))return ge.stylize(""+ke,"number");if(_(ke))return ge.stylize(""+ke,"boolean");if(x(ke))return ge.stylize("null","null")}(L,M);if(q)return q;var W=Object.keys(M),G=function(ge){var ke={};return ge.forEach(function(Ne,Ee){ke[Ne]=!0}),ke}(W);if(L.showHidden&&(W=Object.getOwnPropertyNames(M)),Q(M)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return c(M);if(W.length===0){if(ee(M)){var re=M.name?": "+M.name:"";return L.stylize("[Function"+re+"]","special")}if(N(M))return L.stylize(RegExp.prototype.toString.call(M),"regexp");if(V(M))return L.stylize(Date.prototype.toString.call(M),"date");if(Q(M))return c(M)}var le,he="",pe=!1,Fe=["{","}"];return m(M)&&(pe=!0,Fe=["[","]"]),ee(M)&&(he=" [Function"+(M.name?": "+M.name:"")+"]"),N(M)&&(he=" "+RegExp.prototype.toString.call(M)),V(M)&&(he=" "+Date.prototype.toUTCString.call(M)),Q(M)&&(he=" "+c(M)),W.length!==0||pe&&M.length!=0?U<0?N(M)?L.stylize(RegExp.prototype.toString.call(M),"regexp"):L.stylize("[Object]","special"):(L.seen.push(M),le=pe?function(ge,ke,Ne,Ee,Ze){for(var Se=[],ye=0,de=ke.length;ye<de;++ye)R(ke,String(ye))?Se.push(s(ge,ke,Ne,Ee,String(ye),!0)):Se.push("");return Ze.forEach(function(Te){Te.match(/^\d+$/)||Se.push(s(ge,ke,Ne,Ee,Te,!0))}),Se}(L,M,U,G,W):W.map(function(ge){return s(L,M,U,G,ge,pe)}),L.seen.pop(),function(ge,ke,Ne){return ge.reduce(function(Ee,Ze){return Ze.indexOf(`
`)>=0,Ee+Ze.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ne[0]+(ke===""?"":ke+`
 `)+" "+ge.join(`,
  `)+" "+Ne[1]:Ne[0]+ke+" "+ge.join(", ")+" "+Ne[1]}(le,he,Fe)):Fe[0]+he+Fe[1]}function c(L){return"["+Error.prototype.toString.call(L)+"]"}function s(L,M,U,H,q,W){var G,re,le;if((le=Object.getOwnPropertyDescriptor(M,q)||{value:M[q]}).get?re=le.set?L.stylize("[Getter/Setter]","special"):L.stylize("[Getter]","special"):le.set&&(re=L.stylize("[Setter]","special")),R(H,q)||(G="["+q+"]"),re||(L.seen.indexOf(le.value)<0?(re=x(U)?y(L,le.value,null):y(L,le.value,U-1)).indexOf(`
`)>-1&&(re=W?re.split(`
`).map(function(he){return"  "+he}).join(`
`).substr(2):`
`+re.split(`
`).map(function(he){return"   "+he}).join(`
`)):re=L.stylize("[Circular]","special")),O(G)){if(W&&q.match(/^\d+$/))return re;(G=JSON.stringify(""+q)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=L.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=L.stylize(G,"string"))}return G+": "+re}function m(L){return Array.isArray(L)}function _(L){return typeof L=="boolean"}function x(L){return L===null}function C(L){return typeof L=="number"}function S(L){return typeof L=="string"}function O(L){return L===void 0}function N(L){return F(L)&&ae(L)==="[object RegExp]"}function F(L){return typeof L=="object"&&L!==null}function V(L){return F(L)&&ae(L)==="[object Date]"}function Q(L){return F(L)&&(ae(L)==="[object Error]"||L instanceof Error)}function ee(L){return typeof L=="function"}function ae(L){return Object.prototype.toString.call(L)}function j(L){return L<10?"0"+L.toString(10):L.toString(10)}f.debuglog=function(L){if(O(g)&&(g=v.env.NODE_DEBUG||""),L=L.toUpperCase(),!P[L])if(new RegExp("\\b"+L+"\\b","i").test(g)){var M=v.pid;P[L]=function(){var U=f.format.apply(f,arguments);console.error("%s %d: %s",L,M,U)}}else P[L]=function(){};return P[L]},f.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=m,f.isBoolean=_,f.isNull=x,f.isNullOrUndefined=function(L){return L==null},f.isNumber=C,f.isString=S,f.isSymbol=function(L){return typeof L=="symbol"},f.isUndefined=O,f.isRegExp=N,f.isObject=F,f.isDate=V,f.isError=Q,f.isFunction=ee,f.isPrimitive=function(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||L===void 0},f.isBuffer=d(384);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var L=new Date,M=[j(L.getHours()),j(L.getMinutes()),j(L.getSeconds())].join(":");return[L.getDate(),T[L.getMonth()],M].join(" ")}function R(L,M){return Object.prototype.hasOwnProperty.call(L,M)}f.log=function(){console.log("%s - %s",I(),f.format.apply(f,arguments))},f.inherits=d(717),f._extend=function(L,M){if(!M||!F(M))return L;for(var U=Object.keys(M),H=U.length;H--;)L[U[H]]=M[U[H]];return L}}},r={};function i(a){var f=r[a];if(f!==void 0)return f.exports;var d=r[a]={exports:{}};return n[a].call(d.exports,d,d.exports,i),d.exports}i.n=a=>{var f=a&&a.__esModule?()=>a.default:()=>a;return i.d(f,{a:f}),f},i.d=(a,f)=>{for(var d in f)i.o(f,d)&&!i.o(a,d)&&Object.defineProperty(a,d,{enumerable:!0,get:f[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,f)=>Object.prototype.hasOwnProperty.call(a,f),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{LSPluginUser:()=>Ss,setupPluginUserInstance:()=>oc});var a=i(520),f=(i(856),i(996)),d=i.n(f),v=function(){return v=Object.assign||function(p){for(var u,k=1,E=arguments.length;k<E;k++)for(var D in u=arguments[k])Object.prototype.hasOwnProperty.call(u,D)&&(p[D]=u[D]);return p},v.apply(this,arguments)};function w(p){return p.toLowerCase()}var g=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],P=/[^A-Z0-9]+/gi;function b(p,u,k){return u instanceof RegExp?p.replace(u,k):u.reduce(function(E,D){return E.replace(D,k)},p)}function l(p,u){return u===void 0&&(u={}),function(k,E){E===void 0&&(E={});for(var D=E.splitRegexp,z=D===void 0?g:D,B=E.stripRegexp,$=B===void 0?P:B,Z=E.transform,oe=Z===void 0?w:Z,se=E.delimiter,ie=se===void 0?" ":se,ce=b(b(k,z,"$1\0$2"),$,"\0"),_e=0,fe=ce.length;ce.charAt(_e)==="\0";)_e++;for(;ce.charAt(fe-1)==="\0";)fe--;return ce.slice(_e,fe).split("\0").map(oe).join(ie)}(p,v({delimiter:"."},u))}var h=i(729),y=i.n(h);function c(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const s=navigator.platform.toLowerCase()==="win32"?a.win32:a.posix,m=function(p,u){return u===void 0&&(u={}),l(p,v({delimiter:"_"},u))};class _ extends y(){constructor(u,k){super(),c(this,"_tag",void 0),c(this,"_opts",void 0),c(this,"_logs",[]),this._tag=u,this._opts=k}write(u,k,E){var D;k!=null&&k.length&&k[k.length-1]===!0&&(E=!0,k.pop());const z=k.reduce(($,Z)=>(Z&&Z instanceof Error?$+=`${Z.message} ${Z.stack}`:$+=Z.toString(),$),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var B;this._logs.push([u,z]),(E||(D=this._opts)!==null&&D!==void 0&&D.console)&&((B=console)===null||B===void 0||B[u==="ERROR"?"error":"debug"](`${u}: ${z}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...u){this.write("INFO",u)}error(...u){this.write("ERROR",u)}warn(...u){this.write("WARN",u)}setTag(u){this._tag=u}toJSON(){return this._logs}}function x(p,...u){try{const k=new URL(p);if(!k.origin)throw new Error(null);const E=s.join(p.substr(k.origin.length),...u);return k.origin+E}catch{return s.join(p,...u)}}function C(p,u){let k,E,D=!1;const z=$=>Z=>{p&&clearTimeout(p),$(Z),D=!0},B=new Promise(($,Z)=>{k=z($),E=z(Z),p&&(p=setTimeout(()=>E(new Error(`[deferred timeout] ${u}`)),p))});return{created:Date.now(),setTag:$=>u=$,resolve:k,reject:E,promise:B,get settled(){return D}}}const S=new Map;window.__injectedUIEffects=S;var O=i(227),N=i.n(O);function F(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const V="application/x-postmate-v1+json";let Q=0;const ee={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ae=(p,u)=>(typeof u!="string"||p.origin===u)&&!!p.data&&(typeof p.data!="object"||"postmate"in p.data)&&p.data.type===V&&!!ee[p.data.postmate];class j{constructor(u){F(this,"parent",void 0),F(this,"frame",void 0),F(this,"child",void 0),F(this,"events",{}),F(this,"childOrigin",void 0),F(this,"listener",void 0),this.parent=u.parent,this.frame=u.frame,this.child=u.child,this.childOrigin=u.childOrigin,this.listener=k=>{if(!ae(k,this.childOrigin))return!1;const{data:E,name:D}=((k||{}).data||{}).value||{};k.data.postmate==="emit"&&D in this.events&&this.events[D].forEach(z=>{z.call(this,E)})},this.parent.addEventListener("message",this.listener,!1)}get(u,...k){return new Promise((E,D)=>{const z=++Q,B=$=>{$.data.uid===z&&$.data.postmate==="reply"&&(this.parent.removeEventListener("message",B,!1),$.data.error?D($.data.error):E($.data.value))};this.parent.addEventListener("message",B,!1),this.child.postMessage({postmate:"request",type:V,property:u,args:k,uid:z},this.childOrigin)})}call(u,k){this.child.postMessage({postmate:"call",type:V,property:u,data:k},this.childOrigin)}on(u,k){this.events[u]||(this.events[u]=[]),this.events[u].push(k)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class T{constructor(u){F(this,"model",void 0),F(this,"parent",void 0),F(this,"parentOrigin",void 0),F(this,"child",void 0),this.model=u.model,this.parent=u.parent,this.parentOrigin=u.parentOrigin,this.child=u.child,this.child.addEventListener("message",k=>{if(!ae(k,this.parentOrigin))return;const{property:E,uid:D,data:z,args:B}=k.data;k.data.postmate!=="call"?(($,Z,oe)=>{const se=typeof $[Z]=="function"?$[Z].apply(null,oe):$[Z];return Promise.resolve(se)})(this.model,E,B).then($=>{k.source.postMessage({property:E,postmate:"reply",type:V,uid:D,value:$},k.origin)}).catch($=>{k.source.postMessage({property:E,postmate:"reply",type:V,uid:D,error:$},k.origin)}):E in this.model&&typeof this.model[E]=="function"&&this.model[E](z)})}emit(u,k){this.parent.postMessage({postmate:"emit",type:V,value:{name:u,data:k}},this.parentOrigin)}}class I{constructor(u){F(this,"container",void 0),F(this,"parent",void 0),F(this,"frame",void 0),F(this,"child",void 0),F(this,"childOrigin",void 0),F(this,"url",void 0),F(this,"model",void 0),this.container=u.container,this.url=u.url,this.parent=window,this.frame=document.createElement("iframe"),u.id&&(this.frame.id=u.id),u.name&&(this.frame.name=u.name),this.frame.classList.add.apply(this.frame.classList,u.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=u.model||{}}sendHandshake(u){const k=(z=>{const B=document.createElement("a");B.href=z;const $=B.protocol.length>4?B.protocol:window.location.protocol,Z=B.host.length?B.port==="80"||B.port==="443"?B.hostname:B.host:window.location.host;return B.origin||`${$}//${Z}`})(u=u||this.url);let E,D=0;return new Promise((z,B)=>{const $=oe=>!!ae(oe,k)&&(oe.data.postmate==="handshake-reply"?(clearInterval(E),this.parent.removeEventListener("message",$,!1),this.childOrigin=oe.origin,z(new j(this))):B("Failed handshake"));this.parent.addEventListener("message",$,!1);const Z=()=>{D++,this.child.postMessage({postmate:"handshake",type:V,model:this.model},k),D===5&&clearInterval(E)};this.frame.addEventListener("load",()=>{Z(),E=setInterval(Z,500)}),this.frame.src=u})}destroy(){this.frame.parentNode.removeChild(this.frame)}}F(I,"debug",!1),F(I,"Model",void 0);class R{constructor(u){F(this,"child",void 0),F(this,"model",void 0),F(this,"parent",void 0),F(this,"parentOrigin",void 0),this.child=window,this.model=u,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((u,k)=>{const E=D=>{if(D.data.postmate){if(D.data.postmate==="handshake"){this.child.removeEventListener("message",E,!1),D.source.postMessage({postmate:"handshake-reply",type:V},D.origin),this.parentOrigin=D.origin;const z=D.data.model;return z&&Object.keys(z).forEach(B=>{this.model[B]=z[B]}),u(new T(this))}return k("Handshake Reply Failed")}};this.child.addEventListener("message",E,!1)})}}function L(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const{importHTML:M,createSandboxContainer:U}=window.QSandbox||{};function H(p,u){return p.startsWith("http")?fetch(p,u):(p=p.replace("file://",""),new Promise(async(k,E)=>{try{const D=await window.apis.doAction(["readFile",p]);k({text:()=>D})}catch(D){console.error(D),E(D)}}))}class q extends y(){constructor(u){super(),L(this,"_pluginLocal",void 0),L(this,"_frame",void 0),L(this,"_root",void 0),L(this,"_loaded",!1),L(this,"_unmountFns",[]),this._pluginLocal=u,u._dispose(()=>{this._unmount()})}async load(){const{name:u,entry:k}=this._pluginLocal.options;if(this.loaded||!k)return;const{template:E,execScripts:D}=await M(k,{fetch:H});this._mount(E,document.body);const z=U(u,{elementGetter:()=>{var $;return($=this._root)===null||$===void 0?void 0:$.firstChild}}).instance.proxy;z.__shadow_mode__=!0,z.LSPluginLocal=this._pluginLocal,z.LSPluginShadow=this,z.LSPluginUser=z.logseq=new Ss(this._pluginLocal.toJSON(),this._pluginLocal.caller);const B=await D(z,!0);this._unmountFns.push(B.unmount),this._loaded=!0}_mount(u,k){const E=this._frame=document.createElement("div");E.classList.add("lsp-shadow-sandbox"),E.id=this._pluginLocal.id,this._root=E.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${u}</div>`,k.appendChild(E),this.emit("mounted")}_unmount(){for(const u of this._unmountFns)u&&u.call(null)}destroy(){var u,k;(u=this.frame)===null||u===void 0||(k=u.parentNode)===null||k===void 0||k.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}get frame(){return this._frame}}function W(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const G=N()("LSPlugin:caller"),re="#await#response#",le="#lspmsg#",he="#lspmsg#error#",pe=p=>`#lspmsg#${p}`;class Fe extends y(){constructor(u){super(),W(this,"_pluginLocal",void 0),W(this,"_connected",!1),W(this,"_parent",void 0),W(this,"_child",void 0),W(this,"_shadow",void 0),W(this,"_status",void 0),W(this,"_userModel",{}),W(this,"_call",void 0),W(this,"_callUserModel",void 0),W(this,"_debugTag",""),this._pluginLocal=u,u&&(this._debugTag=u.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:u}=this._pluginLocal;u?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(u={}){if(this._connected)return;const k=this,E=this._pluginLocal!=null;let D=0;const z=new Map,B=C(6e4),$=this._extendUserModel({"#lspmsg#ready#":async se=>{$[pe(se?.pid)]=({type:ie,payload:ce})=>{G(`[host (_call) -> *user] ${this._debugTag}`,ie,ce),k.emit(ie,ce)},await B.resolve()},"#lspmsg#beforeunload#":async se=>{const ie=C(1e4);k.emit("beforeunload",Object.assign({actor:ie},se)),await ie.promise},"#lspmsg#settings#":async({type:se,payload:ie})=>{k.emit("settings:changed",ie)},[le]:async({ns:se,type:ie,payload:ce})=>{G(`[host (async) -> *user] ${this._debugTag} ns=${se} type=${ie}`,ce),se&&se.startsWith("hook")?k.emit(`${se}:${ie}`,ce):k.emit(ie,ce)},"#lspmsg#reply#":({_sync:se,result:ie})=>{if(G(`[sync host -> *user] #${se}`,ie),z.has(se)){const ce=z.get(se);ce&&(ie!=null&&ie.hasOwnProperty(he)?ce.reject(ie[he]):ce.resolve(ie),z.delete(se))}},...u});var Z;if(E)return await B.promise,JSON.parse(JSON.stringify((Z=this._pluginLocal)===null||Z===void 0?void 0:Z.toJSON()));const oe=new R($).sendHandshakeReply();return this._status="pending",await oe.then(se=>{this._child=se,this._connected=!0,this._call=async(ie,ce={},_e)=>{if(_e){const fe=++D;z.set(fe,_e),ce._sync=fe,_e.setTag(`async call #${fe}`),G(`async call #${fe}`)}return se.emit(pe($.baseInfo.id),{type:ie,payload:ce}),_e?.promise},this._callUserModel=async(ie,ce)=>{try{$[ie](ce)}catch{G(`[model method] #${ie} not existed`)}},setInterval(()=>{if(z.size>100)for(const[ie,ce]of z)ce.settled&&z.delete(ie)},18e5)}).finally(()=>{this._status=void 0}),await B.promise,$.baseInfo}async call(u,k={}){var E;return(E=this._call)===null||E===void 0?void 0:E.call(this,u,k)}async callAsync(u,k={}){var E;const D=C(1e4);return(E=this._call)===null||E===void 0?void 0:E.call(this,u,k,D)}async callUserModel(u,...k){var E;return(E=this._callUserModel)===null||E===void 0?void 0:E.apply(this,[u,...k])}async callUserModelAsync(u,...k){var E;return u=`${re}${u}`,(E=this._callUserModel)===null||E===void 0?void 0:E.apply(this,[u,...k])}async _setupIframeSandbox(){const u=this._pluginLocal,k=u.id,E=`${k}_lsp_main`,D=new URL(u.options.entry);D.searchParams.set("__v__",u.options.version);const z=document.querySelector(`#${E}`);z&&z.parentElement.removeChild(z);const B=document.createElement("div");B.classList.add("lsp-iframe-sandbox-container"),B.id=E,B.dataset.pid=k;try{var $;const ie=($=await this._pluginLocal._loadLayoutsData())===null||$===void 0?void 0:$.$$0;if(ie){B.dataset.inited_layout="true";let{width:ce,height:_e,left:fe,top:Pe,vw:Oe,vh:Qe}=ie;fe=Math.max(fe,0),fe=typeof Oe=="number"?`${Math.min(100*fe/Oe,99)}%`:`${fe}px`,Pe=Math.max(Pe,45),Pe=typeof Qe=="number"?`${Math.min(100*Pe/Qe,99)}%`:`${Pe}px`,Object.assign(B.style,{width:ce+"px",height:_e+"px",left:fe,top:Pe})}}catch(ie){console.error("[Restore Layout Error]",ie)}document.body.appendChild(B);const Z=new I({id:k+"_iframe",container:B,url:D.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(u.toJSON()))}});let oe,se=Z.sendHandshake();return this._status="pending",new Promise((ie,ce)=>{oe=setTimeout(()=>{ce(new Error("handshake Timeout")),Z.destroy()},4e3),se.then(_e=>{this._parent=_e,this._connected=!0,this.emit("connected"),_e.on(pe(u.id),({type:fe,payload:Pe})=>{var Oe,Qe;G("[user -> *host] ",fe,Pe),(Oe=this._pluginLocal)===null||Oe===void 0||Oe.emit(fe,Pe||{}),(Qe=this._pluginLocal)===null||Qe===void 0||Qe.caller.emit(fe,Pe||{})}),this._call=async(...fe)=>{await _e.call(pe(u.id),{type:fe[0],payload:Object.assign(fe[1]||{},{$$pid:u.id})})},this._callUserModel=async(fe,...Pe)=>{if(fe.startsWith(re))return await _e.get(fe.replace(re,""),...Pe);_e.call(fe,Pe?.[0])},ie(null)}).catch(_e=>{ce(_e)}).finally(()=>{clearTimeout(oe)})}).catch(ie=>{throw G("[iframe sandbox] error",ie),ie}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const u=this._pluginLocal,k=this._shadow=new q(u);try{this._status="pending",await k.load(),this._connected=!0,this.emit("connected"),this._call=async(E,D={},z)=>{var B;return z&&(D.actor=z),(B=this._pluginLocal)===null||B===void 0||B.emit(E,Object.assign(D,{$$pid:u.id})),z?.promise},this._callUserModel=async(...E)=>{var D;let z=E[0];(D=z)!==null&&D!==void 0&&D.startsWith(re)&&(z=z.replace(re,""));const B=E[1]||{},$=this._userModel[z];typeof $=="function"&&await $.call(null,B)}}catch(E){throw G("[shadow sandbox] error",E),E}finally{this._status=void 0}}_extendUserModel(u){return Object.assign(this._userModel,u)}_getSandboxIframeContainer(){var u;return(u=this._parent)===null||u===void 0?void 0:u.frame.parentNode}_getSandboxShadowContainer(){var u;return(u=this._shadow)===null||u===void 0?void 0:u.frame.parentNode}_getSandboxIframeRoot(){var u;return(u=this._parent)===null||u===void 0?void 0:u.frame}_getSandboxShadowRoot(){var u;return(u=this._shadow)===null||u===void 0?void 0:u.frame}set debugTag(u){this._debugTag=u}async destroy(){var u;let k=null;this._parent&&(k=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(k=this._getSandboxShadowContainer(),this._shadow.destroy()),(u=k)===null||u===void 0||u.parentNode.removeChild(k)}}function ge(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}class ke{constructor(u,k){ge(this,"ctx",void 0),ge(this,"opts",void 0),this.ctx=u,this.opts=k}get ctxId(){return this.ctx.baseInfo.id}setItem(u,k){var E;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,u,k,(E=this.opts)===null||E===void 0?void 0:E.assets]})}getItem(u){var k;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,u,(k=this.opts)===null||k===void 0?void 0:k.assets]})}removeItem(u){var k;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,u,(k=this.opts)===null||k===void 0?void 0:k.assets]})}allKeys(){var u;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(u=this.opts)===null||u===void 0?void 0:u.assets]})}clear(){var u;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(u=this.opts)===null||u===void 0?void 0:u.assets]})}hasItem(u){var k;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,u,(k=this.opts)===null||k===void 0?void 0:k.assets]})}}class Ne{constructor(u){var k,E,D;D=void 0,(E="ctx")in(k=this)?Object.defineProperty(k,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[E]=D,this.ctx=u}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(u,...k){var E,D;const z=this.ensureHostScope();return u=(E=m(u))===null||E===void 0?void 0:E.toLowerCase(),(D=z.logseq.api["exper_"+u])===null||D===void 0?void 0:D.apply(z,k)}async loadScripts(...u){(u=u.map(k=>k!=null&&k.startsWith("http")?k:this.ctx.resolveResourceFullUrl(k))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...u)}registerFencedCodeRenderer(u,k){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,u,k)}registerExtensionsEnhancer(u,k){const E=this.ensureHostScope();return u==="katex"&&E.katex&&k(E.katex).catch(console.error),E.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,u,k)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Ee(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const Ze=p=>`task_callback_${p}`;class Se{constructor(u,k,E={}){Ee(this,"_client",void 0),Ee(this,"_requestId",void 0),Ee(this,"_requestOptions",void 0),Ee(this,"_promise",void 0),Ee(this,"_aborted",!1),this._client=u,this._requestId=k,this._requestOptions=E,this._promise=new Promise(($,Z)=>{if(!this._requestId)return Z(null);this._client.once(Ze(this._requestId),oe=>{oe&&oe instanceof Error?Z(oe):$(oe)})});const{success:D,fail:z,final:B}=this._requestOptions;this._promise.then($=>{D?.($)}).catch($=>{z?.($)}).finally(()=>{B?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class ye extends h.EventEmitter{constructor(u){super(),Ee(this,"_ctx",void 0),this._ctx=u,this.ctx.caller.on("#lsp#request#callback",k=>{const E=k?.requestId;E&&this.emit(Ze(E),k?.payload)})}static createRequestTask(u,k,E){return new Se(u,k,E)}async _request(u){const k=this.ctx.baseInfo.id,{success:E,fail:D,final:z,...B}=u,$=this.ctx.Experiments.invokeExperMethod("request",k,B),Z=ye.createRequestTask(this.ctx.Request,$,u);return B.abortable?Z:Z.promise}get ctx(){return this._ctx}}const de=Array.isArray,Te=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi;var nt=typeof self=="object"&&self&&self.Object===Object&&self;const $e=Te||nt||Function("return this")(),rt=$e.Symbol;var ft=Object.prototype,Yt=ft.hasOwnProperty,bn=ft.toString,Zt=rt?rt.toStringTag:void 0;const ts=function(p){var u=Yt.call(p,Zt),k=p[Zt];try{p[Zt]=void 0;var E=!0}catch{}var D=bn.call(p);return E&&(u?p[Zt]=k:delete p[Zt]),D};var po=Object.prototype.toString;const Y=function(p){return po.call(p)};var te=rt?rt.toStringTag:void 0;const ue=function(p){return p==null?p===void 0?"[object Undefined]":"[object Null]":te&&te in Object(p)?ts(p):Y(p)},me=function(p){var u=typeof p;return p!=null&&(u=="object"||u=="function")},Ve=function(p){if(!me(p))return!1;var u=ue(p);return u=="[object Function]"||u=="[object GeneratorFunction]"||u=="[object AsyncFunction]"||u=="[object Proxy]"},Dt=$e["__core-js_shared__"];var Jt,xn=(Jt=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+Jt:"";const ci=function(p){return!!xn&&xn in p};var mo=Function.prototype.toString;const un=function(p){if(p!=null){try{return mo.call(p)}catch{}try{return p+""}catch{}}return""};var ns=/^\[object .+?Constructor\]$/,rs=Function.prototype,is=Object.prototype,Pr=rs.toString,os=is.hasOwnProperty,as=RegExp("^"+Pr.call(os).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ss=function(p){return!(!me(p)||ci(p))&&(Ve(p)?as:ns).test(un(p))},di=function(p,u){return p?.[u]},jt=function(p,u){var k=di(p,u);return ss(k)?k:void 0},zt=function(){try{var p=jt(Object,"defineProperty");return p({},"",{}),p}catch{}}(),vo=function(p,u,k){u=="__proto__"&&zt?zt(p,u,{configurable:!0,enumerable:!0,value:k,writable:!0}):p[u]=k},Cr=function(p){return function(u,k,E){for(var D=-1,z=Object(u),B=E(u),$=B.length;$--;){var Z=B[p?$:++D];if(k(z[Z],Z,z)===!1)break}return u}}(),fi=function(p,u){for(var k=-1,E=Array(p);++k<p;)E[k]=u(k);return E},Pn=function(p){return p!=null&&typeof p=="object"},yo=function(p){return Pn(p)&&ue(p)=="[object Arguments]"};var go=Object.prototype,ls=go.hasOwnProperty,_o=go.propertyIsEnumerable;const bt=yo(function(){return arguments}())?yo:function(p){return Pn(p)&&ls.call(p,"callee")&&!_o.call(p,"callee")},tr=function(){return!1};var en=t&&!t.nodeType&&t,Tr=en&&!0&&e&&!e.nodeType&&e,Er=Tr&&Tr.exports===en?$e.Buffer:void 0;const hi=(Er?Er.isBuffer:void 0)||tr;var us=/^(?:0|[1-9]\d*)$/;const wo=function(p,u){var k=typeof p;return!!(u=u??9007199254740991)&&(k=="number"||k!="symbol"&&us.test(p))&&p>-1&&p%1==0&&p<u},Or=function(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=9007199254740991};var be={};be["[object Float32Array]"]=be["[object Float64Array]"]=be["[object Int8Array]"]=be["[object Int16Array]"]=be["[object Int32Array]"]=be["[object Uint8Array]"]=be["[object Uint8ClampedArray]"]=be["[object Uint16Array]"]=be["[object Uint32Array]"]=!0,be["[object Arguments]"]=be["[object Array]"]=be["[object ArrayBuffer]"]=be["[object Boolean]"]=be["[object DataView]"]=be["[object Date]"]=be["[object Error]"]=be["[object Function]"]=be["[object Map]"]=be["[object Number]"]=be["[object Object]"]=be["[object RegExp]"]=be["[object Set]"]=be["[object String]"]=be["[object WeakMap]"]=!1;const We=function(p){return Pn(p)&&Or(p.length)&&!!be[ue(p)]},ko=function(p){return function(u){return p(u)}};var Ke=t&&!t.nodeType&&t,Cn=Ke&&!0&&e&&!e.nodeType&&e,Ae=Cn&&Cn.exports===Ke&&Te.process,Tn=function(){try{var p=Cn&&Cn.require&&Cn.require("util").types;return p||Ae&&Ae.binding&&Ae.binding("util")}catch{}}(),Lr=Tn&&Tn.isTypedArray;const pi=Lr?ko(Lr):We;var mi=Object.prototype.hasOwnProperty;const So=function(p,u){var k=de(p),E=!k&&bt(p),D=!k&&!E&&hi(p),z=!k&&!E&&!D&&pi(p),B=k||E||D||z,$=B?fi(p.length,String):[],Z=$.length;for(var oe in p)!u&&!mi.call(p,oe)||B&&(oe=="length"||D&&(oe=="offset"||oe=="parent")||z&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||wo(oe,Z))||$.push(oe);return $};var En=Object.prototype;const cn=function(p){var u=p&&p.constructor;return p===(typeof u=="function"&&u.prototype||En)},vi=function(p,u){return function(k){return p(u(k))}}(Object.keys,Object);var yi=Object.prototype.hasOwnProperty;const On=function(p){if(!cn(p))return vi(p);var u=[];for(var k in Object(p))yi.call(p,k)&&k!="constructor"&&u.push(k);return u},Fr=function(p){return p!=null&&Or(p.length)&&!Ve(p)},Ln=function(p){return Fr(p)?So(p):On(p)},bo=function(p,u){return p&&Cr(p,u,Ln)},gi=function(){this.__data__=[],this.size=0},Fn=function(p,u){return p===u||p!=p&&u!=u},Ut=function(p,u){for(var k=p.length;k--;)if(Fn(p[k][0],u))return k;return-1};var Rn=Array.prototype.splice;const xo=function(p){var u=this.__data__,k=Ut(u,p);return!(k<0)&&(k==u.length-1?u.pop():Rn.call(u,k,1),--this.size,!0)},Po=function(p){var u=this.__data__,k=Ut(u,p);return k<0?void 0:u[k][1]},Co=function(p){return Ut(this.__data__,p)>-1},_i=function(p,u){var k=this.__data__,E=Ut(k,p);return E<0?(++this.size,k.push([p,u])):k[E][1]=u,this};function dn(p){var u=-1,k=p==null?0:p.length;for(this.clear();++u<k;){var E=p[u];this.set(E[0],E[1])}}dn.prototype.clear=gi,dn.prototype.delete=xo,dn.prototype.get=Po,dn.prototype.has=Co,dn.prototype.set=_i;const In=dn,wi=function(){this.__data__=new In,this.size=0},tn=function(p){var u=this.__data__,k=u.delete(p);return this.size=u.size,k},Rr=function(p){return this.__data__.get(p)},To=function(p){return this.__data__.has(p)},nr=jt($e,"Map"),rr=jt(Object,"create"),An=function(){this.__data__=rr?rr(null):{},this.size=0},cs=function(p){var u=this.has(p)&&delete this.__data__[p];return this.size-=u?1:0,u};var Eo=Object.prototype.hasOwnProperty;const ki=function(p){var u=this.__data__;if(rr){var k=u[p];return k==="__lodash_hash_undefined__"?void 0:k}return Eo.call(u,p)?u[p]:void 0};var Oo=Object.prototype.hasOwnProperty;const Lo=function(p){var u=this.__data__;return rr?u[p]!==void 0:Oo.call(u,p)},ds=function(p,u){var k=this.__data__;return this.size+=this.has(p)?0:1,k[p]=rr&&u===void 0?"__lodash_hash_undefined__":u,this};function Vt(p){var u=-1,k=p==null?0:p.length;for(this.clear();++u<k;){var E=p[u];this.set(E[0],E[1])}}Vt.prototype.clear=An,Vt.prototype.delete=cs,Vt.prototype.get=ki,Vt.prototype.has=Lo,Vt.prototype.set=ds;const Ir=Vt,fs=function(){this.size=0,this.__data__={hash:new Ir,map:new(nr||In),string:new Ir}},Bt=function(p){var u=typeof p;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?p!=="__proto__":p===null},ir=function(p,u){var k=p.__data__;return Bt(u)?k[typeof u=="string"?"string":"hash"]:k.map},Fo=function(p){var u=ir(this,p).delete(p);return this.size-=u?1:0,u},Ro=function(p){return ir(this,p).get(p)},hs=function(p){return ir(this,p).has(p)},or=function(p,u){var k=ir(this,p),E=k.size;return k.set(p,u),this.size+=k.size==E?0:1,this};function st(p){var u=-1,k=p==null?0:p.length;for(this.clear();++u<k;){var E=p[u];this.set(E[0],E[1])}}st.prototype.clear=fs,st.prototype.delete=Fo,st.prototype.get=Ro,st.prototype.has=hs,st.prototype.set=or;const ar=st,Io=function(p,u){var k=this.__data__;if(k instanceof In){var E=k.__data__;if(!nr||E.length<199)return E.push([p,u]),this.size=++k.size,this;k=this.__data__=new ar(E)}return k.set(p,u),this.size=k.size,this};function fn(p){var u=this.__data__=new In(p);this.size=u.size}fn.prototype.clear=wi,fn.prototype.delete=tn,fn.prototype.get=Rr,fn.prototype.has=To,fn.prototype.set=Io;const sr=fn,ps=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this},A=function(p){return this.__data__.has(p)};function J(p){var u=-1,k=p==null?0:p.length;for(this.__data__=new ar;++u<k;)this.add(p[u])}J.prototype.add=J.prototype.push=ps,J.prototype.has=A;const X=J,xe=function(p,u){for(var k=-1,E=p==null?0:p.length;++k<E;)if(u(p[k],k,p))return!0;return!1},De=function(p,u){return p.has(u)},Je=function(p,u,k,E,D,z){var B=1&k,$=p.length,Z=u.length;if($!=Z&&!(B&&Z>$))return!1;var oe=z.get(p),se=z.get(u);if(oe&&se)return oe==u&&se==p;var ie=-1,ce=!0,_e=2&k?new X:void 0;for(z.set(p,u),z.set(u,p);++ie<$;){var fe=p[ie],Pe=u[ie];if(E)var Oe=B?E(Pe,fe,ie,u,p,z):E(fe,Pe,ie,p,u,z);if(Oe!==void 0){if(Oe)continue;ce=!1;break}if(_e){if(!xe(u,function(Qe,Lt){if(!De(_e,Lt)&&(fe===Qe||D(fe,Qe,k,E,z)))return _e.push(Lt)})){ce=!1;break}}else if(fe!==Pe&&!D(fe,Pe,k,E,z)){ce=!1;break}}return z.delete(p),z.delete(u),ce},qe=$e.Uint8Array,lr=function(p){var u=-1,k=Array(p.size);return p.forEach(function(E,D){k[++u]=[D,E]}),k},nn=function(p){var u=-1,k=Array(p.size);return p.forEach(function(E){k[++u]=E}),k};var yt=rt?rt.prototype:void 0,Si=yt?yt.valueOf:void 0;const Mu=function(p,u,k,E,D,z,B){switch(k){case"[object DataView]":if(p.byteLength!=u.byteLength||p.byteOffset!=u.byteOffset)return!1;p=p.buffer,u=u.buffer;case"[object ArrayBuffer]":return!(p.byteLength!=u.byteLength||!z(new qe(p),new qe(u)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fn(+p,+u);case"[object Error]":return p.name==u.name&&p.message==u.message;case"[object RegExp]":case"[object String]":return p==u+"";case"[object Map]":var $=lr;case"[object Set]":var Z=1&E;if($||($=nn),p.size!=u.size&&!Z)return!1;var oe=B.get(p);if(oe)return oe==u;E|=2,B.set(p,u);var se=Je($(p),$(u),E,D,z,B);return B.delete(p),se;case"[object Symbol]":if(Si)return Si.call(p)==Si.call(u)}return!1},Ah=function(p,u){for(var k=-1,E=u.length,D=p.length;++k<E;)p[D+k]=u[k];return p},Mh=function(p,u,k){var E=u(p);return de(p)?E:Ah(E,k(p))},Nh=function(p,u){for(var k=-1,E=p==null?0:p.length,D=0,z=[];++k<E;){var B=p[k];u(B,k,p)&&(z[D++]=B)}return z},Dh=function(){return[]};var jh=Object.prototype.propertyIsEnumerable,Nu=Object.getOwnPropertySymbols;const zh=Nu?function(p){return p==null?[]:(p=Object(p),Nh(Nu(p),function(u){return jh.call(p,u)}))}:Dh,Du=function(p){return Mh(p,Ln,zh)};var Uh=Object.prototype.hasOwnProperty;const Vh=function(p,u,k,E,D,z){var B=1&k,$=Du(p),Z=$.length;if(Z!=Du(u).length&&!B)return!1;for(var oe=Z;oe--;){var se=$[oe];if(!(B?se in u:Uh.call(u,se)))return!1}var ie=z.get(p),ce=z.get(u);if(ie&&ce)return ie==u&&ce==p;var _e=!0;z.set(p,u),z.set(u,p);for(var fe=B;++oe<Z;){var Pe=p[se=$[oe]],Oe=u[se];if(E)var Qe=B?E(Oe,Pe,se,u,p,z):E(Pe,Oe,se,p,u,z);if(!(Qe===void 0?Pe===Oe||D(Pe,Oe,k,E,z):Qe)){_e=!1;break}fe||(fe=se=="constructor")}if(_e&&!fe){var Lt=p.constructor,cr=u.constructor;Lt==cr||!("constructor"in p)||!("constructor"in u)||typeof Lt=="function"&&Lt instanceof Lt&&typeof cr=="function"&&cr instanceof cr||(_e=!1)}return z.delete(p),z.delete(u),_e},ms=jt($e,"DataView"),vs=jt($e,"Promise"),ys=jt($e,"Set"),gs=jt($e,"WeakMap");var ju="[object Map]",zu="[object Promise]",Uu="[object Set]",Vu="[object WeakMap]",Bu="[object DataView]",Bh=un(ms),Hh=un(nr),$h=un(vs),Wh=un(ys),Kh=un(gs),ur=ue;(ms&&ur(new ms(new ArrayBuffer(1)))!=Bu||nr&&ur(new nr)!=ju||vs&&ur(vs.resolve())!=zu||ys&&ur(new ys)!=Uu||gs&&ur(new gs)!=Vu)&&(ur=function(p){var u=ue(p),k=u=="[object Object]"?p.constructor:void 0,E=k?un(k):"";if(E)switch(E){case Bh:return Bu;case Hh:return ju;case $h:return zu;case Wh:return Uu;case Kh:return Vu}return u});const Hu=ur;var $u="[object Arguments]",Wu="[object Array]",Ao="[object Object]",Ku=Object.prototype.hasOwnProperty;const qh=function(p,u,k,E,D,z){var B=de(p),$=de(u),Z=B?Wu:Hu(p),oe=$?Wu:Hu(u),se=(Z=Z==$u?Ao:Z)==Ao,ie=(oe=oe==$u?Ao:oe)==Ao,ce=Z==oe;if(ce&&hi(p)){if(!hi(u))return!1;B=!0,se=!1}if(ce&&!se)return z||(z=new sr),B||pi(p)?Je(p,u,k,E,D,z):Mu(p,u,Z,k,E,D,z);if(!(1&k)){var _e=se&&Ku.call(p,"__wrapped__"),fe=ie&&Ku.call(u,"__wrapped__");if(_e||fe){var Pe=_e?p.value():p,Oe=fe?u.value():u;return z||(z=new sr),D(Pe,Oe,k,E,z)}}return!!ce&&(z||(z=new sr),Vh(p,u,k,E,D,z))},qu=function p(u,k,E,D,z){return u===k||(u==null||k==null||!Pn(u)&&!Pn(k)?u!=u&&k!=k:qh(u,k,E,D,p,z))},Qh=function(p,u,k,E){var D=k.length,z=D,B=!E;if(p==null)return!z;for(p=Object(p);D--;){var $=k[D];if(B&&$[2]?$[1]!==p[$[0]]:!($[0]in p))return!1}for(;++D<z;){var Z=($=k[D])[0],oe=p[Z],se=$[1];if(B&&$[2]){if(oe===void 0&&!(Z in p))return!1}else{var ie=new sr;if(E)var ce=E(oe,se,Z,p,u,ie);if(!(ce===void 0?qu(se,oe,3,E,ie):ce))return!1}}return!0},Qu=function(p){return p==p&&!me(p)},Gh=function(p){for(var u=Ln(p),k=u.length;k--;){var E=u[k],D=p[E];u[k]=[E,D,Qu(D)]}return u},Gu=function(p,u){return function(k){return k!=null&&k[p]===u&&(u!==void 0||p in Object(k))}},Xh=function(p){var u=Gh(p);return u.length==1&&u[0][2]?Gu(u[0][0],u[0][1]):function(k){return k===p||Qh(k,p,u)}},_s=function(p){return typeof p=="symbol"||Pn(p)&&ue(p)=="[object Symbol]"};var Yh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zh=/^\w*$/;const ws=function(p,u){if(de(p))return!1;var k=typeof p;return!(k!="number"&&k!="symbol"&&k!="boolean"&&p!=null&&!_s(p))||Zh.test(p)||!Yh.test(p)||u!=null&&p in Object(u)};function ks(p,u){if(typeof p!="function"||u!=null&&typeof u!="function")throw new TypeError("Expected a function");var k=function(){var E=arguments,D=u?u.apply(this,E):E[0],z=k.cache;if(z.has(D))return z.get(D);var B=p.apply(this,E);return k.cache=z.set(D,B)||z,B};return k.cache=new(ks.Cache||ar),k}ks.Cache=ar;const Jh=ks;var ep=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tp=/\\(\\)?/g;const np=function(p){var u=Jh(p,function(E){return k.size===500&&k.clear(),E}),k=u.cache;return u}(function(p){var u=[];return p.charCodeAt(0)===46&&u.push(""),p.replace(ep,function(k,E,D,z){u.push(D?z.replace(tp,"$1"):E||k)}),u}),rp=function(p,u){for(var k=-1,E=p==null?0:p.length,D=Array(E);++k<E;)D[k]=u(p[k],k,p);return D};var Xu=rt?rt.prototype:void 0,Yu=Xu?Xu.toString:void 0;const ip=function p(u){if(typeof u=="string")return u;if(de(u))return rp(u,p)+"";if(_s(u))return Yu?Yu.call(u):"";var k=u+"";return k=="0"&&1/u==-1/0?"-0":k},op=function(p){return p==null?"":ip(p)},Zu=function(p,u){return de(p)?p:ws(p,u)?[p]:np(op(p))},Mo=function(p){if(typeof p=="string"||_s(p))return p;var u=p+"";return u=="0"&&1/p==-1/0?"-0":u},Ju=function(p,u){for(var k=0,E=(u=Zu(u,p)).length;p!=null&&k<E;)p=p[Mo(u[k++])];return k&&k==E?p:void 0},ap=function(p,u,k){var E=p==null?void 0:Ju(p,u);return E===void 0?k:E},sp=function(p,u){return p!=null&&u in Object(p)},lp=function(p,u,k){for(var E=-1,D=(u=Zu(u,p)).length,z=!1;++E<D;){var B=Mo(u[E]);if(!(z=p!=null&&k(p,B)))break;p=p[B]}return z||++E!=D?z:!!(D=p==null?0:p.length)&&Or(D)&&wo(B,D)&&(de(p)||bt(p))},up=function(p,u){return p!=null&&lp(p,u,sp)},cp=function(p,u){return ws(p)&&Qu(u)?Gu(Mo(p),u):function(k){var E=ap(k,p);return E===void 0&&E===u?up(k,p):qu(u,E,3)}},dp=function(p){return p},fp=function(p){return function(u){return u?.[p]}},hp=function(p){return function(u){return Ju(u,p)}},pp=function(p){return ws(p)?fp(Mo(p)):hp(p)},mp=function(p){return typeof p=="function"?p:p==null?dp:typeof p=="object"?de(p)?cp(p[0],p[1]):Xh(p):pp(p)},vp=function(p,u){var k={};return u=mp(u),bo(p,function(E,D,z){vo(k,u(E,D,z),E)}),k};function ec(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}class yp{constructor(u,k){ec(this,"ctx",void 0),ec(this,"serviceHooks",void 0),this.ctx=u,this.serviceHooks=k,u._execCallableAPI("register-search-service",u.baseInfo.id,k.name,k.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:E=>(de(E?.blocks)&&(E.blocks=E.blocks.map(D=>D&&vp(D,(z,B)=>`block/${B}`))),E)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([E,D])=>{const z=(B=>`service:search:${B}:${k.name}`)(E);u.caller.on(z,async B=>{if(Ve(k?.[D.f])){let $=null;try{$=await k[D.f].apply(k,(D.args||[]).map(Z=>{if(B){if(Z===!0)return B;if(B.hasOwnProperty(Z)){const oe=B[Z];return delete B[Z],oe}}})),D.transformOutput&&($=D.transformOutput($))}catch(Z){console.error("[SearchService] ",Z),$=Z}finally{D.reply&&u.caller.call(`${z}:reply`,$)}}})})}}function Ht(p,u,k){return u in p?Object.defineProperty(p,u,{value:k,enumerable:!0,configurable:!0,writable:!0}):p[u]=k,p}const gp=Symbol.for("proxy-continue"),_p=N()("LSPlugin:user"),tc=new _("",{console:!0});function Ar(p,u,k){var E;const{key:D,label:z,desc:B,palette:$,keybinding:Z,extras:oe}=u;if(typeof k!="function")return this.logger.error(`${D||z}: command action should be function.`),!1;const se=function(ce){if(typeof ce=="string")return ce.trim().replace(/\s/g,"_").toLowerCase()}(D);if(!se)return this.logger.error(`${z}: command key is required.`),!1;const ie=`SimpleCommandHook${se}${++ic}`;this.Editor["on"+ie](k),(E=this.caller)===null||E===void 0||E.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:se,label:z,type:p,desc:B,keybinding:Z,extras:oe},["editor/hook",ie]],$]})}function nc(p){return!(typeof(u=p)!="string"||u.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(u))||(tc.error(`#${p} is not a valid UUID string.`),!1);var u}let No=null,rc=new Map;const wp={async getInfo(p){return No||(No=await this._execCallableAPIAsync("get-app-info")),typeof p=="string"?No[p]:No},registerCommand:Ar,registerSearchService(p){if(rc.has(p.name))throw new Error(`SearchService: #${p.name} has registered!`);rc.set(p.name,new yp(this,p))},registerCommandPalette(p,u){const{key:k,label:E,keybinding:D}=p;return Ar.call(this,"$palette$",{key:k,label:E,palette:!0,keybinding:D},u)},registerCommandShortcut(p,u,k={}){typeof p=="string"&&(p={mode:"global",binding:p});const{binding:E}=p,D="$shortcut$",z=k.key||D+m(E?.toString());return Ar.call(this,D,{...k,key:z,palette:!1,keybinding:p},u)},registerUIItem(p,u){var k;const E=this.baseInfo.id;(k=this.caller)===null||k===void 0||k.call("api:call",{method:"register-plugin-ui-item",args:[E,p,u]})},registerPageMenuItem(p,u){if(typeof u!="function")return!1;const k=p+"_"+this.baseInfo.id,E=p;Ar.call(this,"page-menu-item",{key:k,label:E},u)},onBlockRendererSlotted(p,u){if(!nc(p))return;const k=this.baseInfo.id,E=`hook:editor:${m(`slot:${p}`)}`;return this.caller.on(E,u),this.App._installPluginHook(k,E),()=>{this.caller.off(E,u),this.App._uninstallPluginHook(k,E)}},invokeExternalPlugin(p,...u){var k;if(!(p=(k=p)===null||k===void 0?void 0:k.trim()))return;let[E,D]=p.split(".");if(!["models","commands"].includes(D?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const z=p.replace(`${E}.${D}.`,"");if(!E||!D||!z)throw new Error(`Illegal type of #${p} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",E,D.toLowerCase(),z,u)},setFullScreen(p){const u=(...k)=>this._callWin("setFullScreen",...k);p==="toggle"?this._callWin("isFullScreen").then(k=>{k?u():u(!0)}):p?u(!0):u()}};let ic=0;const kp={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(p,u){var k;_p("Register slash command #",this.baseInfo.id,p,u),typeof u=="function"&&(u=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",u]]),u=u.map(E=>{const[D,...z]=E;if(D==="editor/hook"){let B=z[0],$=()=>{var oe;(oe=this.caller)===null||oe===void 0||oe.callUserModel(B)};typeof B=="function"&&($=B);const Z=`SlashCommandHook${D}${++ic}`;E[1]=Z,this.Editor["on"+Z]($)}return E}),(k=this.caller)===null||k===void 0||k.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[p,u]]})},registerBlockContextMenuItem(p,u){if(typeof u!="function")return!1;const k=p+"_"+this.baseInfo.id;Ar.call(this,"block-context-menu-item",{key:k,label:p},u)},registerHighlightContextMenuItem(p,u,k){if(typeof u!="function")return!1;const E=p+"_"+this.baseInfo.id;Ar.call(this,"highlight-context-menu-item",{key:E,label:p,extras:k},u)},scrollToBlockInPage(p,u,k){const E="block-content-"+u;k!=null&&k.replaceState?this.App.replaceState("page",{name:p},{anchor:E}):this.App.pushState("page",{name:p},{anchor:E})}},Sp={onBlockChanged(p,u){if(!nc(p))return;const k=this.baseInfo.id,E=`hook:db:${m(`block:${p}`)}`,D=({block:z,txData:B,txMeta:$})=>{z.uuid===p&&u(z,B,$)};return this.caller.on(E,D),this.App._installPluginHook(k,E),()=>{this.caller.off(E,D),this.App._uninstallPluginHook(k,E)}},datascriptQuery(p,...u){return u.pop(),u!=null&&u.some(k=>typeof k=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(p,...u):this._execCallableAPIAsync("datascript_query",p,...u)}},bp={},xp={},Pp={makeSandboxStorage(){return new ke(this,{assets:!0})}};class Ss extends y(){constructor(u,k){super(),Ht(this,"_baseInfo",void 0),Ht(this,"_caller",void 0),Ht(this,"_version","0.0.17"),Ht(this,"_debugTag",""),Ht(this,"_settingsSchema",void 0),Ht(this,"_connected",!1),Ht(this,"_ui",new Map),Ht(this,"_mFileStorage",void 0),Ht(this,"_mRequest",void 0),Ht(this,"_mExperiments",void 0),Ht(this,"_beforeunloadCallback",void 0),this._baseInfo=u,this._caller=k,k.on("sys:ui:visible",E=>{E!=null&&E.toggle&&this.toggleMainUI()}),k.on("settings:changed",E=>{const D=Object.assign({},this.settings),z=Object.assign(this._baseInfo.settings,E);this.emit("settings:changed",{...z},D)}),k.on("beforeunload",async E=>{const{actor:D,...z}=E,B=this._beforeunloadCallback;try{B&&await B(z),D?.resolve(null)}catch($){this.logger.error("[beforeunload] ",$),D?.reject($)}})}async ready(u,k){var E,D;if(!this._connected)try{var z;typeof u=="function"&&(k=u,u={});let B=await this._caller.connectToParent(u);this._connected=!0,E=this._baseInfo,D=B,B=d()(E,D,{arrayMerge:($,Z)=>Z}),this._baseInfo=B,(z=B)!==null&&z!==void 0&&z.id&&(this._debugTag=this._caller.debugTag=`#${B.id} [${B.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(B.settings=function($,Z){const oe=(Z||[]).reduce((se,ie)=>("default"in ie&&(se[ie.key]=ie.default),se),{});return Object.assign(oe,$)}(B.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch($){console.warn($)}k&&k.call(this,B)}catch(B){console.error(`${this._debugTag} [Ready Error]`,B)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(u){typeof u=="function"&&(this._beforeunloadCallback=u)}provideModel(u){return this.caller._extendUserModel(u),this}provideTheme(u){return this.caller.call("provider:theme",u),this}provideStyle(u){return this.caller.call("provider:style",u),this}provideUI(u){return this.caller.call("provider:ui",u),this}useSettingsSchema(u){return this.connected&&this.caller.call("settings:schema",{schema:u,isSync:!0}),this._settingsSchema=u,this}updateSettings(u){this.caller.call("settings:update",u)}onSettingsChanged(u){const k="settings:changed";return this.on(k,u),()=>this.off(k,u)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(u){this.caller.call("main-ui:attrs",u)}setMainUIInlineStyle(u){this.caller.call("main-ui:style",u)}hideMainUI(u){const k={key:0,visible:!1,cursor:u?.restoreEditingCursor};this.caller.call("main-ui:visible",k),this.emit("ui:visible:changed",k),this._ui.set(k.key,k)}showMainUI(u){const k={key:0,visible:!0,autoFocus:u?.autoFocus};this.caller.call("main-ui:visible",k),this.emit("ui:visible:changed",k),this._ui.set(k.key,k)}toggleMainUI(){const k=this._ui.get(0);k&&k.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const u=this._ui.get(0);return!!(u&&u.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(u=this)&&(((k=u.baseInfo)===null||k===void 0?void 0:k.effect)||!((E=u.baseInfo)!==null&&E!==void 0&&E.iir));var u,k,E}get logger(){return tc}get settings(){var u;return(u=this.baseInfo)===null||u===void 0?void 0:u.settings}get caller(){return this._caller}resolveResourceFullUrl(u){if(this.ensureConnected(),u)return u=u.replace(/^[.\\/]+/,""),x(this._baseInfo.lsr,u)}_makeUserProxy(u,k){const E=this,D=this.caller;return new Proxy(u,{get(z,B,$){const Z=z[B];return function(...oe){if(Z){const ie=Z.apply(E,oe.concat(k));if(ie!==gp)return ie}if(k){const ie=B.toString().match(/^(once|off|on)/i);if(ie!=null){const ce=ie[0].toLowerCase(),_e=ie.input,fe=ce==="off",Pe=E.baseInfo.id;let Oe=_e.slice(ce.length),Qe=oe[0],Lt=oe[1];typeof Qe=="string"&&typeof Lt=="function"&&(Qe=Qe.replace(/^logseq./,":"),Oe=`${Oe}${Qe}`,Qe=Lt,Lt=oe[2]),Oe=`hook:${k}:${m(Oe)}`,D[ce](Oe,Qe);const cr=()=>{D.off(Oe,Qe),D.listenerCount(Oe)||E.App._uninstallPluginHook(Pe,Oe)};return fe?void cr():(E.App._installPluginHook(Pe,Oe,Lt),cr)}}let se=B;return["git","ui","assets"].includes(k)&&(se=k+"_"+se),D.callAsync("api:call",{tag:k,method:se,args:oe})}}})}_execCallableAPIAsync(u,...k){return this._caller.callAsync("api:call",{method:u,args:k})}_execCallableAPI(u,...k){this._caller.call("api:call",{method:u,args:k})}_callWin(...u){return this._execCallableAPIAsync("_callMainWin",...u)}get App(){return this._makeUserProxy(wp,"app")}get Editor(){return this._makeUserProxy(kp,"editor")}get DB(){return this._makeUserProxy(Sp,"db")}get Git(){return this._makeUserProxy(bp,"git")}get UI(){return this._makeUserProxy(xp,"ui")}get Assets(){return this._makeUserProxy(Pp,"assets")}get FileStorage(){let u=this._mFileStorage;return u||(u=this._mFileStorage=new ke(this)),u}get Request(){let u=this._mRequest;return u||(u=this._mRequest=new ye(this)),u}get Experiments(){let u=this._mExperiments;return u||(u=this._mExperiments=new Ne(this)),u}}function oc(p,u){return new Ss(p,u)}if(window.__LSP__HOST__==null){const p=new Fe(null);window.logseq=oc({},p)}})(),o})())})(ha,ha.exports);ha.exports;var Ed={exports:{}},Et={},Od={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var M=R.length;R.push(L);e:for(;0<M;){var U=M-1>>>1,H=R[U];if(0<i(H,L))R[U]=L,R[M]=H,M=U;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],M=R.pop();if(M!==L){R[0]=M;e:for(var U=0,H=R.length,q=H>>>1;U<q;){var W=2*(U+1)-1,G=R[W],re=W+1,le=R[re];if(0>i(G,M))re<H&&0>i(le,G)?(R[U]=le,R[re]=M,U=re):(R[U]=G,R[W]=M,U=W);else if(re<H&&0>i(le,M))R[U]=le,R[re]=M,U=re;else break e}}return L}function i(R,L){var M=R.sortIndex-L.sortIndex;return M!==0?M:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,f=a.now();e.unstable_now=function(){return a.now()-f}}var d=[],v=[],w=1,g=null,P=3,b=!1,l=!1,h=!1,y=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var L=n(v);L!==null;){if(L.callback===null)r(v);else if(L.startTime<=R)r(v),L.sortIndex=L.expirationTime,t(d,L);else break;L=n(v)}}function _(R){if(h=!1,m(R),!l)if(n(d)!==null)l=!0,T(x);else{var L=n(v);L!==null&&I(_,L.startTime-R)}}function x(R,L){l=!1,h&&(h=!1,c(O),O=-1),b=!0;var M=P;try{for(m(L),g=n(d);g!==null&&(!(g.expirationTime>L)||R&&!V());){var U=g.callback;if(typeof U=="function"){g.callback=null,P=g.priorityLevel;var H=U(g.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?g.callback=H:g===n(d)&&r(d),m(L)}else r(d);g=n(d)}if(g!==null)var q=!0;else{var W=n(v);W!==null&&I(_,W.startTime-L),q=!1}return q}finally{g=null,P=M,b=!1}}var C=!1,S=null,O=-1,N=5,F=-1;function V(){return!(e.unstable_now()-F<N)}function Q(){if(S!==null){var R=e.unstable_now();F=R;var L=!0;try{L=S(!0,R)}finally{L?ee():(C=!1,S=null)}}else C=!1}var ee;if(typeof s=="function")ee=function(){s(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,j=ae.port2;ae.port1.onmessage=Q,ee=function(){j.postMessage(null)}}else ee=function(){y(Q,0)};function T(R){S=R,C||(C=!0,ee())}function I(R,L){O=y(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){l||b||(l=!0,T(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(R){switch(P){case 1:case 2:case 3:var L=3;break;default:L=P}var M=P;P=L;try{return R()}finally{P=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=P;P=R;try{return L()}finally{P=M}},e.unstable_scheduleCallback=function(R,L,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,R={id:w++,callback:L,priorityLevel:R,startTime:M,expirationTime:H,sortIndex:-1},M>U?(R.sortIndex=M,t(v,R),n(d)===null&&R===n(v)&&(h?(c(O),O=-1):h=!0,I(_,M-U))):(R.sortIndex=H,t(d,R),l||b||(l=!0,T(x))),R},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(R){var L=P;return function(){var M=P;P=L;try{return R.apply(this,arguments)}finally{P=M}}}})(Ld);Od.exports=Ld;var Gp=Od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=za,Tt=Gp;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fd=new Set,Wi={};function br(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(Wi[e]=t,e=0;e<t.length;e++)Fd.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=Object.prototype.hasOwnProperty,Yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uc={},cc={};function Zp(e){return Gs.call(cc,e)?!0:Gs.call(uc,e)?!1:Yp.test(e)?cc[e]=!0:(uc[e]=!0,!1)}function Jp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function em(e,t,n,r){if(t===null||typeof t>"u"||Jp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wl,Kl);at[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wl,Kl);at[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wl,Kl);at[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ql(e,t,n,r){var i=at.hasOwnProperty(t)?at[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(em(t,n,i,r)&&(n=null),r||i===null?Zp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Xs=Symbol.for("react.profiler"),Rd=Symbol.for("react.provider"),Id=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Ys=Symbol.for("react.suspense"),Zs=Symbol.for("react.suspense_list"),Xl=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Ad=Symbol.for("react.offscreen"),dc=Symbol.iterator;function bi(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,xs;function Ri(e){if(xs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xs=t&&t[1]||""}return`
`+xs+e}var Ps=!1;function Cs(e,t){if(!e||Ps)return"";Ps=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,f=o.length-1;1<=a&&0<=f&&i[a]!==o[f];)f--;for(;1<=a&&0<=f;a--,f--)if(i[a]!==o[f]){if(a!==1||f!==1)do if(a--,f--,0>f||i[a]!==o[f]){var d=`
`+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=f);break}}}finally{Ps=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ri(e):""}function tm(e){switch(e.tag){case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function Js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Nr:return"Portal";case Xs:return"Profiler";case Ql:return"StrictMode";case Ys:return"Suspense";case Zs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Id:return(e.displayName||"Context")+".Consumer";case Rd:return(e._context.displayName||"Context")+".Provider";case Gl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xl:return t=e.displayName||null,t!==null?t:Js(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return Js(e(t))}catch{}}return null}function nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Js(t);case 8:return t===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Md(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rm(e){var t=Md(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=rm(e))}function Nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Md(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dd(e,t){t=t.checked,t!=null&&ql(e,"checked",t,!1)}function tl(e,t){Dd(e,t);var n=Xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&nl(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nl(e,t,n){(t!=="number"||pa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ii=Array.isArray;function Qr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Ii(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xn(n)}}function jd(e,t){var n=Xn(t.value),r=Xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uo,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ki(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},im=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){im.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function Vd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function Bd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var om=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ll=null,Gr=null,Xr=null;function vc(e){if(e=fo(e)){if(typeof ll!="function")throw Error(K(280));var t=e.stateNode;t&&(t=$a(t),ll(e.stateNode,e.type,t))}}function Hd(e){Gr?Xr?Xr.push(e):Xr=[e]:Gr=e}function $d(){if(Gr){var e=Gr,t=Xr;if(Xr=Gr=null,vc(e),t)for(e=0;e<t.length;e++)vc(t[e])}}function Wd(e,t){return e(t)}function Kd(){}var Ts=!1;function qd(e,t,n){if(Ts)return e(t,n);Ts=!0;try{return Wd(e,t,n)}finally{Ts=!1,(Gr!==null||Xr!==null)&&(Kd(),$d())}}function qi(e,t){var n=e.stateNode;if(n===null)return null;var r=$a(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var ul=!1;if(gn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){ul=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{ul=!1}function am(e,t,n,r,i,o,a,f,d){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(w){this.onError(w)}}var Di=!1,ma=null,va=!1,cl=null,sm={onError:function(e){Di=!0,ma=e}};function lm(e,t,n,r,i,o,a,f,d){Di=!1,ma=null,am.apply(sm,arguments)}function um(e,t,n,r,i,o,a,f,d){if(lm.apply(this,arguments),Di){if(Di){var v=ma;Di=!1,ma=null}else throw Error(K(198));va||(va=!0,cl=v)}}function xr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yc(e){if(xr(e)!==e)throw Error(K(188))}function cm(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yc(i),e;if(o===r)return yc(i),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,f=i.child;f;){if(f===n){a=!0,n=i,r=o;break}if(f===r){a=!0,r=i,n=o;break}f=f.sibling}if(!a){for(f=o.child;f;){if(f===n){a=!0,n=o,r=i;break}if(f===r){a=!0,r=o,n=i;break}f=f.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Gd(e){return e=cm(e),e!==null?Xd(e):null}function Xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xd(e);if(t!==null)return t;e=e.sibling}return null}var Yd=Tt.unstable_scheduleCallback,gc=Tt.unstable_cancelCallback,dm=Tt.unstable_shouldYield,fm=Tt.unstable_requestPaint,He=Tt.unstable_now,hm=Tt.unstable_getCurrentPriorityLevel,Zl=Tt.unstable_ImmediatePriority,Zd=Tt.unstable_UserBlockingPriority,ya=Tt.unstable_NormalPriority,pm=Tt.unstable_LowPriority,Jd=Tt.unstable_IdlePriority,Ua=null,sn=null;function mm(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ua,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:gm,vm=Math.log,ym=Math.LN2;function gm(e){return e>>>=0,e===0?32:31-(vm(e)/ym|0)|0}var Vo=64,Bo=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ga(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~i;f!==0?r=Ai(f):(o&=a,o!==0&&(r=Ai(o)))}else a=n&~i,a!==0?r=Ai(a):o!==0&&(r=Ai(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function _m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Qt(o),f=1<<a,d=i[a];d===-1?(!(f&n)||f&r)&&(i[a]=_m(f,t)):d<=t&&(e.expiredLanes|=f),o&=~f}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ef(){var e=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),e}function Es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function km(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Jl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ce=0;function tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nf,eu,rf,of,af,fl=!1,Ho=[],Bn=null,Hn=null,$n=null,Qi=new Map,Gi=new Map,jn=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(t.pointerId)}}function Pi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=fo(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bm(e,t,n,r,i){switch(t){case"focusin":return Bn=Pi(Bn,e,t,n,r,i),!0;case"dragenter":return Hn=Pi(Hn,e,t,n,r,i),!0;case"mouseover":return $n=Pi($n,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qi.set(o,Pi(Qi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gi.set(o,Pi(Gi.get(o)||null,e,t,n,r,i)),!0}return!1}function sf(e){var t=hr(e.target);if(t!==null){var n=xr(t);if(n!==null){if(t=n.tag,t===13){if(t=Qd(n),t!==null){e.blockedOn=t,af(e.priority,function(){rf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sl=r,n.target.dispatchEvent(r),sl=null}else return t=fo(n),t!==null&&eu(t),e.blockedOn=n,!1;t.shift()}return!0}function wc(e,t,n){na(e)&&n.delete(t)}function xm(){fl=!1,Bn!==null&&na(Bn)&&(Bn=null),Hn!==null&&na(Hn)&&(Hn=null),$n!==null&&na($n)&&($n=null),Qi.forEach(wc),Gi.forEach(wc)}function Ci(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,xm)))}function Xi(e){function t(i){return Ci(i,e)}if(0<Ho.length){Ci(Ho[0],e);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&Ci(Bn,e),Hn!==null&&Ci(Hn,e),$n!==null&&Ci($n,e),Qi.forEach(t),Gi.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)sf(n),n.blockedOn===null&&jn.shift()}var Yr=Sn.ReactCurrentBatchConfig,_a=!0;function Pm(e,t,n,r){var i=Ce,o=Yr.transition;Yr.transition=null;try{Ce=1,tu(e,t,n,r)}finally{Ce=i,Yr.transition=o}}function Cm(e,t,n,r){var i=Ce,o=Yr.transition;Yr.transition=null;try{Ce=4,tu(e,t,n,r)}finally{Ce=i,Yr.transition=o}}function tu(e,t,n,r){if(_a){var i=hl(e,t,n,r);if(i===null)js(e,t,r,wa,n),_c(e,r);else if(bm(i,e,t,n,r))r.stopPropagation();else if(_c(e,r),t&4&&-1<Sm.indexOf(e)){for(;i!==null;){var o=fo(i);if(o!==null&&nf(o),o=hl(e,t,n,r),o===null&&js(e,t,r,wa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else js(e,t,r,null,n)}}var wa=null;function hl(e,t,n,r){if(wa=null,e=Yl(r),e=hr(e),e!==null)if(t=xr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wa=e,null}function lf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case Zl:return 1;case Zd:return 4;case ya:case pm:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var Un=null,nu=null,ra=null;function uf(){if(ra)return ra;var e,t=nu,n=t.length,r,i="value"in Un?Un.value:Un.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return ra=i.slice(e,1<r?1-r:void 0)}function ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function kc(){return!1}function Ot(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$o:kc,this.isPropagationStopped=kc,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Ot(li),co=Ue({},li,{view:0,detail:0}),Tm=Ot(co),Os,Ls,Ti,Va=Ue({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Os=e.screenX-Ti.screenX,Ls=e.screenY-Ti.screenY):Ls=Os=0,Ti=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),Sc=Ot(Va),Em=Ue({},Va,{dataTransfer:0}),Om=Ot(Em),Lm=Ue({},co,{relatedTarget:0}),Fs=Ot(Lm),Fm=Ue({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Ot(Fm),Im=Ue({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=Ot(Im),Mm=Ue({},li,{data:0}),bc=Ot(Mm),Nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jm[e])?!!t[e]:!1}function iu(){return zm}var Um=Ue({},co,{key:function(e){if(e.key){var t=Nm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=Ot(Um),Bm=Ue({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=Ot(Bm),Hm=Ue({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),$m=Ot(Hm),Wm=Ue({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Km=Ot(Wm),qm=Ue({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=Ot(qm),Gm=[9,13,27,32],ou=gn&&"CompositionEvent"in window,ji=null;gn&&"documentMode"in document&&(ji=document.documentMode);var Xm=gn&&"TextEvent"in window&&!ji,cf=gn&&(!ou||ji&&8<ji&&11>=ji),Pc=String.fromCharCode(32),Cc=!1;function df(e,t){switch(e){case"keyup":return Gm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function Ym(e,t){switch(e){case"compositionend":return ff(t);case"keypress":return t.which!==32?null:(Cc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Cc?null:e;default:return null}}function Zm(e,t){if(jr)return e==="compositionend"||!ou&&df(e,t)?(e=uf(),ra=nu=Un=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cf&&t.locale!=="ko"?null:t.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jm[e.type]:t==="textarea"}function hf(e,t,n,r){Hd(r),t=ka(t,"onChange"),0<t.length&&(n=new ru("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zi=null,Yi=null;function ev(e){xf(e,0)}function Ba(e){var t=Vr(e);if(Nd(t))return e}function tv(e,t){if(e==="change")return t}var pf=!1;if(gn){var Rs;if(gn){var Is="oninput"in document;if(!Is){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),Is=typeof Ec.oninput=="function"}Rs=Is}else Rs=!1;pf=Rs&&(!document.documentMode||9<document.documentMode)}function Oc(){zi&&(zi.detachEvent("onpropertychange",mf),Yi=zi=null)}function mf(e){if(e.propertyName==="value"&&Ba(Yi)){var t=[];hf(t,Yi,e,Yl(e)),qd(ev,t)}}function nv(e,t,n){e==="focusin"?(Oc(),zi=t,Yi=n,zi.attachEvent("onpropertychange",mf)):e==="focusout"&&Oc()}function rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ba(Yi)}function iv(e,t){if(e==="click")return Ba(t)}function ov(e,t){if(e==="input"||e==="change")return Ba(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:av;function Zi(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gs.call(t,i)||!Xt(e[i],t[i]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Lc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lc(n)}}function vf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(){for(var e=window,t=pa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pa(e.document)}return t}function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sv(e){var t=yf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vf(n.ownerDocument.documentElement,n)){if(r!==null&&au(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Fc(n,o);var a=Fc(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lv=gn&&"documentMode"in document&&11>=document.documentMode,zr=null,pl=null,Ui=null,ml=!1;function Rc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||zr==null||zr!==pa(r)||(r=zr,"selectionStart"in r&&au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&Zi(Ui,r)||(Ui=r,r=ka(pl,"onSelect"),0<r.length&&(t=new ru("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}function Wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ur={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},As={},gf={};gn&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Ha(e){if(As[e])return As[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gf)return As[e]=t[n];return e}var _f=Ha("animationend"),wf=Ha("animationiteration"),kf=Ha("animationstart"),Sf=Ha("transitionend"),bf=new Map,Ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){bf.set(e,t),br(t,[e])}for(var Ms=0;Ms<Ic.length;Ms++){var Ns=Ic[Ms],uv=Ns.toLowerCase(),cv=Ns[0].toUpperCase()+Ns.slice(1);Zn(uv,"on"+cv)}Zn(_f,"onAnimationEnd");Zn(wf,"onAnimationIteration");Zn(kf,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Sf,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Ac(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,um(r,t,void 0,e),e.currentTarget=null}function xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],d=f.instance,v=f.currentTarget;if(f=f.listener,d!==o&&i.isPropagationStopped())break e;Ac(i,f,v),o=d}else for(a=0;a<r.length;a++){if(f=r[a],d=f.instance,v=f.currentTarget,f=f.listener,d!==o&&i.isPropagationStopped())break e;Ac(i,f,v),o=d}}}if(va)throw e=cl,va=!1,cl=null,e}function Re(e,t){var n=t[wl];n===void 0&&(n=t[wl]=new Set);var r=e+"__bubble";n.has(r)||(Pf(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),Pf(n,e,r,t)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Ji(e){if(!e[Ko]){e[Ko]=!0,Fd.forEach(function(n){n!=="selectionchange"&&(dv.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ko]||(t[Ko]=!0,Ds("selectionchange",!1,t))}}function Pf(e,t,n,r){switch(lf(t)){case 1:var i=Pm;break;case 4:i=Cm;break;default:i=tu}n=i.bind(null,t,n,e),i=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function js(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;f!==null;){if(a=hr(f),a===null)return;if(d=a.tag,d===5||d===6){r=o=a;continue e}f=f.parentNode}}r=r.return}qd(function(){var v=o,w=Yl(n),g=[];e:{var P=bf.get(e);if(P!==void 0){var b=ru,l=e;switch(e){case"keypress":if(ia(n)===0)break e;case"keydown":case"keyup":b=Vm;break;case"focusin":l="focus",b=Fs;break;case"focusout":l="blur",b=Fs;break;case"beforeblur":case"afterblur":b=Fs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=$m;break;case _f:case wf:case kf:b=Rm;break;case Sf:b=Km;break;case"scroll":b=Tm;break;case"wheel":b=Qm;break;case"copy":case"cut":case"paste":b=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=xc}var h=(t&4)!==0,y=!h&&e==="scroll",c=h?P!==null?P+"Capture":null:P;h=[];for(var s=v,m;s!==null;){m=s;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,c!==null&&(_=qi(s,c),_!=null&&h.push(eo(s,_,m)))),y)break;s=s.return}0<h.length&&(P=new b(P,l,null,n,w),g.push({event:P,listeners:h}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",P&&n!==sl&&(l=n.relatedTarget||n.fromElement)&&(hr(l)||l[_n]))break e;if((b||P)&&(P=w.window===w?w:(P=w.ownerDocument)?P.defaultView||P.parentWindow:window,b?(l=n.relatedTarget||n.toElement,b=v,l=l?hr(l):null,l!==null&&(y=xr(l),l!==y||l.tag!==5&&l.tag!==6)&&(l=null)):(b=null,l=v),b!==l)){if(h=Sc,_="onMouseLeave",c="onMouseEnter",s="mouse",(e==="pointerout"||e==="pointerover")&&(h=xc,_="onPointerLeave",c="onPointerEnter",s="pointer"),y=b==null?P:Vr(b),m=l==null?P:Vr(l),P=new h(_,s+"leave",b,n,w),P.target=y,P.relatedTarget=m,_=null,hr(w)===v&&(h=new h(c,s+"enter",l,n,w),h.target=m,h.relatedTarget=y,_=h),y=_,b&&l)t:{for(h=b,c=l,s=0,m=h;m;m=Mr(m))s++;for(m=0,_=c;_;_=Mr(_))m++;for(;0<s-m;)h=Mr(h),s--;for(;0<m-s;)c=Mr(c),m--;for(;s--;){if(h===c||c!==null&&h===c.alternate)break t;h=Mr(h),c=Mr(c)}h=null}else h=null;b!==null&&Mc(g,P,b,h,!1),l!==null&&y!==null&&Mc(g,y,l,h,!0)}}e:{if(P=v?Vr(v):window,b=P.nodeName&&P.nodeName.toLowerCase(),b==="select"||b==="input"&&P.type==="file")var x=tv;else if(Tc(P))if(pf)x=ov;else{x=rv;var C=nv}else(b=P.nodeName)&&b.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(x=iv);if(x&&(x=x(e,v))){hf(g,x,n,w);break e}C&&C(e,P,v),e==="focusout"&&(C=P._wrapperState)&&C.controlled&&P.type==="number"&&nl(P,"number",P.value)}switch(C=v?Vr(v):window,e){case"focusin":(Tc(C)||C.contentEditable==="true")&&(zr=C,pl=v,Ui=null);break;case"focusout":Ui=pl=zr=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Rc(g,n,w);break;case"selectionchange":if(lv)break;case"keydown":case"keyup":Rc(g,n,w)}var S;if(ou)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else jr?df(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(cf&&n.locale!=="ko"&&(jr||O!=="onCompositionStart"?O==="onCompositionEnd"&&jr&&(S=uf()):(Un=w,nu="value"in Un?Un.value:Un.textContent,jr=!0)),C=ka(v,O),0<C.length&&(O=new bc(O,e,null,n,w),g.push({event:O,listeners:C}),S?O.data=S:(S=ff(n),S!==null&&(O.data=S)))),(S=Xm?Ym(e,n):Zm(e,n))&&(v=ka(v,"onBeforeInput"),0<v.length&&(w=new bc("onBeforeInput","beforeinput",null,n,w),g.push({event:w,listeners:v}),w.data=S))}xf(g,t)})}function eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ka(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qi(e,n),o!=null&&r.unshift(eo(e,o,i)),o=qi(e,t),o!=null&&r.push(eo(e,o,i))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mc(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var f=n,d=f.alternate,v=f.stateNode;if(d!==null&&d===r)break;f.tag===5&&v!==null&&(f=v,i?(d=qi(n,o),d!=null&&a.unshift(eo(n,d,f))):i||(d=qi(n,o),d!=null&&a.push(eo(n,d,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var fv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function Nc(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(hv,"")}function qo(e,t,n){if(t=Nc(t),Nc(e)!==t&&n)throw Error(K(425))}function Sa(){}var vl=null,yl=null;function gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,Dc=typeof Promise=="function"?Promise:void 0,mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dc<"u"?function(e){return Dc.resolve(null).then(e).catch(vv)}:_l;function vv(e){setTimeout(function(){throw e})}function zs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xi(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),an="__reactFiber$"+ui,to="__reactProps$"+ui,_n="__reactContainer$"+ui,wl="__reactEvents$"+ui,yv="__reactListeners$"+ui,gv="__reactHandles$"+ui;function hr(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[an])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[an]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function $a(e){return e[to]||null}var kl=[],Br=-1;function Jn(e){return{current:e}}function Ie(e){0>Br||(e.current=kl[Br],kl[Br]=null,Br--)}function Le(e,t){Br++,kl[Br]=e.current,e.current=t}var Yn={},dt=Jn(Yn),wt=Jn(!1),gr=Yn;function ti(e,t){var n=e.type.contextTypes;if(!n)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kt(e){return e=e.childContextTypes,e!=null}function ba(){Ie(wt),Ie(dt)}function zc(e,t,n){if(dt.current!==Yn)throw Error(K(168));Le(dt,t),Le(wt,n)}function Cf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,nm(e)||"Unknown",i));return Ue({},n,r)}function xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,gr=dt.current,Le(dt,e),Le(wt,wt.current),!0}function Uc(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=Cf(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,Ie(wt),Ie(dt),Le(dt,e)):Ie(wt),Le(wt,n)}var pn=null,Wa=!1,Us=!1;function Tf(e){pn===null?pn=[e]:pn.push(e)}function _v(e){Wa=!0,Tf(e)}function er(){if(!Us&&pn!==null){Us=!0;var e=0,t=Ce;try{var n=pn;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,Wa=!1}catch(i){throw pn!==null&&(pn=pn.slice(e+1)),Yd(Zl,er),i}finally{Ce=t,Us=!1}}return null}var Hr=[],$r=0,Pa=null,Ca=0,Ft=[],Rt=0,_r=null,mn=1,vn="";function dr(e,t){Hr[$r++]=Ca,Hr[$r++]=Pa,Pa=e,Ca=t}function Ef(e,t,n){Ft[Rt++]=mn,Ft[Rt++]=vn,Ft[Rt++]=_r,_r=e;var r=mn;e=vn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var o=32-Qt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mn=1<<32-Qt(t)+i|n<<i|r,vn=o+e}else mn=1<<o|n<<i|r,vn=e}function su(e){e.return!==null&&(dr(e,1),Ef(e,1,0))}function lu(e){for(;e===Pa;)Pa=Hr[--$r],Hr[$r]=null,Ca=Hr[--$r],Hr[$r]=null;for(;e===_r;)_r=Ft[--Rt],Ft[Rt]=null,vn=Ft[--Rt],Ft[Rt]=null,mn=Ft[--Rt],Ft[Rt]=null}var Ct=null,Pt=null,Me=!1,qt=null;function Of(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Pt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_r!==null?{id:mn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,Pt=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(Me){var t=Pt;if(t){var n=t;if(!Vc(e,t)){if(Sl(e))throw Error(K(418));t=Wn(n.nextSibling);var r=Ct;t&&Vc(e,t)?Of(r,n):(e.flags=e.flags&-4097|2,Me=!1,Ct=e)}}else{if(Sl(e))throw Error(K(418));e.flags=e.flags&-4097|2,Me=!1,Ct=e}}}function Bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Qo(e){if(e!==Ct)return!1;if(!Me)return Bc(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gl(e.type,e.memoizedProps)),t&&(t=Pt)){if(Sl(e))throw Lf(),Error(K(418));for(;t;)Of(e,t),t=Wn(t.nextSibling)}if(Bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Ct?Wn(e.stateNode.nextSibling):null;return!0}function Lf(){for(var e=Pt;e;)e=Wn(e.nextSibling)}function ni(){Pt=Ct=null,Me=!1}function uu(e){qt===null?qt=[e]:qt.push(e)}var wv=Sn.ReactCurrentBatchConfig;function Ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var f=i.refs;a===null?delete f[o]:f[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hc(e){var t=e._init;return t(e._payload)}function Ff(e){function t(c,s){if(e){var m=c.deletions;m===null?(c.deletions=[s],c.flags|=16):m.push(s)}}function n(c,s){if(!e)return null;for(;s!==null;)t(c,s),s=s.sibling;return null}function r(c,s){for(c=new Map;s!==null;)s.key!==null?c.set(s.key,s):c.set(s.index,s),s=s.sibling;return c}function i(c,s){return c=Gn(c,s),c.index=0,c.sibling=null,c}function o(c,s,m){return c.index=m,e?(m=c.alternate,m!==null?(m=m.index,m<s?(c.flags|=2,s):m):(c.flags|=2,s)):(c.flags|=1048576,s)}function a(c){return e&&c.alternate===null&&(c.flags|=2),c}function f(c,s,m,_){return s===null||s.tag!==6?(s=qs(m,c.mode,_),s.return=c,s):(s=i(s,m),s.return=c,s)}function d(c,s,m,_){var x=m.type;return x===Dr?w(c,s,m.props.children,_,m.key):s!==null&&(s.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Nn&&Hc(x)===s.type)?(_=i(s,m.props),_.ref=Ei(c,s,m),_.return=c,_):(_=da(m.type,m.key,m.props,null,c.mode,_),_.ref=Ei(c,s,m),_.return=c,_)}function v(c,s,m,_){return s===null||s.tag!==4||s.stateNode.containerInfo!==m.containerInfo||s.stateNode.implementation!==m.implementation?(s=Qs(m,c.mode,_),s.return=c,s):(s=i(s,m.children||[]),s.return=c,s)}function w(c,s,m,_,x){return s===null||s.tag!==7?(s=yr(m,c.mode,_,x),s.return=c,s):(s=i(s,m),s.return=c,s)}function g(c,s,m){if(typeof s=="string"&&s!==""||typeof s=="number")return s=qs(""+s,c.mode,m),s.return=c,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case jo:return m=da(s.type,s.key,s.props,null,c.mode,m),m.ref=Ei(c,null,s),m.return=c,m;case Nr:return s=Qs(s,c.mode,m),s.return=c,s;case Nn:var _=s._init;return g(c,_(s._payload),m)}if(Ii(s)||bi(s))return s=yr(s,c.mode,m,null),s.return=c,s;Go(c,s)}return null}function P(c,s,m,_){var x=s!==null?s.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return x!==null?null:f(c,s,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:return m.key===x?d(c,s,m,_):null;case Nr:return m.key===x?v(c,s,m,_):null;case Nn:return x=m._init,P(c,s,x(m._payload),_)}if(Ii(m)||bi(m))return x!==null?null:w(c,s,m,_,null);Go(c,m)}return null}function b(c,s,m,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return c=c.get(m)||null,f(s,c,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jo:return c=c.get(_.key===null?m:_.key)||null,d(s,c,_,x);case Nr:return c=c.get(_.key===null?m:_.key)||null,v(s,c,_,x);case Nn:var C=_._init;return b(c,s,m,C(_._payload),x)}if(Ii(_)||bi(_))return c=c.get(m)||null,w(s,c,_,x,null);Go(s,_)}return null}function l(c,s,m,_){for(var x=null,C=null,S=s,O=s=0,N=null;S!==null&&O<m.length;O++){S.index>O?(N=S,S=null):N=S.sibling;var F=P(c,S,m[O],_);if(F===null){S===null&&(S=N);break}e&&S&&F.alternate===null&&t(c,S),s=o(F,s,O),C===null?x=F:C.sibling=F,C=F,S=N}if(O===m.length)return n(c,S),Me&&dr(c,O),x;if(S===null){for(;O<m.length;O++)S=g(c,m[O],_),S!==null&&(s=o(S,s,O),C===null?x=S:C.sibling=S,C=S);return Me&&dr(c,O),x}for(S=r(c,S);O<m.length;O++)N=b(S,c,O,m[O],_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?O:N.key),s=o(N,s,O),C===null?x=N:C.sibling=N,C=N);return e&&S.forEach(function(V){return t(c,V)}),Me&&dr(c,O),x}function h(c,s,m,_){var x=bi(m);if(typeof x!="function")throw Error(K(150));if(m=x.call(m),m==null)throw Error(K(151));for(var C=x=null,S=s,O=s=0,N=null,F=m.next();S!==null&&!F.done;O++,F=m.next()){S.index>O?(N=S,S=null):N=S.sibling;var V=P(c,S,F.value,_);if(V===null){S===null&&(S=N);break}e&&S&&V.alternate===null&&t(c,S),s=o(V,s,O),C===null?x=V:C.sibling=V,C=V,S=N}if(F.done)return n(c,S),Me&&dr(c,O),x;if(S===null){for(;!F.done;O++,F=m.next())F=g(c,F.value,_),F!==null&&(s=o(F,s,O),C===null?x=F:C.sibling=F,C=F);return Me&&dr(c,O),x}for(S=r(c,S);!F.done;O++,F=m.next())F=b(S,c,O,F.value,_),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?O:F.key),s=o(F,s,O),C===null?x=F:C.sibling=F,C=F);return e&&S.forEach(function(Q){return t(c,Q)}),Me&&dr(c,O),x}function y(c,s,m,_){if(typeof m=="object"&&m!==null&&m.type===Dr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:e:{for(var x=m.key,C=s;C!==null;){if(C.key===x){if(x=m.type,x===Dr){if(C.tag===7){n(c,C.sibling),s=i(C,m.props.children),s.return=c,c=s;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Nn&&Hc(x)===C.type){n(c,C.sibling),s=i(C,m.props),s.ref=Ei(c,C,m),s.return=c,c=s;break e}n(c,C);break}else t(c,C);C=C.sibling}m.type===Dr?(s=yr(m.props.children,c.mode,_,m.key),s.return=c,c=s):(_=da(m.type,m.key,m.props,null,c.mode,_),_.ref=Ei(c,s,m),_.return=c,c=_)}return a(c);case Nr:e:{for(C=m.key;s!==null;){if(s.key===C)if(s.tag===4&&s.stateNode.containerInfo===m.containerInfo&&s.stateNode.implementation===m.implementation){n(c,s.sibling),s=i(s,m.children||[]),s.return=c,c=s;break e}else{n(c,s);break}else t(c,s);s=s.sibling}s=Qs(m,c.mode,_),s.return=c,c=s}return a(c);case Nn:return C=m._init,y(c,s,C(m._payload),_)}if(Ii(m))return l(c,s,m,_);if(bi(m))return h(c,s,m,_);Go(c,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,s!==null&&s.tag===6?(n(c,s.sibling),s=i(s,m),s.return=c,c=s):(n(c,s),s=qs(m,c.mode,_),s.return=c,c=s),a(c)):n(c,s)}return y}var ri=Ff(!0),Rf=Ff(!1),Ta=Jn(null),Ea=null,Wr=null,cu=null;function du(){cu=Wr=Ea=null}function fu(e){var t=Ta.current;Ie(Ta),e._currentValue=t}function xl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){Ea=e,cu=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(Ea===null)throw Error(K(308));Wr=e,Ea.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var pr=null;function hu(e){pr===null?pr=[e]:pr.push(e)}function If(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hu(t)):(n.next=i.next,i.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wn(e,n)}return i=r.interleaved,i===null?(t.next=t,hu(r)):(t.next=i.next,i.next=t),r.interleaved=t,wn(e,n)}function oa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jl(e,n)}}function $c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var i=e.updateQueue;Dn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var d=f,v=d.next;d.next=null,a===null?o=v:a.next=v,a=d;var w=e.alternate;w!==null&&(w=w.updateQueue,f=w.lastBaseUpdate,f!==a&&(f===null?w.firstBaseUpdate=v:f.next=v,w.lastBaseUpdate=d))}if(o!==null){var g=i.baseState;a=0,w=v=d=null,f=o;do{var P=f.lane,b=f.eventTime;if((r&P)===P){w!==null&&(w=w.next={eventTime:b,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var l=e,h=f;switch(P=t,b=n,h.tag){case 1:if(l=h.payload,typeof l=="function"){g=l.call(b,g,P);break e}g=l;break e;case 3:l.flags=l.flags&-65537|128;case 0:if(l=h.payload,P=typeof l=="function"?l.call(b,g,P):l,P==null)break e;g=Ue({},g,P);break e;case 2:Dn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,P=i.effects,P===null?i.effects=[f]:P.push(f))}else b={eventTime:b,lane:P,tag:f.tag,payload:f.payload,callback:f.callback,next:null},w===null?(v=w=b,d=g):w=w.next=b,a|=P;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;P=f,f=P.next,P.next=null,i.lastBaseUpdate=P,i.shared.pending=null}}while(1);if(w===null&&(d=g),i.baseState=d,i.firstBaseUpdate=v,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);kr|=a,e.lanes=a,e.memoizedState=g}}function Wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var ho={},ln=Jn(ho),no=Jn(ho),ro=Jn(ho);function mr(e){if(e===ho)throw Error(K(174));return e}function mu(e,t){switch(Le(ro,t),Le(no,e),Le(ln,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}Ie(ln),Le(ln,t)}function ii(){Ie(ln),Ie(no),Ie(ro)}function Mf(e){mr(ro.current);var t=mr(ln.current),n=il(t,e.type);t!==n&&(Le(no,e),Le(ln,n))}function vu(e){no.current===e&&(Ie(ln),Ie(no))}var je=Jn(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vs=[];function yu(){for(var e=0;e<Vs.length;e++)Vs[e]._workInProgressVersionPrimary=null;Vs.length=0}var aa=Sn.ReactCurrentDispatcher,Bs=Sn.ReactCurrentBatchConfig,wr=0,ze=null,Xe=null,et=null,Fa=!1,Vi=!1,io=0,kv=0;function lt(){throw Error(K(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function _u(e,t,n,r,i,o){if(wr=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aa.current=e===null||e.memoizedState===null?Pv:Cv,e=n(r,i),Vi){o=0;do{if(Vi=!1,io=0,25<=o)throw Error(K(301));o+=1,et=Xe=null,t.updateQueue=null,aa.current=Tv,e=n(r,i)}while(Vi)}if(aa.current=Ra,t=Xe!==null&&Xe.next!==null,wr=0,et=Xe=ze=null,Fa=!1,t)throw Error(K(300));return e}function wu(){var e=io!==0;return io=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ze.memoizedState=et=e:et=et.next=e,et}function Nt(){if(Xe===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=et===null?ze.memoizedState:et.next;if(t!==null)et=t,Xe=e;else{if(e===null)throw Error(K(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?ze.memoizedState=et=e:et=et.next=e}return et}function oo(e,t){return typeof t=="function"?t(e):t}function Hs(e){var t=Nt(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=Xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=a=null,d=null,v=o;do{var w=v.lane;if((wr&w)===w)d!==null&&(d=d.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var g={lane:w,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};d===null?(f=d=g,a=r):d=d.next=g,ze.lanes|=w,kr|=w}v=v.next}while(v!==null&&v!==o);d===null?a=r:d.next=f,Xt(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ze.lanes|=o,kr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $s(e){var t=Nt(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Xt(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nf(){}function Df(e,t){var n=ze,r=Nt(),i=t(),o=!Xt(r.memoizedState,i);if(o&&(r.memoizedState=i,_t=!0),r=r.queue,ku(Uf.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,ao(9,zf.bind(null,n,r,i,t),void 0,null),tt===null)throw Error(K(349));wr&30||jf(n,t,i)}return i}function jf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zf(e,t,n,r){t.value=n,t.getSnapshot=r,Vf(t)&&Bf(e)}function Uf(e,t,n){return n(function(){Vf(t)&&Bf(e)})}function Vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function Bf(e){var t=wn(e,1);t!==null&&Gt(t,e,1,-1)}function Kc(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=xv.bind(null,ze,e),[t.memoizedState,e]}function ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hf(){return Nt().memoizedState}function sa(e,t,n,r){var i=on();ze.flags|=e,i.memoizedState=ao(1|t,n,void 0,r===void 0?null:r)}function Ka(e,t,n,r){var i=Nt();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var a=Xe.memoizedState;if(o=a.destroy,r!==null&&gu(r,a.deps)){i.memoizedState=ao(t,n,o,r);return}}ze.flags|=e,i.memoizedState=ao(1|t,n,o,r)}function qc(e,t){return sa(8390656,8,e,t)}function ku(e,t){return Ka(2048,8,e,t)}function $f(e,t){return Ka(4,2,e,t)}function Wf(e,t){return Ka(4,4,e,t)}function Kf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4,4,Kf.bind(null,t,e),n)}function Su(){}function Qf(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gf(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xf(e,t,n){return wr&21?(Xt(n,t)||(n=ef(),ze.lanes|=n,kr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function Sv(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Bs.transition;Bs.transition={};try{e(!1),t()}finally{Ce=n,Bs.transition=r}}function Yf(){return Nt().memoizedState}function bv(e,t,n){var r=Qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zf(e))Jf(t,n);else if(n=If(e,t,n,r),n!==null){var i=pt();Gt(n,e,r,i),eh(n,t,r)}}function xv(e,t,n){var r=Qn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zf(e))Jf(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,f=o(a,n);if(i.hasEagerState=!0,i.eagerState=f,Xt(f,a)){var d=t.interleaved;d===null?(i.next=i,hu(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=If(e,t,i,r),n!==null&&(i=pt(),Gt(n,e,r,i),eh(n,t,r))}}function Zf(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Jf(e,t){Vi=Fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jl(e,n)}}var Ra={readContext:Mt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Pv={readContext:Mt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sa(4194308,4,Kf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sa(4194308,4,e,t)},useInsertionEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bv.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Kc,useDebugValue:Su,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Kc(!1),t=e[0];return e=Sv.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=on();if(Me){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),tt===null)throw Error(K(349));wr&30||jf(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qc(Uf.bind(null,r,o,e),[e]),r.flags|=2048,ao(9,zf.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=on(),t=tt.identifierPrefix;if(Me){var n=vn,r=mn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cv={readContext:Mt,useCallback:Qf,useContext:Mt,useEffect:ku,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:Wf,useMemo:Gf,useReducer:Hs,useRef:Hf,useState:function(){return Hs(oo)},useDebugValue:Su,useDeferredValue:function(e){var t=Nt();return Xf(t,Xe.memoizedState,e)},useTransition:function(){var e=Hs(oo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Nf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1},Tv={readContext:Mt,useCallback:Qf,useContext:Mt,useEffect:ku,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:Wf,useMemo:Gf,useReducer:$s,useRef:Hf,useState:function(){return $s(oo)},useDebugValue:Su,useDeferredValue:function(e){var t=Nt();return Xe===null?t.memoizedState=e:Xf(t,Xe.memoizedState,e)},useTransition:function(){var e=$s(oo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Nf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Qn(e),o=yn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Gt(t,e,i,r),oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Qn(e),o=yn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Gt(t,e,i,r),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=Qn(e),i=yn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&(Gt(t,e,r,n),oa(t,e,r))}};function Qc(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Zi(n,r)||!Zi(i,o):!0}function th(e,t,n){var r=!1,i=Yn,o=t.contextType;return typeof o=="object"&&o!==null?o=Mt(o):(i=kt(t)?gr:dt.current,r=t.contextTypes,o=(r=r!=null)?ti(e,i):Yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Cl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},pu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mt(o):(o=kt(t)?gr:dt.current,i.context=ti(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),Oa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do n+=tm(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ws(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ev=typeof WeakMap=="function"?WeakMap:Map;function nh(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Aa||(Aa=!0,Dl=r),Tl(e,t)},n}function rh(e,t,n){n=yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Tl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tl(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Xc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ev;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bv.bind(null,e,t,n),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Ov=Sn.ReactCurrentOwner,_t=!1;function ht(e,t,n,r){t.child=e===null?Rf(t,null,n,r):ri(t,e.child,n,r)}function Jc(e,t,n,r,i){n=n.render;var o=t.ref;return Zr(t,i),r=_u(e,t,n,r,o,i),n=wu(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(Me&&n&&su(t),t.flags|=1,ht(e,t,r,i),t.child)}function ed(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ih(e,t,o,r,i)):(e=da(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zi,n(a,r)&&e.ref===t.ref)return kn(e,t,i)}return t.flags|=1,e=Gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Zi(o,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,kn(e,t,i)}return El(e,t,n,r,i)}function oh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(qr,xt),xt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(qr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(qr,xt),xt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Le(qr,xt),xt|=r;return ht(e,t,i,n),t.child}function ah(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,i){var o=kt(n)?gr:dt.current;return o=ti(t,o),Zr(t,i),n=_u(e,t,n,r,o,i),r=wu(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(Me&&r&&su(t),t.flags|=1,ht(e,t,n,i),t.child)}function td(e,t,n,r,i){if(kt(n)){var o=!0;xa(t)}else o=!1;if(Zr(t,i),t.stateNode===null)la(e,t),th(t,n,r),Cl(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var d=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=Mt(v):(v=kt(n)?gr:dt.current,v=ti(t,v));var w=n.getDerivedStateFromProps,g=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||d!==v)&&Gc(t,a,r,v),Dn=!1;var P=t.memoizedState;a.state=P,Oa(t,r,a,i),d=t.memoizedState,f!==r||P!==d||wt.current||Dn?(typeof w=="function"&&(Pl(t,n,w,r),d=t.memoizedState),(f=Dn||Qc(t,n,f,r,P,d,v))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=v,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Af(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:Wt(t.type,f),a.props=v,g=t.pendingProps,P=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Mt(d):(d=kt(n)?gr:dt.current,d=ti(t,d));var b=n.getDerivedStateFromProps;(w=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==g||P!==d)&&Gc(t,a,r,d),Dn=!1,P=t.memoizedState,a.state=P,Oa(t,r,a,i);var l=t.memoizedState;f!==g||P!==l||wt.current||Dn?(typeof b=="function"&&(Pl(t,n,b,r),l=t.memoizedState),(v=Dn||Qc(t,n,v,r,P,l,d)||!1)?(w||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,l,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,l,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=d,r=v):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),r=!1)}return Ol(e,t,n,r,o,i)}function Ol(e,t,n,r,i,o){ah(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Uc(t,n,!1),kn(e,t,o);r=t.stateNode,Ov.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,f,o)):ht(e,t,f,o),t.memoizedState=r.state,i&&Uc(t,n,!0),t.child}function sh(e){var t=e.stateNode;t.pendingContext?zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zc(e,t.context,!1),mu(e,t.containerInfo)}function nd(e,t,n,r,i){return ni(),uu(i),t.flags|=256,ht(e,t,n,r),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,t,n){var r=t.pendingProps,i=je.current,o=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(je,i&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Xa(a,r,0,null),e=yr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fl(n),t.memoizedState=Ll,e):bu(t,a));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return Lv(e,t,a,r,f,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,f=i.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Gn(i,d),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=Gn(f,o):(o=yr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Fl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Ll,r}return o=e.child,e=o.sibling,r=Gn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bu(e,t){return t=Xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&uu(r),ri(t,e.child,null,n),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lv(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Ws(Error(K(422))),Xo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Xa({mode:"visible",children:r.children},i,0,null),o=yr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ri(t,e.child,null,a),t.child.memoizedState=Fl(a),t.memoizedState=Ll,o);if(!(t.mode&1))return Xo(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(K(419)),r=Ws(o,r,void 0),Xo(e,t,a,r)}if(f=(a&e.childLanes)!==0,_t||f){if(r=tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wn(e,i),Gt(r,e,i,-1))}return Ou(),r=Ws(Error(K(421))),Xo(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Pt=Wn(i.nextSibling),Ct=t,Me=!0,qt=null,e!==null&&(Ft[Rt++]=mn,Ft[Rt++]=vn,Ft[Rt++]=_r,mn=e.id,vn=e.overflow,_r=t),t=bu(t,r.children),t.flags|=4096,t)}function rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xl(e.return,t,n)}function Ks(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uh(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ht(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rd(e,n,t);else if(e.tag===19)rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&La(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ks(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&La(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ks(t,!0,n,null,o);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fv(e,t,n){switch(t.tag){case 3:sh(t),ni();break;case 5:Mf(t);break;case 1:kt(t.type)&&xa(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(Ta,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?lh(e,t,n):(Le(je,je.current&1),e=kn(e,t,n),e!==null?e.sibling:null);Le(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,oh(e,t,n)}return kn(e,t,n)}var ch,Rl,dh,fh;ch=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rl=function(){};dh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(ln.current);var o=null;switch(n){case"input":i=el(e,i),r=el(e,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=rl(e,i),r=rl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sa)}ol(n,r);var a;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var f=i[v];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Wi.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var d=r[v];if(f=i?.[v],r.hasOwnProperty(v)&&d!==f&&(d!=null||f!=null))if(v==="style")if(f){for(a in f)!f.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&f[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(o||(o=[]),o.push(v,n)),n=d;else v==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(o=o||[]).push(v,d)):v==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(v,""+d):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(v)?(d!=null&&v==="onScroll"&&Re("scroll",e),o||f===d||(o=[])):(o=o||[]).push(v,d))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};fh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oi(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rv(e,t,n){var r=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return kt(t.type)&&ba(),ut(t),null;case 3:return r=t.stateNode,ii(),Ie(wt),Ie(dt),yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Ul(qt),qt=null))),Rl(e,t),ut(t),null;case 5:vu(t);var i=mr(ro.current);if(n=t.type,e!==null&&t.stateNode!=null)dh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return ut(t),null}if(e=mr(ln.current),Qo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[an]=t,r[to]=o,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)Re(Mi[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":fc(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":pc(r,o),Re("invalid",r)}ol(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var f=o[a];a==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,f,e),i=["children",""+f]):Wi.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&Re("scroll",r)}switch(n){case"input":zo(r),hc(r,o,!0);break;case"textarea":zo(r),mc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[an]=t,e[to]=r,ch(e,t,!1,!1),t.stateNode=e;e:{switch(a=al(n,r),n){case"dialog":Re("cancel",e),Re("close",e),i=r;break;case"iframe":case"object":case"embed":Re("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)Re(Mi[i],e);i=r;break;case"source":Re("error",e),i=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=r;break;case"details":Re("toggle",e),i=r;break;case"input":fc(e,r),i=el(e,r),Re("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",e);break;case"textarea":pc(e,r),i=rl(e,r),Re("invalid",e);break;default:i=r}ol(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var d=f[o];o==="style"?Bd(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ud(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ki(e,d):typeof d=="number"&&Ki(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wi.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Re("scroll",e):d!=null&&ql(e,o,d,a))}switch(n){case"input":zo(e),hc(e,r,!1);break;case"textarea":zo(e),mc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)fh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=mr(ro.current),mr(ln.current),Qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(o=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return ut(t),null;case 13:if(Ie(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Pt!==null&&t.mode&1&&!(t.flags&128))Lf(),ni(),t.flags|=98560,o=!1;else if(o=Qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[an]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),o=!1}else qt!==null&&(Ul(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ye===0&&(Ye=3):Ou())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return ii(),Rl(e,t),e===null&&Ji(t.stateNode.containerInfo),ut(t),null;case 10:return fu(t.type._context),ut(t),null;case 17:return kt(t.type)&&ba(),ut(t),null;case 19:if(Ie(je),o=t.memoizedState,o===null)return ut(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Oi(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=La(e),a!==null){for(t.flags|=128,Oi(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>ai&&(t.flags|=128,r=!0,Oi(o,!1),t.lanes=4194304)}else{if(!r)if(e=La(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Me)return ut(t),null}else 2*He()-o.renderingStartTime>ai&&n!==1073741824&&(t.flags|=128,r=!0,Oi(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,n=je.current,Le(je,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return Eu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function Iv(e,t){switch(lu(t),t.tag){case 1:return kt(t.type)&&ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),Ie(wt),Ie(dt),yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(Ie(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(je),null;case 4:return ii(),null;case 10:return fu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Yo=!1,ct=!1,Av=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){Be(e,t,r)}}var id=!1;function Mv(e,t){if(vl=_a,e=yf(),au(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,f=-1,d=-1,v=0,w=0,g=e,P=null;t:for(;;){for(var b;g!==n||i!==0&&g.nodeType!==3||(f=a+i),g!==o||r!==0&&g.nodeType!==3||(d=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(b=g.firstChild)!==null;)P=g,g=b;for(;;){if(g===e)break t;if(P===n&&++v===i&&(f=a),P===o&&++w===r&&(d=a),(b=g.nextSibling)!==null)break;g=P,P=g.parentNode}g=b}n=f===-1||d===-1?null:{start:f,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(yl={focusedElem:e,selectionRange:n},_a=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var l=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var h=l.memoizedProps,y=l.memoizedState,c=t.stateNode,s=c.getSnapshotBeforeUpdate(t.elementType===t.type?h:Wt(t.type,h),y);c.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){Be(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return l=id,id=!1,l}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Il(t,n,o)}i=i.next}while(i!==r)}}function Qa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[to],delete t[wl],delete t[yv],delete t[gv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sa));else if(r!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}var it=null,Kt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)mh(e,t,n),n=n.sibling}function mh(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:ct||Kr(n,t);case 6:var r=it,i=Kt;it=null,Mn(e,t,n),it=r,Kt=i,it!==null&&(Kt?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Kt?(e=it,n=n.stateNode,e.nodeType===8?zs(e.parentNode,n):e.nodeType===1&&zs(e,n),Xi(e)):zs(it,n.stateNode));break;case 4:r=it,i=Kt,it=n.stateNode.containerInfo,Kt=!0,Mn(e,t,n),it=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Il(n,t,a),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!ct&&(Kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Be(n,t,f)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Mn(e,t,n),ct=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Av),t.forEach(function(r){var i=$v.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:it=f.stateNode,Kt=!1;break e;case 3:it=f.stateNode.containerInfo,Kt=!0;break e;case 4:it=f.stateNode.containerInfo,Kt=!0;break e}f=f.return}if(it===null)throw Error(K(160));mh(o,a,i),it=null,Kt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(v){Be(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vh(t,e),t=t.sibling}function vh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),rn(e),r&4){try{Bi(3,e,e.return),Qa(3,e)}catch(h){Be(e,e.return,h)}try{Bi(5,e,e.return)}catch(h){Be(e,e.return,h)}}break;case 1:$t(t,e),rn(e),r&512&&n!==null&&Kr(n,n.return);break;case 5:if($t(t,e),rn(e),r&512&&n!==null&&Kr(n,n.return),e.flags&32){var i=e.stateNode;try{Ki(i,"")}catch(h){Be(e,e.return,h)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,f=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&Dd(i,o),al(f,a);var v=al(f,o);for(a=0;a<d.length;a+=2){var w=d[a],g=d[a+1];w==="style"?Bd(i,g):w==="dangerouslySetInnerHTML"?Ud(i,g):w==="children"?Ki(i,g):ql(i,w,g,v)}switch(f){case"input":tl(i,o);break;case"textarea":jd(i,o);break;case"select":var P=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Qr(i,!!o.multiple,b,!1):P!==!!o.multiple&&(o.defaultValue!=null?Qr(i,!!o.multiple,o.defaultValue,!0):Qr(i,!!o.multiple,o.multiple?[]:"",!1))}i[to]=o}catch(h){Be(e,e.return,h)}}break;case 6:if($t(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(h){Be(e,e.return,h)}}break;case 3:if($t(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(t.containerInfo)}catch(h){Be(e,e.return,h)}break;case 4:$t(t,e),rn(e);break;case 13:$t(t,e),rn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cu=He())),r&4&&ad(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(v=ct)||w,$t(t,e),ct=v):$t(t,e),rn(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!w&&e.mode&1)for(ne=e,w=e.child;w!==null;){for(g=ne=w;ne!==null;){switch(P=ne,b=P.child,P.tag){case 0:case 11:case 14:case 15:Bi(4,P,P.return);break;case 1:Kr(P,P.return);var l=P.stateNode;if(typeof l.componentWillUnmount=="function"){r=P,n=P.return;try{t=r,l.props=t.memoizedProps,l.state=t.memoizedState,l.componentWillUnmount()}catch(h){Be(r,n,h)}}break;case 5:Kr(P,P.return);break;case 22:if(P.memoizedState!==null){ld(g);continue}}b!==null?(b.return=P,ne=b):ld(g)}w=w.sibling}e:for(w=null,g=e;;){if(g.tag===5){if(w===null){w=g;try{i=g.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=Vd("display",a))}catch(h){Be(e,e.return,h)}}}else if(g.tag===6){if(w===null)try{g.stateNode.nodeValue=v?"":g.memoizedProps}catch(h){Be(e,e.return,h)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;w===g&&(w=null),g=g.return}w===g&&(w=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:$t(t,e),rn(e),r&4&&ad(e);break;case 21:break;default:$t(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ph(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ki(i,""),r.flags&=-33);var o=od(e);Nl(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,f=od(e);Ml(e,f,a);break;default:throw Error(K(161))}}catch(d){Be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nv(e,t,n){ne=e,yh(e)}function yh(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Yo;if(!a){var f=i.alternate,d=f!==null&&f.memoizedState!==null||ct;f=Yo;var v=ct;if(Yo=a,(ct=d)&&!v)for(ne=i;ne!==null;)a=ne,d=a.child,a.tag===22&&a.memoizedState!==null?ud(i):d!==null?(d.return=a,ne=d):ud(i);for(;o!==null;)ne=o,yh(o),o=o.sibling;ne=i,Yo=f,ct=v}sd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):sd(e)}}function sd(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||Qa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wc(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wc(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var g=w.dehydrated;g!==null&&Xi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}ct||t.flags&512&&Al(t)}catch(P){Be(t,t.return,P)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function ld(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function ud(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qa(4,t)}catch(d){Be(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){Be(t,i,d)}}var o=t.return;try{Al(t)}catch(d){Be(t,o,d)}break;case 5:var a=t.return;try{Al(t)}catch(d){Be(t,a,d)}}}catch(d){Be(t,t.return,d)}if(t===e){ne=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ne=f;break}ne=t.return}}var Dv=Math.ceil,Ia=Sn.ReactCurrentDispatcher,xu=Sn.ReactCurrentOwner,At=Sn.ReactCurrentBatchConfig,we=0,tt=null,Ge=null,ot=0,xt=0,qr=Jn(0),Ye=0,so=null,kr=0,Ga=0,Pu=0,Hi=null,gt=null,Cu=0,ai=1/0,hn=null,Aa=!1,Dl=null,qn=null,Zo=!1,Vn=null,Ma=0,$i=0,jl=null,ua=-1,ca=0;function pt(){return we&6?He():ua!==-1?ua:ua=He()}function Qn(e){return e.mode&1?we&2&&ot!==0?ot&-ot:wv.transition!==null?(ca===0&&(ca=ef()),ca):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:lf(e.type)),e):1}function Gt(e,t,n,r){if(50<$i)throw $i=0,jl=null,Error(K(185));uo(e,n,r),(!(we&2)||e!==tt)&&(e===tt&&(!(we&2)&&(Ga|=n),Ye===4&&zn(e,ot)),St(e,r),n===1&&we===0&&!(t.mode&1)&&(ai=He()+500,Wa&&er()))}function St(e,t){var n=e.callbackNode;wm(e,t);var r=ga(e,e===tt?ot:0);if(r===0)n!==null&&gc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gc(n),t===1)e.tag===0?_v(cd.bind(null,e)):Tf(cd.bind(null,e)),mv(function(){!(we&6)&&er()}),n=null;else{switch(tf(r)){case 1:n=Zl;break;case 4:n=Zd;break;case 16:n=ya;break;case 536870912:n=Jd;break;default:n=ya}n=Ph(n,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gh(e,t){if(ua=-1,ca=0,we&6)throw Error(K(327));var n=e.callbackNode;if(Jr()&&e.callbackNode!==n)return null;var r=ga(e,e===tt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var i=we;we|=2;var o=wh();(tt!==e||ot!==t)&&(hn=null,ai=He()+500,vr(e,t));do try{Uv();break}catch(f){_h(e,f)}while(1);du(),Ia.current=o,we=i,Ge!==null?t=0:(tt=null,ot=0,t=Ye)}if(t!==0){if(t===2&&(i=dl(e),i!==0&&(r=i,t=zl(e,i))),t===1)throw n=so,vr(e,0),zn(e,r),St(e,He()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!jv(i)&&(t=Na(e,r),t===2&&(o=dl(e),o!==0&&(r=o,t=zl(e,o))),t===1))throw n=so,vr(e,0),zn(e,r),St(e,He()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:fr(e,gt,hn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Cu+500-He(),10<t)){if(ga(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_l(fr.bind(null,e,gt,hn),t);break}fr(e,gt,hn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Qt(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dv(r/1960))-r,10<r){e.timeoutHandle=_l(fr.bind(null,e,gt,hn),r);break}fr(e,gt,hn);break;case 5:fr(e,gt,hn);break;default:throw Error(K(329))}}}return St(e,He()),e.callbackNode===n?gh.bind(null,e):null}function zl(e,t){var n=Hi;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=Na(e,t),e!==2&&(t=gt,gt=n,t!==null&&Ul(t)),e}function Ul(e){gt===null?gt=e:gt.push.apply(gt,e)}function jv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Pu,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function cd(e){if(we&6)throw Error(K(327));Jr();var t=ga(e,0);if(!(t&1))return St(e,He()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var r=dl(e);r!==0&&(t=r,n=zl(e,r))}if(n===1)throw n=so,vr(e,0),zn(e,t),St(e,He()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,gt,hn),St(e,He()),null}function Tu(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(ai=He()+500,Wa&&er())}}function Sr(e){Vn!==null&&Vn.tag===0&&!(we&6)&&Jr();var t=we;we|=1;var n=At.transition,r=Ce;try{if(At.transition=null,Ce=1,e)return e()}finally{Ce=r,At.transition=n,we=t,!(we&6)&&er()}}function Eu(){xt=qr.current,Ie(qr)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pv(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ba();break;case 3:ii(),Ie(wt),Ie(dt),yu();break;case 5:vu(r);break;case 4:ii();break;case 13:Ie(je);break;case 19:Ie(je);break;case 10:fu(r.type._context);break;case 22:case 23:Eu()}n=n.return}if(tt=e,Ge=e=Gn(e.current,null),ot=xt=t,Ye=0,so=null,Pu=Ga=kr=0,gt=Hi=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}pr=null}return e}function _h(e,t){do{var n=Ge;try{if(du(),aa.current=Ra,Fa){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fa=!1}if(wr=0,et=Xe=ze=null,Vi=!1,io=0,xu.current=null,n===null||n.return===null){Ye=1,so=t,Ge=null;break}e:{var o=e,a=n.return,f=n,d=t;if(t=ot,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var v=d,w=f,g=w.tag;if(!(w.mode&1)&&(g===0||g===11||g===15)){var P=w.alternate;P?(w.updateQueue=P.updateQueue,w.memoizedState=P.memoizedState,w.lanes=P.lanes):(w.updateQueue=null,w.memoizedState=null)}var b=Yc(a);if(b!==null){b.flags&=-257,Zc(b,a,f,o,t),b.mode&1&&Xc(o,v,t),t=b,d=v;var l=t.updateQueue;if(l===null){var h=new Set;h.add(d),t.updateQueue=h}else l.add(d);break e}else{if(!(t&1)){Xc(o,v,t),Ou();break e}d=Error(K(426))}}else if(Me&&f.mode&1){var y=Yc(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Zc(y,a,f,o,t),uu(oi(d,f));break e}}o=d=oi(d,f),Ye!==4&&(Ye=2),Hi===null?Hi=[o]:Hi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var c=nh(o,d,t);$c(o,c);break e;case 1:f=d;var s=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qn===null||!qn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=rh(o,f,t);$c(o,_);break e}}o=o.return}while(o!==null)}Sh(n)}catch(x){t=x,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function wh(){var e=Ia.current;return Ia.current=Ra,e===null?Ra:e}function Ou(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),tt===null||!(kr&268435455)&&!(Ga&268435455)||zn(tt,ot)}function Na(e,t){var n=we;we|=2;var r=wh();(tt!==e||ot!==t)&&(hn=null,vr(e,t));do try{zv();break}catch(i){_h(e,i)}while(1);if(du(),we=n,Ia.current=r,Ge!==null)throw Error(K(261));return tt=null,ot=0,Ye}function zv(){for(;Ge!==null;)kh(Ge)}function Uv(){for(;Ge!==null&&!dm();)kh(Ge)}function kh(e){var t=xh(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Sh(e):Ge=t,xu.current=null}function Sh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iv(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ge=null;return}}else if(n=Rv(n,t,xt),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Ye===0&&(Ye=5)}function fr(e,t,n){var r=Ce,i=At.transition;try{At.transition=null,Ce=1,Vv(e,t,n,r)}finally{At.transition=i,Ce=r}return null}function Vv(e,t,n,r){do Jr();while(Vn!==null);if(we&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(km(e,o),e===tt&&(Ge=tt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zo||(Zo=!0,Ph(ya,function(){return Jr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var a=Ce;Ce=1;var f=we;we|=4,xu.current=null,Mv(e,n),vh(n,e),sv(yl),_a=!!vl,yl=vl=null,e.current=n,Nv(n),fm(),we=f,Ce=a,At.transition=o}else e.current=n;if(Zo&&(Zo=!1,Vn=e,Ma=i),o=e.pendingLanes,o===0&&(qn=null),mm(n.stateNode),St(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Aa)throw Aa=!1,e=Dl,Dl=null,e;return Ma&1&&e.tag!==0&&Jr(),o=e.pendingLanes,o&1?e===jl?$i++:($i=0,jl=e):$i=0,er(),null}function Jr(){if(Vn!==null){var e=tf(Ma),t=At.transition,n=Ce;try{if(At.transition=null,Ce=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,Ma=0,we&6)throw Error(K(331));var i=we;for(we|=4,ne=e.current;ne!==null;){var o=ne,a=o.child;if(ne.flags&16){var f=o.deletions;if(f!==null){for(var d=0;d<f.length;d++){var v=f[d];for(ne=v;ne!==null;){var w=ne;switch(w.tag){case 0:case 11:case 15:Bi(8,w,o)}var g=w.child;if(g!==null)g.return=w,ne=g;else for(;ne!==null;){w=ne;var P=w.sibling,b=w.return;if(hh(w),w===v){ne=null;break}if(P!==null){P.return=b,ne=P;break}ne=b}}}var l=o.alternate;if(l!==null){var h=l.child;if(h!==null){l.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(h!==null)}}ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ne=a;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bi(9,o,o.return)}var c=o.sibling;if(c!==null){c.return=o.return,ne=c;break e}ne=o.return}}var s=e.current;for(ne=s;ne!==null;){a=ne;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,ne=m;else e:for(a=s;ne!==null;){if(f=ne,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Qa(9,f)}}catch(x){Be(f,f.return,x)}if(f===a){ne=null;break e}var _=f.sibling;if(_!==null){_.return=f.return,ne=_;break e}ne=f.return}}if(we=i,er(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ua,e)}catch{}r=!0}return r}finally{Ce=n,At.transition=t}}return!1}function dd(e,t,n){t=oi(n,t),t=nh(e,t,1),e=Kn(e,t,1),t=pt(),e!==null&&(uo(e,1,t),St(e,t))}function Be(e,t,n){if(e.tag===3)dd(e,e,n);else for(;t!==null;){if(t.tag===3){dd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=oi(n,e),e=rh(t,e,1),t=Kn(t,e,1),e=pt(),t!==null&&(uo(t,1,e),St(t,e));break}}t=t.return}}function Bv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ot&n)===n&&(Ye===4||Ye===3&&(ot&130023424)===ot&&500>He()-Cu?vr(e,0):Pu|=n),St(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):t=1);var n=pt();e=wn(e,t),e!==null&&(uo(e,t,n),St(e,n))}function Hv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bh(e,n)}function $v(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),bh(e,n)}var xh;xh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,Fv(e,t,n);_t=!!(e.flags&131072)}else _t=!1,Me&&t.flags&1048576&&Ef(t,Ca,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;la(e,t),e=t.pendingProps;var i=ti(t,dt.current);Zr(t,n),i=_u(null,t,r,e,i,n);var o=wu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(o=!0,xa(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pu(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Cl(t,r,e,n),t=Ol(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&su(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(la(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kv(r),e=Wt(r,e),i){case 0:t=El(null,t,r,e,n);break e;case 1:t=td(null,t,r,e,n);break e;case 11:t=Jc(null,t,r,e,n);break e;case 14:t=ed(null,t,r,Wt(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),El(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),td(e,t,r,i,n);case 3:e:{if(sh(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Af(e,t),Oa(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=oi(Error(K(423)),t),t=nd(e,t,r,n,i);break e}else if(r!==i){i=oi(Error(K(424)),t),t=nd(e,t,r,n,i);break e}else for(Pt=Wn(t.stateNode.containerInfo.firstChild),Ct=t,Me=!0,qt=null,n=Rf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===i){t=kn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return Mf(t),e===null&&bl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,gl(r,i)?a=null:o!==null&&gl(r,o)&&(t.flags|=32),ah(e,t),ht(e,t,a,n),t.child;case 6:return e===null&&bl(t),null;case 13:return lh(e,t,n);case 4:return mu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Jc(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Le(Ta,r._currentValue),r._currentValue=a,o!==null)if(Xt(o.value,a)){if(o.children===i.children&&!wt.current){t=kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){a=o.child;for(var d=f.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=yn(-1,n&-n),d.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var w=v.pending;w===null?d.next=d:(d.next=w.next,w.next=d),v.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),xl(o.return,n,t),f.lanes|=n;break}d=d.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),xl(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zr(t,n),i=Mt(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=Wt(r,t.pendingProps),i=Wt(r.type,i),ed(e,t,r,i,n);case 15:return ih(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),la(e,t),t.tag=1,kt(r)?(e=!0,xa(t)):e=!1,Zr(t,n),th(t,r,i),Cl(t,r,i,n),Ol(null,t,r,!0,e,n);case 19:return uh(e,t,n);case 22:return oh(e,t,n)}throw Error(K(156,t.tag))};function Ph(e,t){return Yd(e,t)}function Wv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new Wv(e,t,n,r)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kv(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gl)return 11;if(e===Xl)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function da(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Lu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Dr:return yr(n.children,i,o,t);case Ql:a=8,i|=8;break;case Xs:return e=It(12,n,t,i|2),e.elementType=Xs,e.lanes=o,e;case Ys:return e=It(13,n,t,i),e.elementType=Ys,e.lanes=o,e;case Zs:return e=It(19,n,t,i),e.elementType=Zs,e.lanes=o,e;case Ad:return Xa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rd:a=10;break e;case Id:a=9;break e;case Gl:a=11;break e;case Xl:a=14;break e;case Nn:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=It(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function yr(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function Xa(e,t,n,r){return e=It(22,e,r,t),e.elementType=Ad,e.lanes=n,e.stateNode={isHidden:!1},e}function qs(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Qs(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Es(0),this.expirationTimes=Es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,o,a,f,d){return e=new qv(e,t,n,f,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=It(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(o),e}function Qv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ch(e){if(!e)return Yn;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(kt(n))return Cf(e,n,t)}return t}function Th(e,t,n,r,i,o,a,f,d){return e=Fu(n,r,!0,e,i,o,a,f,d),e.context=Ch(null),n=e.current,r=pt(),i=Qn(n),o=yn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,uo(e,i,r),St(e,r),e}function Ya(e,t,n,r){var i=t.current,o=pt(),a=Qn(i);return n=Ch(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,a),e!==null&&(Gt(e,i,a,o),oa(e,i,a)),a}function Da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ru(e,t){fd(e,t),(e=e.alternate)&&fd(e,t)}function Gv(){return null}var Eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}Za.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Ya(e,t,null,null)};Za.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Ya(null,e,null,null)}),t[_n]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var t=of();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&sf(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hd(){}function Xv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=Da(a);o.call(v)}}var a=Th(t,r,e,0,null,!1,!1,"",hd);return e._reactRootContainer=a,e[_n]=a.current,Ji(e.nodeType===8?e.parentNode:e),Sr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var v=Da(d);f.call(v)}}var d=Fu(e,0,!1,null,null,!1,!1,"",hd);return e._reactRootContainer=d,e[_n]=d.current,Ji(e.nodeType===8?e.parentNode:e),Sr(function(){Ya(t,d,n,r)}),d}function es(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var f=i;i=function(){var d=Da(a);f.call(d)}}Ya(t,a,e,i)}else a=Xv(n,t,e,i,r);return Da(a)}nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ai(t.pendingLanes);n!==0&&(Jl(t,n|1),St(t,He()),!(we&6)&&(ai=He()+500,er()))}break;case 13:Sr(function(){var r=wn(e,1);if(r!==null){var i=pt();Gt(r,e,1,i)}}),Ru(e,1)}};eu=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=pt();Gt(t,e,134217728,n)}Ru(e,134217728)}};rf=function(e){if(e.tag===13){var t=Qn(e),n=wn(e,t);if(n!==null){var r=pt();Gt(n,e,t,r)}Ru(e,t)}};of=function(){return Ce};af=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};ll=function(e,t,n){switch(t){case"input":if(tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$a(r);if(!i)throw Error(K(90));Nd(r),tl(r,i)}}}break;case"textarea":jd(e,n);break;case"select":t=n.value,t!=null&&Qr(e,!!n.multiple,t,!1)}};Wd=Tu;Kd=Sr;var Yv={usingClientEntryPoint:!1,Events:[fo,Vr,$a,Hd,$d,Tu]},Li={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zv={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gd(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||Gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Ua=Jo.inject(Zv),sn=Jo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(t))throw Error(K(200));return Qv(e,t,null,n)};Et.createRoot=function(e,t){if(!Au(e))throw Error(K(299));var n=!1,r="",i=Eh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,null,n,!1,r,i),e[_n]=t.current,Ji(e.nodeType===8?e.parentNode:e),new Iu(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=Gd(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Sr(e)};Et.hydrate=function(e,t,n){if(!Ja(t))throw Error(K(200));return es(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!Au(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Eh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Th(t,null,e,1,n??null,i,!1,o,a),e[_n]=t.current,Ji(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Za(t)};Et.render=function(e,t,n){if(!Ja(t))throw Error(K(200));return es(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!Ja(e))throw Error(K(40));return e._reactRootContainer?(Sr(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};Et.unstable_batchedUpdates=Tu;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ja(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return es(e,t,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oh)}catch(e){console.error(e)}}Oh(),Ed.exports=Et;var Jv=Ed.exports,Lh,pd=Jv;Lh=pd.createRoot,pd.hydrateRoot;let Fh=logseq.isMainUIVisible;function ey(e,t){return logseq.on(e,t),()=>{logseq.off(e,t)}}const ty=e=>ey("ui:visible:changed",({visible:t})=>{Fh=t,e()}),ny=()=>Cd.useSyncExternalStore(ty,()=>Fh);function ry(){const e=za.useRef(null);return ny()?fa("main",{className:"backdrop-filter backdrop-blur-md fixed inset-0 flex items-center justify-center",onClick:n=>{e.current?.contains(n.target)||window.logseq.hideMainUI()},children:fa("div",{ref:e,className:"text-size-2em",children:"Welcome to [[Logseq]] Plugins!"})}):null}var Rh={exports:{}};/*!
 * Copyright (c) 2017 Apple Inc. All rights reserved.
 * 
 * # LivePhotosKit JS License
 * 
 * **IMPORTANT:** This Apple LivePhotosKit software is supplied to you by Apple
 * Inc. ("Apple") in consideration of your agreement to the following terms, and
 * your use, reproduction, or installation of this Apple software constitutes
 * acceptance of these terms. If you do not agree with these terms, please do not
 * use, reproduce or install this Apple software.
 * 
 * This Apple LivePhotosKit software is supplied to you by Apple Inc. ("Apple") in
 * consideration of your agreement to the following terms, and your use,
 * reproduction, or installation of this Apple software constitutes acceptance of
 * these terms. If you do not agree with these terms, please do not use, reproduce
 * or install this Apple software.
 * 
 * This software is licensed to you only for use with LivePhotos that you are
 * authorized or legally permitted to embed or display on your website. 
 * 
 * The LivePhotosKit Software is only licensed and intended for the purposes set
 * forth above and may not be used for other purposes or in other contexts without
 * Apple's prior written permission. For the sake of clarity, you may not and
 * agree not to or enable others to, modify or create derivative works of the
 * LivePhotosKit Software.
 * 
 * Neither the name, trademarks, service marks or logos of Apple Inc. may be used
 * to endorse or promote products, services without specific prior written
 * permission from Apple. Except as expressly stated in this notice, no other
 * rights or licenses, express or implied, are granted by Apple herein.
 * 
 * The LivePhotosKit Software is provided by Apple on an "AS IS" basis. APPLE
 * MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE
 * IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE, REGARDING THE LIVEPHOTOSKIT SOFTWARE OR ITS USE AND
 * OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS, SYSTEMS, OR SERVICES.
 * APPLE DOES NOT WARRANT THAT THE LIVEPHOTOSKIT SOFTWARE WILL MEET YOUR
 * REQUIREMENTS, THAT THE OPERATION OF THE LIVEPHOTOSKIT SOFTWARE WILL BE
 * UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS IN THE LIVEPHOTOSKIT SOFTWARE WILL BE
 * CORRECTED, OR THAT THE LIVEPHOTOSKIT SOFTWARE WILL BE COMPATIBLE WITH FUTURE
 * APPLE PRODUCTS, SOFTWARE OR SERVICES. NO ORAL OR WRITTEN INFORMATION OR ADVICE
 * GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE WILL CREATE A WARRANTY. 
 * 
 * IN NO EVENT SHALL APPLE BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL
 * OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) RELATING TO OR ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION,
 * OR INSTALLATION, OF THE LIVEPHOTOSKIT SOFTWARE BY YOU OR OTHERS, HOWEVER CAUSED
 * AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE), STRICT
 * LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE. SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OF LIABILITY FOR
 * PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION
 * MAY NOT APPLY TO YOU. In no event shall Apple's total liability to you for all
 * damages (other than as may be required by applicable law in cases involving
 * personal injury) exceed the amount of fifty dollars ($50.00). The foregoing
 * limitations will apply even if the above stated remedy fails of its essential
 * purpose. 
 * 
 * 
 * **ACKNOWLEDGEMENTS:**
 * https://cdn.apple-livephotoskit.com/lpk/1/acknowledgements.txt
 * 
 * v1.5.6
 */(function(e,t){(function(n,r){e.exports=r()})(Fi,function(){return function(n){function r(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var i={};return r.m=n,r.c=i,r.i=function(o){return o},r.d=function(o,a,f){r.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:f})},r.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(a,"a",a),a},r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},r.p="",r(r.s=25)}([function(n,r,i){function o(T){if(T){var I=T.staticMembers;I&&a.call(this,I),a.call(this.prototype,T)}}function a(T){for(var I in T)if(T.hasOwnProperty(I)&&I!=="staticMembers"){var R=Object.getOwnPropertyDescriptor(T,I);R.get||R.set?Object.defineProperty(this,I,R):f.call(this,I,T[I])}}function f(T,I){var R=this[T];return R instanceof Function&&I instanceof Function?d.call(this,T,I,R):j.instanceOrKindOf(I,j.Metadata)?v.call(this,T,I):void(this[T]=I)}function d(T,I,R){this[T]=function(){var L=this._super;this._super=R;var M=I.apply(this,arguments);return this._super=L,M}}function v(T,I){this.hasOwnProperty("_metadatas")||(this._metadatas=Object.create(this._metadatas)),(I.isLPKClass?I.sharedInstance:I).registerOnDefinition(this,T)}function w(T){var I=this["_callbacksFor_"+T];if(I){var R=void 0;if(arguments.length>1){R=j.arrayPool.get();for(var L=1,M=arguments.length;L<M;L++)R[L-1]=arguments[L]}var U=void 0;if(U=this._triggerPauseStack){var H=U[U.length-1];if(H[H.length-1]!=="IS_FLUSHING")return void H.push(this,T,R)}for(var q=0,W=I.length;q<W;q++){var G=I[q];G&&G.apply(this,R)}R&&j.arrayPool.ret(R)}}function g(T,I){if(T.indexOf(".")!==-1)return b.call(this,T,I);var R="_callbackToIndexMapFor_"+T,L=this.hasOwnProperty(R)?this[R]:this[R]=this[R]?new Q.a(this[R]):new Q.a;if(L.get(I)===void 0){var M="_callbacksFor_"+T,U=this.hasOwnProperty(M)?this[M]:this[M]=this[M]?this[M].slice():[];L.set(I,U.length),U.push(I)}}function P(T,I){if(T.indexOf(".")!==-1)return l.call(this,T,I);var R="_callbackToIndexMapFor_"+T,L=this[R];if(L&&L.get(I)!==void 0){var M=this.hasOwnProperty(R)?this[R]:this[R]=this[R]?new Q.a(this[R]):new Q.a,U="_callbacksFor_"+T;(this.hasOwnProperty(U)?this[U]:this[U]=this[U]?this[U].slice():[])[M.get(I)]=null,M.delete(I)}}function b(T,I,R){var L="_"+T+"_"+j.guidFor(I)+"_"+j.guidFor(R),M="_chainListenerMaintenanceCallback_for"+L;if(!this[M]){var U=T.indexOf("."),H=U!==-1,q=T.substring(U+1),W=q.substring(0,(q.indexOf(".")+1||q.length+1)-1),G=T.substring(0,U===-1?T.length:U),re="_chainListenerPreviousStoredValue_for"+L,le=function(he){var pe=R||this;if(W&&H){var Fe=this[G],ge=this[re];Fe!==ge&&(this[re]=Fe,ge&&ge.isLPKObservable&&l.call(ge,q,I,pe),Fe&&Fe.isLPKObservable&&b.call(Fe,q,I,pe))}he||I.call(pe)};g.call(this,G,le),this.isInitialized&&le.call(this,!0),this[M]=le}}function l(T,I,R){var L="_"+T+"_"+j.guidFor(I)+"_"+j.guidFor(R),M="_chainListenerMaintenanceCallback_for"+L,U=this[M];if(U){var H=T.indexOf("."),q=T.substring(0,H===-1?T.length:H);P.call(this,q,U);var W="_chainListenerPreviousStoredValue_for"+L,G=this[W];if(G&&G.isLPKObservable){this[W]=void 0;var re=T.substring(H+1),le=R||this;l.call(G,re,I,le)}this[M]=void 0}}function h(T,I){g.apply(this,arguments),this.isInitialized&&I.call(this)}function y(T,I){P.apply(this,arguments)}function c(){var T=this._nextObserverId=(this._nextObserverId||0)+1,I="_runtimeObserver"+T,R=j.observer.apply(j.observer,arguments);return R.registerOnDefinition(this,I),R}function s(T){var I=this._metadatas[T];I&&I.invalidateForObject&&I.invalidateForObject(this)}function m(T){return j.resolvePropertyPathFromObject(this,T)}function _(T,I){var R=T.lastIndexOf(".");if(R===-1)return void(this[T]=I);var L=j.resolvePropertyPathFromObject(this,T.slice(0,R));L&&(L[T.slice(R+1)]=I)}function x(){for(var T=j.objectPool.get(),I=0,R=arguments.length;I<R;I++){var L=arguments[I];T[L]=this.getPath(L)}return T}function C(){var T=arguments.length,I=arguments[T-1],R=j.arrayPool.get();if(T>1)for(var L=0;L<T-1;L++)R[L]=arguments[L];else for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&R.push(M);j.Object.prototype.pauseNotifications();for(var U=0,H=R.length;U<H;U++){var q=R[U];this.setPath(q,I[q])}j.Object.prototype.resumeNotifications(),j.arrayPool.ret(R)}function S(){(this.hasOwnProperty("_triggerPauseStack")?this._triggerPauseStack:this._triggerPauseStack=j.arrayPool.get()).push(j.arrayPool.get())}function O(){var T=this.hasOwnProperty("_triggerPauseStack")&&this._triggerPauseStack;if(!T)throw"Unmatched `resumeNotifications` call. Cannot over-resume notifications.";var I=T[T.length-1];N(I),T.pop(),j.arrayPool.ret(I),T.length||(delete this._triggerPauseStack,j.arrayPool.ret(T))}function N(T){T.push("IS_FLUSHING");for(var I=j.objectPool.get(),R=0,L=T.length-1;R<L;R+=3){var M=T[R],U=T[R+1],H=T[R+2],q=j.guidFor(M)+":"+U,W=I[q];W!==void 0&&(T[W]=null),I[q]=H?void 0:R}j.objectPool.ret(I);for(var G=0,re=T.length-1;G<re;G+=3){var le=T[G];if(le){var he=T[G+1],pe=T[G+2];pe?(pe.unshift(he),le.trigger.apply(le,pe),j.arrayPool.ret(pe)):le.trigger(he)}}}var F=i(47),V=i(20),Q=i(19),ee=i(44),ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},j={mixin:function(T){for(var I=arguments.length,R=Array(I>1?I-1:0),L=1;L<I;L++)R[L-1]=arguments[L];for(var M=1,U=arguments.length;M<U;M++){var H=arguments[M];if(H)for(var q in H)H.hasOwnProperty(q)&&(T[q]=H[q])}},instanceOf:function(T,I){return!!T&&(T.constructor===I||j.kindOf(T.constructor,I))},kindOf:function(T,I){if(!(T&&T.isLPKClass&&I&&I.isLPKClass))return!1;do if(T===I)return!0;while(T=T.superclass);return!1},instanceOrKindOf:function(T,I){return j.instanceOf(T,I)||j.kindOf(T,I)},isHash:function(T){var I=void 0;return!((T===void 0?"undefined":ae(T))!=="object"||T===null||(I=T.constructor)&&I!==Object||T.isLPKObject||T.isLPKClass)},arrayPool:F.a,mapPool:F.b,objectPool:F.c,canvasPool:F.d,String:ee.a,Array:{mapIntoArray:function(T,I,R){var L=T.length;R.length!==L&&(R.length=L);for(var M=0;M<L;M++)R[M]=I(T[M],M);return R}},resolvePropertyPathFromObject:function(T,I){for(var R=I.indexOf("."),L=0,M=T;R!==-1;){if(!(M=M[I.substring(L,R)]))return;L=R+1,R=I.indexOf(".",L)}return M[I.substring(L)]},InequalityTests:{DEFAULT:function(T,I,R){return T!==I||Array.isArray(T)||j.isHash(T)},STRICT:function(T,I,R){return T!==I},NAN_AWARE:function(T,I,R){return!Object.is(T,I)}},guidFor:V.a,reusableObject:{},emptyArray:[],Object:null,Metadata:null,observer:null,MetadataExtension:null,metadataExtension:null,AccumulatorMetadata:null,accumulator:null,ObserverMetadata:null,Property:null,property:null,ObservableProperty:null,observableProperty:null,ProxyProperty:null,proxyProperty:null,boundFunction:null};j.Object={staticMembers:{isLPKClass:!0,isLPKObservable:!0,isInitialized:!0,create:function(){for(var T=arguments.length,I=Array(T),R=0;R<T;R++)I[R]=arguments[R];var L=Object.create(this.prototype);return L.constructor=this,L.init.apply(L,arguments),L},extend:function(){for(var T=arguments.length,I=Array(T),R=0;R<T;R++)I[R]=arguments[R];var L=Object.create(this);return L.prototype=Object.create(L.prototype),Array.prototype.forEach.call(arguments,o,L),L.superclass=this,L.init(),L},init:function(){},isClassFor:function(T){var I=T&&T.constructor;return!(!I||!this.isSuperclassOf(I))},isSuperclassOf:function(T){var I=this;if(!(T&&T.isLPKClass&&I&&I.isLPKClass))return!1;do if(T===I)return!0;while(T=T.superclass);return!1},_super:null,_metadatas:{},trigger:w,_listen:g,_observe:h,_unlisten:P,_unobserve:y,observe:c,propertyChanged:s,pauseNotifications:S,resumeNotifications:O,getPath:m,setPath:_,getMultiple:x,setMultiple:C},isLPKObject:!0,isLPKObservable:!0,isInitialized:!1,_metadatas:{},init:function(T){j.mixin(this,T),this._awakenPropertiesWithAccessors()},_awakenPropertiesWithAccessors:function(){var T=j.arrayPool.get(),I=this._metadatas;do T.push(I);while(I=Object.getPrototypeOf(I));for(var R,L=j.arrayPool.get(),M=j.arrayPool.get(),U=j.arrayPool.get(),H=j.mapPool.get(),q=T.length-1;R=T[q];q--){for(var W in R)if(R.hasOwnProperty(W)){var G=R[W];if(G.hasAccessors){var re=this[W];if(re!==void 0){var le=H.get(G);le!==void 0&&(L[le]=M[le]=void 0),H.set(G,L.length),L.push(G),M.push(re)}}}U.push(L.length)}this.isInitialized=!0,j.Object.prototype.pauseNotifications();for(var he=0,pe=M.length;he<pe;he++){var Fe=M[he];Fe!==void 0&&L[he].awakenForObjectWithValue(this,Fe)}j.Object.prototype.resumeNotifications(),j.arrayPool.ret(T),j.arrayPool.ret(L),j.arrayPool.ret(M),j.arrayPool.ret(U),j.mapPool.ret(H)},_super:null,trigger:w,_listen:g,_observe:h,_unlisten:P,_unobserve:y,observe:c,propertyChanged:s,pauseNotifications:S,resumeNotifications:O,getPath:m,setPath:_,getMultiple:x,setMultiple:C},j.Object.staticMembers.prototype=j.Object,j.Object=j.Object.staticMembers,delete j.Object.prototype.staticMembers,Object.defineProperty(j.Object,"sharedInstance",{get:function(){return this.hasOwnProperty("_internalValue_for_sharedInstance")||(this._internalValue_for_sharedInstance=this.create()),this._internalValue_for_sharedInstance},set:function(){throw"Cannot write to a read-only property."}}),j.Metadata=j.Object.extend({registerOnDefinition:function(T,I){T._metadatas[I]=this},unregisterFromDefinition:function(T,I){T._metadatas[I]=void 0}}),j.MetadataExtension=j.Metadata.extend({init:function(T){this._super(),this._extensionParams=T},registerOnDefinition:function(T,I){T._metadatas[I].constructor.extend(this._extensionParams).sharedInstance.registerOnDefinition(T,I)}}),j.metadataExtension=j.MetadataExtension.create.bind(j.MetadataExtension),j.AccumulatorMetadata=j.Metadata.extend({init:function(T){this._super(),this.value=T},registerOnDefinition:function(T,I){var R=T[I];T[I]=this.accumulateValues(T,R,this.value)},accumulateValues:function(T,I,R){if(Array.isArray(I)&&Array.isArray(R))return I.concat(R);if(I&&I.isLPKClass&&j.isHash(R))return I.extend(R);if(R instanceof Function)return R.call(T,I);throw"Cannot use accumulators this way yet."}}),j.accumulator=j.AccumulatorMetadata.create.bind(j.AccumulatorMetadata),j.ObserverMetadata=j.Metadata.extend({staticMembers:{_collector:[]},dependencies:[],observerCallback:function(){throw"Must specify `observerCallback` on observers."},decideRequiresUpdate:j.InequalityTests.DEFAULT,init:function(){if(j.isHash(arguments[0]))this._super.apply(this,arguments);else{var T=Array.prototype.slice.call(arguments),I=T.pop();this._super({dependencies:T,observerCallback:I})}},registerOnDefinition:function(T,I){this._super.apply(this,arguments),this.keyOnObject=I;var R=this;this._invokeObserverCallbackIfNeeded=this._invokeObserverCallbackIfNeeded||(this._invokeObserverCallbackIfNeeded=function(){var U=R.dependencies,H=R.observerCallback,q=R.constructor._collector;q.length=U.length;var W=!1;R._shouldForceNextInvocationOfObserverCallback&&(R._shouldForceNextInvocationOfObserverCallback=!1,W=!0);for(var G=0;G<U.length;G++){var re=U[G],le=this.getPath(re),he="_lastValueSeenByObserver_"+I+"_forDependency_"+re,pe=this[he];this[he]=le,!W&&R.decideRequiresUpdate(le,pe,re)&&(W=!0),q[G]=le}W&&H.apply(this,q),q.length=0}),T[this.keyOnObject]=T[this.keyOnObject]||(T[this.keyOnObject]=function(){R._shouldForceNextInvocationOfObserverCallback=!0,R._invokeObserverCallbackIfNeeded.call(this)});for(var L=this.dependencies,M=0;M<L.length;M++)T.isInitialized?T._observe(L[M],this._invokeObserverCallbackIfNeeded):T._listen(L[M],this._invokeObserverCallbackIfNeeded)},unregisterFromDefinition:function(T,I){this._super.apply(this,arguments);for(var R=this.dependencies,L=0;L<R.length;L++)T._unlisten(R[L],this._invokeObserverCallbackIfNeeded)}}),j.observer=j.ObserverMetadata.create.bind(j.ObserverMetadata),j.Property=j.Metadata.extend({staticMembers:{extend:function(T){return arguments.length!==1||j.isHash(T)?this._super.apply(this,arguments):this._super({defaultValue:T})}},hasAccessors:!0,readOnly:!1,defaultValue:void 0,get:null,set:null,keyOnObject:null,storageKeyOnObject:null,_defaultGetter:function(T){return T},_defaultSetter:function(T){return T},_internalGetterForObject:function(T){return this.get.call(T,T[this.storageKeyOnObject])},_internalSetterForObject:function(T,I){T[this.storageKeyOnObject]=this.set.call(T,I)},init:function(T){var I=this;if(arguments.length!==1||j.isHash(T)?this._super.apply(this,arguments):this._super({defaultValue:T}),this.get||(this.get=this._defaultGetter),this.readOnly){if(this.set)throw"Cannot include both `readOnly` and `set`.";this.set=function(R){if(I._isAwakeningInReadOnlyMode)return I._isAwakeningInReadOnlyMode=!1,R;throw"Cannot write to a read-only property"}}else this.set||(this.set=this._defaultSetter)},registerOnDefinition:function(T,I){this._super.apply(this,arguments),this.keyOnObject=I;var R=this.storageKeyOnObject="_internalValue_for_"+I;this._internalGetterForObject=this._internalGetterForObject.bind(this),this._internalSetterForObject=this._internalSetterForObject.bind(this);var L=this;Object.defineProperty(T,I,{get:function(){return this.isInitialized?L._internalGetterForObject(this):this[R]},set:function(M){if(!this.isInitialized)return void(this[R]=M);L._internalSetterForObject(this,M)}}),T[I]=this.defaultValue},unregisterFromDefinition:function(T,I){j.reusableObject[I]=void 0;var R=Object.getOwnPropertyDescriptor(j.reusableObject,I);delete j.reusableObject[I],Object.defineProperty(T,I,R),delete T["_internalValue_for_"+I],this._super.apply(this,arguments)},awakenForObjectWithValue:function(T,I){this.readOnly&&(this._isAwakeningInReadOnlyMode=!0),I instanceof Function&&(I=I.call(T)),T[this.keyOnObject]=I}}),j.property=j.Property.extend.bind(j.Property),j.ObservableProperty=j.Property.extend({isCacheable:!1,dependencies:[],writeDependencies:[],decideRequiresUpdate:j.InequalityTests.DEFAULT,_internalSetterForObject:function(T){this._super.apply(this,arguments),this.invalidateForObject(T)},_internalGetterForObject:function(T){if(!this.isCacheable)return this._super.apply(this,arguments);var I=this.cacheExistenceKeyOnObject;if(T[I])return T[this.cacheStorageKeyOnObject];var R=this._super.apply(this,arguments);return T[I]=!0,T[this.cacheStorageKeyOnObject]=R,R},invalidateForObject:function(T){T[this.cacheExistenceKeyOnObject]=!1,T[this.cacheStorageKeyOnObject]=void 0,T.trigger(this.keyOnObject)},registerOnDefinition:function(T,I){this._super.apply(this,arguments);var R=this;this.cacheStorageKeyOnObject="_cacheStorageForProperty_"+I,this.cacheExistenceKeyOnObject="_cacheExistenceForProperty_"+I,j.observer({dependencies:this.dependencies,observerCallback:function(){R.invalidateForObject(this)},decideRequiresUpdate:this.decideRequiresUpdate}).registerOnDefinition(T,"_dependencyObserverForProperty_"+I),this.didChange&&j.observer({dependencies:[I],observerCallback:this.didChange,decideRequiresUpdate:this.decideRequiresUpdate}).registerOnDefinition(T,"_didChangeObserverForProperty_"+I)}}),j.observableProperty=j.ObservableProperty.extend.bind(j.ObservableProperty),j.ProxyProperty=j.ObservableProperty.extend({proxyPath:null,decode:function(T){return T},encode:function(T){return T},init:function(T){var I=typeof T=="string"?T:T.proxyPath;if(!I)throw"A proxyPath must be configured on a ProxyProperty.";this.dependencies=[I];var R=this;this.get=function(){return R.decode(this.getPath(R.proxyPath))},T&&T.readOnly||(this.set=function(L){this.setPath(R.proxyPath,R.encode(L))}),typeof T=="string"?this._super({proxyPath:T}):this._super.apply(this,arguments)}}),j.proxyProperty=j.ProxyProperty.create.bind(j.ProxyProperty),j.boundFunction=function(T){return j.property(function(){return T.bind(this)})},r.a=j},function(n,r,i){i.d(r,"a",function(){return o});var o={default:"full",FULL:"full",HINT:"hint",LOOP:"loop"}},function(n,r,i){function o(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}var a=function(){function w(g,P){for(var b=0;b<P.length;b++){var l=P[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(g,l.key,l)}}return function(g,P,b){return P&&w(g.prototype,P),b&&w(g,b),g}}(),f=navigator.userAgent.toLowerCase(),d=/\sedge\//.test(f),v=function(){function w(){o(this,w)}return a(w,null,[{key:"isEdge",get:function(){return d}},{key:"isChrome",get:function(){return w._isChrome}},{key:"isSafari",get:function(){return w._isSafari}},{key:"isFirefox",get:function(){return w._isFirefox}},{key:"isIE",get:function(){return w._isIE}},{key:"isIOS",get:function(){if(w._isIOS)return!0;var g=window.top,P=g.document;return!(!w._macLike||!("ontouchstart"in g||"createTouch"in P))}}]),w}();r.a=v,v._isChrome=!v.isEdge&&/chrome/.test(f),v._isSafari=!v.isEdge&&!v.isChrome&&/safari/.test(f),v._isFirefox=!v.isEdge&&!v.isChrome&&!v.isSafari&&/firefox/.test(f),v._isIE=!v.isEdge&&!v.isChrome&&!v.isSafari&&!v.isFirefox&&/trident|msie/.test(f),v._isIOS=!!navigator.userAgent.match(/\b(iPad|iPhone|iPod)\b.*\bOS \d+_\d+/i),v._macLike=/mac/i.test(navigator.userAgent)&&!/like mac/i.test(navigator.userAgent)},function(n,r,i){var o=i(10),a=i(1);i.d(r,"a",function(){return f});var f={_mappingToLocalizedStrings:{live:"Live",get bounce(){return o.a.getString("VideoEffects.Badge.Title.Bounce")},get exposure(){return o.a.getString("VideoEffects.Badge.Title.LongExposure")},get loop(){return o.a.getString("VideoEffects.Badge.Title.Loop")}},_mappingToPlaybackStyle:{bounce:a.a.LOOP,exposure:a.a.FULL,live:a.a.FULL,loop:a.a.LOOP},default:"live",BOUNCE:"bounce",EXPOSURE:"exposure",LIVE:"live",LOOP:"loop",toBadgeText:function(d){return this.toLocalizedString(d).toLocaleUpperCase()},toLocalizedString:function(d){return this._mappingToLocalizedStrings[d||f.default]},toPlaybackStyle:function(d){return this._mappingToPlaybackStyle[d||a.a.default]}}},function(n,r,i){function o(s,m,_){return m in s?Object.defineProperty(s,m,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[m]=_,s}var a=i(0),f=i(7),d=i(39),v=i(38),w=i(40),g=i(9),P=Object.assign||function(s){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(s[x]=_[x])}return s},b=a.a.Object.extend({layerName:null,renderLayerClass_dom:null,renderLayerMixin:{},init:function(s){this._super(),this.renderLayerMixin=s},getRenderLayer:function(s,m){return this["renderLayerClass_"+s.approach].extend(this.renderLayerMixin,{layerName:this.layerName}).create(s,m)}}),l=b.extend({renderLayerClass_dom:d.a}),h=b.extend({renderLayerClass_dom:v.a}),y=b.extend({renderLayerClass_dom:w.a}),c=a.a.Object.extend({staticMembers:{PhotoIngredient:l,InterpolatedVideoIngredient:h,VideoIngredient:y,computedStyle:f.a.computedStyle,getRecipeFromPlaybackStyle:function(s){return this._recipesByPlaybackStyle[s]},registerRecipeWithPlaybackStyle:function(s,m){this._recipesByPlaybackStyle=P({},this._recipesByPlaybackStyle,o({},m,s))}},correspondingPlaybackStyle:null,get name(){return"recipe_for_playbackStyle_"+this.correspondingPlaybackStyle},minimumShortenedDuration:0,spontaneousFinishDuration:0,ingredients:null,requiresInterpolation:!1,init:function(s){this.ingredients=[],this._super();for(var m in s)if(s.hasOwnProperty(m)){var _=s[m];this[m]=_,b.isClassFor(_)&&(_.layerName=m,this.ingredients.push(_))}this.correspondingPlaybackStyle&&c.registerRecipeWithPlaybackStyle(this,this.correspondingPlaybackStyle)},getRenderLayers:function(s){for(var m,_=[],x=0;m=this.ingredients[x];x++)m.isDisabled||_.push(m.getRenderLayer(s,this));return _},beginFinishingPlaybackEarly:function(s){if(!s.isPlaying)return void(s.wantsToPlay=!1);s.duration=Math.min(s.duration,Math.max(this.minimumShortenedDuration,s.currentTime+this.spontaneousFinishDuration))},calculateAnimationDuration:function(s,m,_){return m||0},continuePlayback:function(s){s.currentTime<s.duration?s._rafID=requestAnimationFrame(s._nextFrame.bind(s)):(s.stop(),s.dispatchEvent(i.i(g.f)()))},register:function(){},requestMoreCompatibleRecipe:function(){return this}});r.a=c},function(n,r,i){var o=i(12),a={debug:function(f){for(var d=arguments.length,v=Array(d>1?d-1:0),w=1;w<d;w++)v[w-1]=arguments[w];o.a&&console.debug.apply(console,arguments)},log:function(f){for(var d=arguments.length,v=Array(d>1?d-1:0),w=1;w<d;w++)v[w-1]=arguments[w];o.a&&console.log.apply(console,arguments)},info:function(f){for(var d=arguments.length,v=Array(d>1?d-1:0),w=1;w<d;w++)v[w-1]=arguments[w];o.a&&console.info.apply(console,arguments)},warn:function(f){for(var d=arguments.length,v=Array(d>1?d-1:0),w=1;w<d;w++)v[w-1]=arguments[w];console.warn.apply(console,arguments)},error:function(f){for(var d=arguments.length,v=Array(d>1?d-1:0),w=1;w<d;w++)v[w-1]=arguments[w];console.error.apply(console,arguments)}};r.a=a},function(n,r,i){i.d(r,"a",function(){return o});var o;(function(a){a[a.FAILED_TO_DOWNLOAD_RESOURCE=0]="FAILED_TO_DOWNLOAD_RESOURCE",a[a.PHOTO_FAILED_TO_LOAD=1]="PHOTO_FAILED_TO_LOAD",a[a.VIDEO_FAILED_TO_LOAD=2]="VIDEO_FAILED_TO_LOAD"})(o||(o={}))},function(n,r,i){var o=i(8),a=i(0),f=o.a.extend({_hasBeenDisposed:!1,staticMembers:{computedStyle:function(d){return d._lpk_isComputedStyle=!0,d}},recipe:a.a.observableProperty(),renderer:a.a.observableProperty(),duration:a.a.proxyProperty("renderer.duration"),canRender:a.a.observableProperty(!1),computedStyles:a.a.property(function(){return[]}),displayWidth:0,displayHeight:0,shouldLoop:!1,init:function(d,v){this.renderer=d,this.recipe=v,this._super();for(var w in this){var g=this[w];g&&g._lpk_isComputedStyle&&this.computedStyles.push({styleKey:w,getter:g})}},updateSize:function(d,v){if(!arguments.length)return this.updateSize(this.displayWidth,this.displayHeight);this.displayWidth=d,this.displayHeight=v},setUpForRender:function(){},tearDownFromRender:function(){this.reduceMemoryFootprint()},reduceMemoryFootprint:function(){},_canRenderDidChange:a.a.observer("canRender","renderer._lastRecipe",function(d,v){var w=this.recipe,g=this.renderer;this._hasBeenDisposed||(!d||!v||v!==w&&g._hasInitialized?this.tearDownFromRender():(g._hasInitialized=!0,this.setUpForRender(),this.updateSize()))}),prepareToRenderAtTime:function(){return!0},canRenderAtTime:function(){return!0},renderAtTime:function(d){if(!arguments.length)return this.renderAtTime(this._lastRenderedTime);this._lastRenderedTime=d;for(var v,w=0;v=this.computedStyles[w];w++)v.value=v.getter.call(this,d);this.renderStyles(this.computedStyles)},renderStyles:function(d){},dispose:function(){this.detach(),this._hasBeenDisposed=!0}});r.a=f},function(n,r,i){var o=i(0),a=o.a.Object.extend({element:null,_lpk_isView:!0,tagName:"div",eventDispatchingElement:null,init:function(f){f?this.element=f:this.tagName&&(this.element=document.createElement(this.tagName)),this._super()},attachInto:function(f,d,v){if(!this.element)return void(this.parentView=f);d||(d=f.element),v&&v._lpk_isView&&(v=v.element),v?d.insertBefore(this.element,v):d.appendChild(this.element),this.parentView=f},detach:function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.parentView=null},dispatchEvent:function(f){var d=this.eventDispatchingElement||this.element;if(!d)throw"Cannot dispatch an event from a view with no DOM element.";d.dispatchEvent.call(d,f)},parentView:o.a.observableProperty(null)});r.a=a},function(n,r,i){function o(b){return function(l){return new CustomEvent(b,{detail:l})}}var a=i(14);i.d(r,"a",function(){return f}),i.d(r,"b",function(){return d}),i.d(r,"f",function(){return v}),i.d(r,"e",function(){return w}),i.d(r,"c",function(){return g}),i.d(r,"d",function(){return P}),function(){function b(l,h){h=h||{bubbles:!1,cancelable:!1,detail:void 0};var y=document.createEvent("CustomEvent");return y.initCustomEvent(l,h.bubbles,h.cancelable,h.detail),y}if(typeof window.CustomEvent=="function")return!1;b.prototype=window.Event.prototype,window.CustomEvent=b}();var f=o(a.a.LIVEPHOTOSKIT_LOADED),d=o("canplay"),v=o("ended"),w=o("error"),g=o("photoload"),P=o("videoload")},function(n,r,i){var o=i(0),a=["ar-sa","ca-cs","cs-cz","da-dk","nl-nl","pt-br","pt-pt","no-no","el-gr","en-us","fi-fi","fr-fr","de-de","he-il","hr-hr","hu-hu","id-id","it-it","ja-jp","ko-kr","ms-my","pl-pl","ro-ro","ru-ru","zh-cn","zh-tw","sk-sk","es-es","sv-se","th-th","tr-tr","uk-ua","vi-vi"],f={"es-419":"es-es",pt:"pt-pt",no:"no-no",nb:"no-no",nn:"no-no",zh:"zh-cn","zh-Hans":"zh-cn","zh-Hant":"zh-tw","zh-HK":"zh-tw","zh-MO":"zh-tw","zh-SG":"zh-cn"},d={};for(var v in f){var w=f[v],g=d[w]||[];d[w]=[].concat(function(x){if(Array.isArray(x)){for(var C=0,S=Array(x.length);C<x.length;C++)S[C]=x[C];return S}return Array.from(x)}(g),[v])}for(var P={},b=0;b<a.length;b++){var l=a[b];try{var h=i(21)("./"+l+".lproj/strings.json"),y=l.split("-")[0],c=d[l];if(P[l]=h,P[y]||(P[y]=h),c)for(var s in c)P[s]=h}catch{}}var m=function(x){var C=_.locale,S=_.strings;return(S[C]||S["en-us"])[x]||""},_=o.a.Object.extend({locale:o.a.observableProperty({get:function(x){return x||window.navigator.language},set:function(x){return x}}),getString:m,strings:P}).create();r.a=_},function(n,r,i){function o(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function a(F){var V=parseFloat(F);if(+V===V)return V;var Q=F==="true"||F!=="false"&&void 0;return!!Q===Q?Q:F}var f=i(27),d=i(0),v=i(5),w=i(1),g=i(3),P=i(12);i.d(r,"a",function(){return C}),i.d(r,"b",function(){return S}),i.d(r,"c",function(){return O});var b=Object.assign||function(F){for(var V=1;V<arguments.length;V++){var Q=arguments[V];for(var ee in Q)Object.prototype.hasOwnProperty.call(Q,ee)&&(F[ee]=Q[ee])}return F},l="property",h={play:"method",pause:"method",stop:"method",toggle:"method",beginFinishingPlaybackEarly:"method",isPlaying:"read_only_property",wantsToPlay:"read_only_property",currentTime:"read_only_property",renderedTime:"read_only_property",duration:"read_only_property",autoplay:l,caption:l,playbackStyle:l,preloadedEffectType:l,updateSize:"method",photoWidth:"read_only_property",photoHeight:"read_only_property",videoWidth:"read_only_property",videoHeight:"read_only_property",effectType:l,proactivelyLoadsVideo:l,photoSrc:l,photoMimeType:l,videoSrc:l,videoMimeType:l,metadataVideoSrc:l,photo:l,video:l,photoTime:l,frameTimes:l,videoRotation:l,canPlay:"read_only_property",loadProgress:"read_only_property",errors:"read_only_property",showsNativeControls:l,observe:"method"};delete h.observe;var y=function(){var F=[];for(var V in h)h.hasOwnProperty(V)&&F.push(V);return F}(),c={},s=y.map(function(F){var V="data-"+d.a.String.hyphenate(F);return c[V]=F,V}),m=y.map(function(F){return h[F]}),_={enumerable:!1,configurable:!1,writable:!1},x={enumerable:!1,configurable:!1},C=function(F,V){if(!F)return v.a.warn("LivePhotosKit.augmentElementAsPlayer requires a target element to augment."),null;if(F.tagName==="IMG"){var Q=document.createElement("div"),ee=F.parentNode,ae=F.getAttribute("src"),j=F.getAttribute("photo-src")||ae;F.removeAttribute("src"),F.setAttribute("data-photo-src",j);for(var T=F.attributes,I=0;I<T.length;I++){var R=T[I],L=R.nodeName,M=R.value;Q.setAttribute(L,M)}ee.insertBefore(Q,F),ee.removeChild(F),F=Q}var U=void 0,H=void 0,q=F;if(q.__isLPKPlayer__)return q;_.value=!0,Object.defineProperty(q,"__isLPKPlayer__",_);var W=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.a&&!Se.videoSrc&&Se.photoSrc?v.a.warn("Changing a `photoSrc` independent of its `videoSrc` can result in unexpected behavior"):P.a&&Se.videoSrc&&!Se.photoSrc&&v.a.warn("Changing a `videoSrc` independent of its `photoSrc` can result in unexpected behavior");var ye=H?{photoSrc:H.photo,videoSrc:H.videoSrc,effectType:H.effectType,autoplay:H.autoplay,proactivelyLoadsVideo:H.proactivelyLoadsVideo}:{},de=b({},ye,Se),Te=(de.photoSrc,de.videoSrc,de.effectType),nt=de.autoplay,$e=de.proactivelyLoadsVideo;U=d.a.objectPool.get(),de.preloadedEffectType=Te,de.autoplay=nt!==!1;var rt=Te||g.a.default;g.a.toPlaybackStyle(rt)===w.a.LOOP&&de.autoplay&&(P.a&&!$e&&v.a.warn("When using a looping asset you should set `proactivelyLoadsVideo` to `true` unless `autoplay` is also set to `false`"),de.proactivelyLoadsVideo=!0);for(var ft in de)Object.prototype.hasOwnProperty.call(de,ft)&&(h[ft]===l?U[ft]=de[ft]:v.a.warn("LivePhotosKit.Player: Initial configuration for `"+ft+"` was ignored, because the property is not a writable property."));if(H)for(var Yt in U){var bn=U[Yt];H[Yt]=bn}else H=f.a.create(q,U);d.a.objectPool.ret(U),U=null};q.setProperties=W,q.setProperties(V);for(var G,re,le=0;(G=y[le])&&(re=m[le]);le++)(function(Se,ye,de){de==="method"?(_.value=H[ye].bind(H),Object.defineProperty(q,ye,_)):(x.set=de===l?function(Te){H[ye]=Te}:function(){},x.get=function(){return H[ye]},Object.defineProperty(q,ye,x))})(0,G,re);_.value=function(){var Se=arguments.length,ye=arguments[Se-1];if(Se<1||!(ye instanceof Function))throw new Error("Invalid arguments passed to `observe`. Form: key, [key, ], callback.");for(var de=d.a.arrayPool.get(),Te=0,nt=Se;Te<nt;Te++)de[Te]=arguments[Te];for(var $e=0,rt=Se-1;$e<rt;$e++){var ft=h[de[$e]];if(ft!==l&&ft!=="read_only_property")throw new Error("Can't observe non-observable property '"+de[$e]+"'.")}de[Se-1]=ye.bind(this);var Yt=H.observe.apply(H,de);return d.a.arrayPool.ret(de),new N(Yt,H)},Object.defineProperty(q,"observe",_);for(var G,re,he,le=0;(G=y[le])&&(re=m[le])&&(he=s[le]);le++)if(re===l){var pe=q.getAttribute(he);pe&&(G==="effectType"?H.preloadedEffectType=a(pe):H[G]=a(pe))}var Fe=q.setAttribute;_.value=function(Se,ye){var de=c[Se];if(!de)return void Fe.apply(this,arguments);this[de]=a(ye)},Object.defineProperty(q,"setAttribute",_);var ge=q.removeAttribute;_.value=function(Se){var ye=c[Se];if(!ye)return ge.apply(this,arguments);this[ye]=null},Object.defineProperty(q,"removeAttribute",_);for(var ke,Ne,Ee,Ze=0;(ke=y[Ze])&&(Ne=m[Ze])&&(Ee=s[Ze]);Ze++)(function(Se,ye,de,Te){if(de!==l&&de!=="read_only_property")return"continue";q.observe(ye,function(nt){nt==null||typeof nt!="string"&&+nt!==nt&&typeof nt!="boolean"?ge.call(this,Te):Fe.call(this,Te,String(nt))})})(0,ke,Ne,Ee);return q.getAttribute("data-live-photo")!==""&&q.setAttribute("data-live-photo",""),_.value=H,Object.defineProperty(q,"__internalLPKPlayer__",_),_.value=void 0,x.set=x.get=void 0,q},S=function(F){var V=document.createElement("div");return C(V,F)},O=function(F,V){if(arguments.length>=3||typeof arguments[0]=="string"&&typeof arguments[1]=="string")throw new Error("LivePhotosKit.Player: Creating a new Player using arguments of the form 'photoSrc, videoSrc, [targetElement, [options]]' is no longer supported. Instead, use the new signature, '[targetElement, [options]]");return v.a.warn("The `LivePhotosKit.Player` method will be deprecated in an upcoming release. Please use the `LivePhotosKit.augementElementAsPlayer` or `LivePhotosKit.createPlayer` methods, instead."),F?C(F,V):S(V)},N=function F(V,Q){o(this,F),this.fire=function(){Q[V.keyOnObject]()},this.disconnect=function(){V.unregisterFromDefinition(Q)},this.connect=function(){V.registerOnDefinition(Q)}}},function(n,r,i){var o=/_lpk_debug=true/i;r.a=o.test(window.location.search)||o.test(window.location.hash)},function(n,r,i){var o={setUpForRender:function(){this.attachInto(this.renderer)},tearDownFromRender:function(){this.detach(),this._super()},renderStyles:function(a){for(var f,d=this.element,v=d.style,w=0;f=a[w];w++){var g=f,P=g.styleKey,b=g.value;v[P]!==b&&(v[P]=b)}}};r.a=o},function(n,r,i){var o=i(55),a=i(56),f=i(57);r.a={APP_NAME:"LivePhotosKit",BUILD_NUMBER:o.a,MASTERING_NUMBER:a.a,FEEDBACK_URL_PREFIX:"https://feedbackws.icloud.com",LIVEPHOTOSKIT_LOADED:"livephotoskitloaded",URL_PREFIX:"https://cdn.apple-livephotoskit.com",VERSION:f.a}},function(n,r,i){function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=i(3),f=i(50),d=i(18),v=i(10),w=i(1);i.d(r,"a",function(){return b});var g=function(){function l(h,y){for(var c=0;c<y.length;c++){var s=y[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}return function(h,y,c){return y&&l(h.prototype,y),c&&l(h,c),h}}(),P={element:null,label:"",labelPadding:6,leftPadding:5,height:25,backgroundColor:"rgba(255, 255, 255, 0.7)",itemColor:"rgb(0, 0, 0)",fontSize:9,borderRadius:5,dottedRadius:8.5,innerRadius:5.25,zIndex:4,shouldAnimateProgressRing:!0,progressRingAnimationSpeed:300,shouldAddEventListeners:!0,effectType:null,playbackStyle:null,configurePlayAction:i.i(f.a)(),configureStopAction:i.i(f.a)()},b=function(){function l(){var h=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o(this,l),this._setInstanceProps(y),this._createCanvas(),this.redraw(),this._addEventListeners(),v.a.observe("locale",function(){return h.updateBadgeText()})}return g(l,[{key:"attachPlayerInstance",value:function(h){h.attachBadgeView(this),this.updateBadgeText(h.effectType)}},{key:"redraw",value:function(){var h=this.progress;h>0&&this.shouldAnimateProgressRing?this._animateProgressRing():this._redraw(h)}},{key:"reset",value:function(){var h=this._requestedFrame;h&&cancelAnimationFrame(h),this._progress=0,this._previousProgress=0,this.redraw()}},{key:"appendTo",value:function(h){h.appendChild(this.element)}},{key:"updateAriaLabel",value:function(){var h=a.a.toLocalizedString(this.effectType),y=v.a.getString("VideoEffects.Badge");this.element.setAttribute("aria-label",y+": "+h)}},{key:"updateBadgeText",value:function(h){h?this.effectType=h:h=this.effectType,this.label=h?a.a.toBadgeText(h):"",this.playbackStyle=a.a.toPlaybackStyle(h),this.updateAriaLabel(),this._redraw()}},{key:"_createCanvas",value:function(){var h=this.element;if(h){if(h.tagName.toLowerCase()!=="canvas")throw new Error("Backing element for LivePhotoBadge needs to be an HTMLCanvasElement.")}else h=this.element=document.createElement("canvas");h.setAttribute("role","button"),this.updateAriaLabel(),h.classList.add("lpk-badge"),this._context=h.getContext("2d")}},{key:"_setCanvasSize",value:function(){var h=this.element,y=d.a(),c=this.height,s=this.width;h.height=c*y,h.width=s*y,h.style.height=c+"px",h.style.width=s+"px"}},{key:"_setInstanceProps",value:function(h){var y={};for(var c in P)y.hasOwnProperty.call(P,c)&&(this[c]=h.hasOwnProperty(c)?h[c]:P[c]);this.defaultProps=P}},{key:"_redraw",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=(this.element,this.label),c=y.toLowerCase()||a.a.default;this._setCanvasSize(),this._context.clearRect(0,0,this.width,this.height),this._drawBackground(),this._drawLabel(),this.shouldShowError||(this._drawInnerCircle(),a.a.toPlaybackStyle(c)!==w.a.LOOP?this._drawPlayArrow():this._drawLoopCircle()),this.shouldShowError?(this._drawProgressRing(1),this._drawErrorSlash()):this.progress>0?this._drawProgressRing(h):this._drawDottedCircle()}},{key:"_drawBackground",value:function(){var h=d.a(),y=this._context,c=this.borderRadius*h,s=this.width*h,m=this.height*h;y.beginPath(),y.moveTo(c,0),y.lineTo(s-c,0),y.quadraticCurveTo(s,0,s,c),y.lineTo(s,m-c),y.quadraticCurveTo(s,m,s-c,m),y.lineTo(c,m),y.quadraticCurveTo(0,m,0,m-c),y.lineTo(0,c),y.quadraticCurveTo(0,0,c,0),y.closePath(),y.fillStyle=this.backgroundColor,y.fill()}},{key:"_drawDottedCircle",value:function(){for(var h=l.numberOfDots,y=this.dottedRadius*d.a(),c=0;c<h;c++){var s=this.x0+y*Math.cos(2*Math.PI*c/h),m=this.y0+y*Math.sin(2*Math.PI*c/h);this._drawDot(s,m)}}},{key:"_drawDot",value:function(h,y){var c=this._context,s=d.a()===1?1:1.25;c.beginPath(),c.arc(h,y,s,0,2*Math.PI),c.fillStyle=this.itemColor,c.fill()}},{key:"_drawInnerCircle",value:function(){var h=d.a(),y=this._context,c=this.innerRadius*h;y.beginPath(),y.arc(this.x0,this.y0,c,0,2*Math.PI),y.lineWidth=h===1?1.25:1.5,y.strokeStyle=this.itemColor,y.stroke()}},{key:"_drawPlayArrow",value:function(){var h=d.a(),y=this._context,c=5*h,s=4*h,m=this.x0+.5*h,_=this.y0;y.beginPath(),y.moveTo(m-s/2,_-c/2),y.lineTo(m+s/2,_),y.lineTo(m-s/2,_+c/2),y.fillStyle=this.itemColor,y.fill()}},{key:"_drawLoopCircle",value:function(){var h=d.a(),y=this._context,c=2*h;y.beginPath(),y.arc(this.x0,this.y0,c,0,2*Math.PI),y.fillStyle=this.itemColor,y.fill()}},{key:"_drawLabel",value:function(){var h=d.a(),y=this._context,c=(this.leftPadding+2*this.dottedRadius+this.labelPadding)*h,s=(this.height/2+4.5)*h;y.fillStyle=this.itemColor,y.font=this.fontStyle,y.fillText(this.label,c,s)}},{key:"_drawProgressRing",value:function(h){var y=d.a(),c=this._context,s=this.dottedRadius*y,m=2*Math.PI*.75,_=(.75+h)*(2*Math.PI);c.beginPath(),c.arc(this.x0,this.y0,s,m,_,!1),c.lineWidth=1.5*y,c.strokeStyle=this.itemColor,c.stroke()}},{key:"_drawErrorSlash",value:function(){var h=d.a(),y=this._context,c=this.dottedRadius*h,s=c*Math.sqrt(2)/2;y.beginPath(),y.moveTo(this.x0+s,this.y0+s),y.lineTo(this.x0-s,this.y0-s),y.lineWidth=1.5*h,y.strokeStyle=this.itemColor,y.stroke()}},{key:"_animateProgressRing",value:function(){var h=this,y=this.progress,c=this._previousProgress||0,s=Math.abs(y-c),m=y<c;m&&(y=c,c=this.progress);for(var _=s*this.progressRingAnimationSpeed,x=_/(1e3/60),C=s/x,S=[],O=0,N=x;O<N;O++)S.push(c+O*C);S[S.length-1]=y,m&&S.reverse(),function F(){var V=S.shift();h._redraw(V),S.length&&(h._requestedFrame=window.requestAnimationFrame(F)),V===1&&window.setTimeout(function(){h.progress=0},.25*h.progressRingAnimationSpeed)}()}},{key:"_addEventListeners",value:function(){var h=this,y=this.element,c=void 0;y.addEventListener("mouseup",function(){c=window.setTimeout(function(){h.configurePlayAction()},0)}),y.addEventListener("mouseenter",function(){c=window.setTimeout(function(){h.configurePlayAction()},0)}),y.addEventListener("mouseleave",function(){c&&window.clearTimeout(c),h.configureStopAction()})}},{key:"width",get:function(){var h=this._context;if(!h)return 0;var y=this.dottedRadius,c=this.fontStyle,s=this.label,m=this.labelPadding,_=this.leftPadding;h.font=c;var x=h.measureText(s);this._textMetrics=x;var C=s.length>0?x.width:0;return this._width=(C>2?_:-2)+2*y+2*m+Math.ceil(C/d.a())}},{key:"fontStyle",get:function(){return this.fontSize*d.a()+'pt/1 system, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica'}},{key:"x0",get:function(){return(this.dottedRadius+this.leftPadding)*d.a()}},{key:"y0",get:function(){return this.height/2*d.a()}},{key:"progress",set:function(h){typeof h=="number"&&(this._previousProgress=this._progress,this._progress=h,this.redraw())},get:function(){return this._progress}},{key:"shouldShowError",set:function(h){this._shouldShowError=!!h,this._redraw(this.progress)},get:function(){return this._shouldShowError}}],[{key:"numberOfDots",get:function(){return d.a()===1?17:26}}]),l}()},function(n,r,i){var o=i(30),a=i(0),f=i(6),d=o.a.extend({mimeType:a.a.observableProperty({dependencies:["_mimeTypeFromXHR"],get:function(v){return this._mimeTypeFromXHR||v||null}}),_mimeTypeFromXHR:a.a.observableProperty(),requiresMimeTypeForRawArrayBufferSrc:!0,exposedMimeTypeKeyForErrorStrings:"mimeType",exposedSrcKeyForErrorStrings:"src",abortCurrentLoad:function(){this.__xhr&&(this._detachXHR(),this._xhr.abort()),this._mimeTypeFromXHR=null,this.abortCurrentSecondaryLoad()},loadSrc:function(v){if(typeof v=="string"){this._mimeTypeFromXHR=null,this._attachXHR();var w=this._xhr;w.open("GET",v),w.responseType="arraybuffer",w.send(null)}else if(v instanceof ArrayBuffer){if(!this.mimeType&&this.requiresMimeTypeForRawArrayBufferSrc)throw new Error("MIME Type must be assigned to `"+this.exposedMimeTypeKeyForErrorStrings+"` prior to assigning a raw ArrayBuffer to `"+this.exposedSrcKeyForErrorStrings+"`.");this.beginSecondaryLoad(v,this.mimeType)}},get _xhr(){var v=this.__xhr;return v||(v=this.__xhr=new XMLHttpRequest),v},_detachXHR:function(){var v=this._xhr;v.removeEventListener("progress",this._xhrProgress),v.removeEventListener("readystatechange",this._xhrReadyStateChanged)},_attachXHR:function(){var v=this._xhr;v.addEventListener("progress",this._xhrProgress),v.addEventListener("readystatechange",this._xhrReadyStateChanged)},_xhrReadyStateChanged:function(){if(this.state==="loading"){if(this._xhr.readyState>=2&&this._xhr.status!==200){var v=new Error("Failed to download resource from URL assigned to '"+this.exposedSrcKeyForErrorStrings+"'.");return v.errCode=f.a.FAILED_TO_DOWNLOAD_RESOURCE,this.loadDidFail(v)}return this._xhr.readyState===4&&this._xhr.status===200?this._xhrLoadDidFinish():void 0}},_xhrProgress:function(v){if(v&&v.total){var w=(+v.loaded||0)/v.total;+w===w&&(this.progress=Math.max(0,Math.min(1,w)))}},_xhrLoadDidFinish:function(){this._mimeTypeFromXHR=this._xhr.getResponseHeader("Content-Type"),this.beginSecondaryLoad(this._xhr.response,this.mimeType)},beginSecondaryLoad:function(v,w){this._defaultSecondaryLoadTimeout=setTimeout(this.loadDidSucceed.bind(this,v),0)},abortCurrentSecondaryLoad:function(){this._defaultSecondaryLoadTimeout&&(clearTimeout(this._defaultSecondaryLoadTimeout),this._defaultSecondaryLoadTimeout=null)},init:function(){this._xhrReadyStateChanged=this._xhrReadyStateChanged.bind(this),this._xhrProgress=this._xhrProgress.bind(this),this._super()}});r.a=d},function(n,r,i){var o=i(2);r.a=o.a.isEdge||o.a.isIE},function(n,r,i){function o(){w.forEach(function(g){return g()})}function a(g){w.push(g)}function f(){return window.devicePixelRatio}function d(){return Math.ceil(f())}r.b=a,r.a=d;var v=void 0,w=[];(function(){window.matchMedia&&(v=window.matchMedia("only screen and (-webkit-min-device-pixel-ratio:1.3),only screen and (-o-min-device-pixel-ratio:13/10),only screen and (min-resolution:120dpi)"),v.addListener(o))})()},function(n,r,i){function o(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var a=function(){function d(v,w){for(var g=0;g<w.length;g++){var P=w[g];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,w,g){return w&&d(v.prototype,w),g&&d(v,g),v}}(),f=function(){function d(v){var w=this;o(this,d),this._k=[],this._v=[],v&&v._k.forEach(function(g){w.set(g,v.get(g))})}return a(d,[{key:"_indexOfKey",value:function(v){return this._k.indexOf(v)}},{key:"get",value:function(v){var w=this._indexOfKey(v);return w===-1?void 0:this._v[w]}},{key:"set",value:function(v,w){var g=this._indexOfKey(v);return g===-1&&(g=this._k.push(v)-1),this._v[g]=w,this}},{key:"delete",value:function(v){var w=this._indexOfKey(v);return w!==-1&&(this._k.splice(w,1),this._v.splice(w,1),!0)}},{key:"clear",value:function(){this._k.length>0&&(this._k.length=0,this._v.length=0)}}]),d}();r.a=f},function(n,r,i){function o(v){if(v===null)return"_null";if(v===void 0)return"_undefined";if(v.hasOwnProperty("_LPKGUID"))return v._LPKGUID;var w=v===void 0?"undefined":a(v);switch(w){case"number":Object.is(v,-0)&&(v="-0");case"string":case"boolean":return w+v;case"object":case"function":d++;var g=w+d;return f.value=g,Object.defineProperty(v,"_LPKGUID",f),g;default:throw"unrecognized object type"}}r.a=o;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f={value:"",enumerable:!1,writable:!1,configurable:!1},d=0},function(n,r,i){function o(d){return i(a(d))}function a(d){var v=f[d];if(!(v+1))throw new Error("Cannot find module '"+d+"'.");return v}var f={"./en-us.lproj/strings.json":22};o.keys=function(){return Object.keys(f)},o.resolve=a,n.exports=o,o.id=21},function(n,r){n.exports={"VideoEffects.Badge":"Badge","VideoEffects.Badge.Title.Loop":"Loop","VideoEffects.Badge.Title.Bounce":"Bounce","VideoEffects.Badge.Title.LongExposure":"Long Exposure"}},function(n,r,i){var o=i(28),a=i(32),f=i(34),d=i(37),v=i(35),w=i(4),g=i(0),P=i(8),b=i(5),l=i(1);f.a.register(),d.a.register(),v.a.register();var h=P.a.extend({approach:"",autoplay:!0,caption:"",_hasInitialized:!1,_lastRecipe:null,recipe:g.a.observableProperty({get:function(){var y=w.a.getRecipeFromPlaybackStyle(this.playbackStyle);return this._setRecipe(y),y},set:function(y){this._setRecipe(y)}}),_setRecipe:function(y){y&&y!==this._lastRecipe&&(this._lastRecipe=y,this.setUpRenderLayers())},requestMoreCompatibleRecipe:function(){this.recipe=this.recipe.requestMoreCompatibleRecipe()},duration:g.a.observableProperty({dependencies:["recipe","provider.videoDuration","provider.photoTime"],get:function(y){var c=this.recipe,s=this.provider,m=s.photoTime,_=s.videoDuration;return c?c.calculateAnimationDuration(y,_,m):0}}),displayWidth:0,displayHeight:0,get backingWidth(){return Math.round(this.displayWidth*devicePixelRatio)},get backingHeight(){return Math.round(this.displayHeight*devicePixelRatio)},get renderLayerWidth(){return this.displayWidth},get renderLayerHeight(){return this.displayHeight},get videoWidth(){return this.videoDecoder.videoWidth},get videoHeight(){return this.videoDecoder.videoHeight},photoWidth:g.a.proxyProperty("photo.width"),photoHeight:g.a.proxyProperty("photo.height"),photo:g.a.proxyProperty("provider.photo"),video:g.a.proxyProperty("provider.video"),photoTime:g.a.proxyProperty("provider.photoTime"),frameTimes:g.a.proxyProperty("provider.frameTimes"),effectType:g.a.proxyProperty("provider.effectType"),preloadedEffectType:g.a.proxyProperty("provider.preloadedEffectType"),playbackStyle:g.a.proxyProperty("provider.playbackStyle"),currentTime:g.a.observableProperty({defaultValue:0,dependencies:["duration"],get:function(y){return Math.min(this.duration||0,Math.max(0,y||0))},didChange:function(y){this.prepareToRenderAtTime(y)}}),canRenderCurrentTime:g.a.observableProperty({readOnly:!0,dependencies:["currentTime"],get:function(){return this.canRenderAtTime(this.currentTime)}}),_currentTimeRenderObserver:g.a.observer("currentTime","canRenderCurrentTime",function(y,c){c&&(this.renderedTime=y)}),renderedTime:g.a.observableProperty({defaultValue:0,didChange:function(y){this.renderAtTime(y),this.currentTime=y}}),areAllRenderLayersPrepared:g.a.observableProperty({defaultValue:!1}),isFullyPreparedForPlayback:g.a.observableProperty({readOnly:!0,dependencies:["video","areAllRenderLayersPrepared","photoTime","frameTimes","playbackStyle"],get:function(){return!!(this.video&&this.areAllRenderLayersPrepared&&(this.photoTime||this.playbackStyle!==l.a.HINT)&&Array.isArray(this.frameTimes))}}),cannotRenderDueToMissingPhotoTimeOrFrameTimes:g.a.observableProperty({readOnly:!0,dependencies:["video","areAllRenderLayersPrepared","photoTime","frameTimes","playbackStyle"],get:function(){return!!(this.video&&this.areAllRenderLayersPrepared&&(!this.photoTime&&this.playbackStyle===l.a.HINT||!Array.isArray(this.frameTimes)))}}),renderLayers:g.a.property(function(){return[]}),videoDecoder:g.a.observableProperty(function(){return this._videoDecoderClass.create({owner:this})}),_videoDecoderClass:o.a.extend({owner:g.a.observableProperty(),provider:g.a.proxyProperty("owner.provider")}),provider:g.a.observableProperty(function(){return a.a.create()}),init:function(){this._super(),this.element.className=((this.element.className||"")+" lpk-live-photo-renderer").trim(),this.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.textAlign="left"},updateSize:function(y,c){if(!arguments.length)return void(this.displayWidth&&this.displayHeight&&this.updateSize(this.displayWidth,this.displayHeight));this.displayWidth=y=Math.round(y),this.displayHeight=c=Math.round(c),this.element.style.width=y+"px",this.element.style.height=c+"px";for(var s,m=0;s=this.renderLayers[m];m++)s.updateSize(this.renderLayerWidth,this.renderLayerHeight)},_imageOrVideoDidEnterOrLeave:g.a.observer("videoDecoder.canProvideFrames","photo",function(){this.prepareToRenderAtTime(this.currentTime)}),prepareToRenderAtTime:g.a.boundFunction(function(y){this.propertyChanged("canRenderCurrentTime");for(var c,s=!0,m=0;c=this.renderLayers[m];m++)s=c.prepareToRenderAtTime(y)&&s;this.areAllRenderLayersPrepared=s}),canRenderAtTime:function(y){if(y===0)return!0;if(!this.duration&&y)return!1;for(var c,s=!0,m="",_=0;c=this.renderLayers[_];_++)c.canRenderAtTime(y)||(s=!1,m+=(m?", ":"Cannot render; waiting for ")+c.layerName);return m&&b.a.log(m+"."),s},renderAtTime:function(y){if(this.duration)for(var c,s=0;c=this.renderLayers[s];s++)c.renderAtTime(y)},getNewRenderLayers:function(){return this.recipe.getRenderLayers(this)},setUpRenderLayers:function(){var y=this.renderLayers;y&&this._cleanUpRenderLayers(y),this.renderLayers=this.getNewRenderLayers(),this.updateSize(),this.currentTime=0,this.prepareToRenderAtTime(0)},_cleanUpRenderLayers:function(y){for(var c,s=0;c=y[s];s++)c.dispose(),c.tearDownFromRender()},reduceMemoryFootprint:function(){for(var y,c=0;y=this.renderLayers[c];c++)y.reduceMemoryFootprint()},_clearRetainedFramesWhenNecessary:g.a.observer("provider.videoRotation","provider.frameTimes",function(){this.reduceMemoryFootprint(),this.prepareToRenderAtTime(this.currentTime)})});r.a=h},function(n,r,i){var o=i(23),a=o.a.extend({approach:"dom"});r.a=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(14),a=i(9),f=i(10),d=i(11);i.d(r,"augmentElementAsPlayer",function(){return d.a}),i.d(r,"createPlayer",function(){return d.b}),i.d(r,"Player",function(){return d.c});var v=i(6);i.d(r,"Errors",function(){return v.a});var w=i(15);i.d(r,"LivePhotoBadge",function(){return w.a});var g=i(1);i.d(r,"PlaybackStyle",function(){return g.a}),i.d(r,"Localization",function(){return P}),i.d(r,"BUILD_NUMBER",function(){return b}),i.d(r,"MASTERING_NUMBER",function(){return l}),i.d(r,"VERSION",function(){return h}),i.d(r,"LIVEPHOTOSKIT_LOADED",function(){return y});var P={get locale(){return f.a.locale},set locale(T){f.a.locale=T}},b=o.a.BUILD_NUMBER,l=o.a.MASTERING_NUMBER,h=o.a.VERSION,y=o.a.LIVEPHOTOSKIT_LOADED,c=typeof window<"u"&&typeof document<"u";if(c){var s=window.document;if(setTimeout(function(){return s.dispatchEvent(i.i(a.a)())}),s.styleSheets&&document.head){for(var m=null,_=null,x=0;x<s.styleSheets.length;++x)try{var C=s.styleSheets[x];if(C.cssRules)for(var S=0;S<C.cssRules.length;++S){var O=C.cssRules[S];if(O.cssText.indexOf(".lpk-live-photo-player")!==-1){m=O;break}}if(m){_=C;break}}catch(T){if(T.name!=="SecurityError"&&T.message.substring(0,17)!=="Access is denied."&&T.message.substring(0,17)!=="Member not found.")throw T}if(!_){var N=document.createElement("style");N.type="text/css",document.head.appendChild(N),_=N.sheet}var F="user-select: none;-khtml-user-select: none; -moz-user-select: none;-ms-user-select: none;-webkit-touch-callout: none; -webkit-user-select: none;";_.addRule?_.addRule(".lpk-live-photo-player",F):_.insertRule&&_.insertRule(".lpk-live-photo-player {"+F+"}",0)}}if(c&&document.querySelectorAll instanceof Function){var V=function(){j=!0,Array.prototype.forEach.call(document.querySelectorAll("[data-live-photo]"),function(T){return i.i(d.a)(T)})},Q=function(){!j&&ee&&ae&&V()},ee=/interactive|complete|loaded/.test(document.readyState),ae=!!window.LivePhotosKit,j=!1;ee||document.addEventListener("DOMContentLoaded",function(){ee=!0,Q()}),ae||document.addEventListener("livephotoskitloaded",function(){ae=!0,Q()}),Q()}},function(n,r,i){var o=i(8),a=i(18),f=i(15);i.d(r,"a",function(){return d});var d=o.a.extend({badgeView:null,init:function(){var v=this;this._super(),this._createBadgeView(),a.b(function(){return v.badgeView.redraw()})},_createBadgeView:function(){this.badgeView=new f.a,this.element.appendChild(this.badgeView.element);var v=this.badgeView.element.style;v.top="10px",v.left="10px",v.position="absolute",v.zIndex=4},updateToRendererLayout:function(v,w,g,P){var b=this.badgeView,l=b.element.style;l.left=v+10+"px",l.top=w+10+"px",l.right=""},redraw:function(){this.badgeView.redraw()}})},function(n,r,i){function o(c){if(Array.isArray(c)){for(var s=0,m=Array(c.length);s<c.length;s++)m[s]=c[s];return m}return Array.from(c)}function a(c){if(!c)return!1;try{c.appendChild(y),c.removeChild(y)}catch{return!1}return!0}var f=i(8),d=i(24),v=i(26),w=i(54),g=i(0),P=i(9),b=i(53),l=i(1),h=f.a.extend({staticMembers:{activeInstance:g.a.observableProperty(null)},renderer:g.a.observableProperty(function(){return d.a.create()}),showsNativeControls:g.a.observableProperty(!0),isPlaying:g.a.observableProperty(!1),wantsToPlay:g.a.observableProperty({defaultValue:!1,didChange:function(c){c&&(this.constructor.activeInstance=this)}}),canPlay:g.a.observableProperty({readOnly:!0,dependencies:["isPlaying","renderer.isFullyPreparedForPlayback"],get:function(){return this.isPlaying||this.renderer.isFullyPreparedForPlayback},didChange:function(c){c&&(this._hasHadCanPlay=!0,this.dispatchEvent(i.i(P.b)()),this.wantsToPlay&&this.play())}}),_generateErrorIfPlayedWithoutNecessaryMetadata:g.a.observer("renderer.cannotRenderDueToMissingPhotoTimeOrFrameTimes","wantsToPlay",function(c){c&&this.wantsToPlay&&(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=new Error("The `photoTime` and/or `frameTimes` values are missing. Provide them directly (or via `metadataVideoSrc`) if they cannot be parsed from the video.")),c||(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=null)}),_cannotRenderDueToMissingPhotoTimeOrFrameTimesError:g.a.observableProperty(),_playerErrors:g.a.observableProperty({readOnly:!0,dependencies:["_cannotRenderDueToMissingPhotoTimeOrFrameTimesError"],get:function(){var c=this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError;return c?[c]:null}}),_captionChanged:g.a.observer("caption",function(c){var s="";c&&(s=": "+c),this.element.setAttribute("aria-label","Live Photo"+s)}),_effectTypeChanged:g.a.observer("effectType",function(c){this.badgeView&&c&&this.updateBadgeText()}),errors:g.a.observableProperty({readOnly:!0,dependencies:["provider.errors","_playerErrors"],get:function(){var c=this.provider.errors,s=this._playerErrors,m=[];return c&&c.length&&m.push.apply(m,o(c)),s&&s.length&&m.push.apply(m,o(s)),m}}),lastError:g.a.observableProperty({dependencies:["provider.lastError"],get:function(c){return c||this.provider.lastError||null},didChange:function(c){c&&(this.throwError(c),this.stop())}}),playbackRate:g.a.proxyProperty("renderer.videoDecoder.playbackRate"),currentTime:g.a.proxyProperty("renderer.currentTime"),renderedTime:g.a.proxyProperty("renderer.renderedTime"),duration:g.a.proxyProperty("renderer.duration"),videoWidth:g.a.proxyProperty("renderer.videoWidth"),videoHeight:g.a.proxyProperty("renderer.videoHeight"),photoWidth:g.a.proxyProperty("renderer.photoWidth"),photoHeight:g.a.proxyProperty("renderer.photoHeight"),recipe:g.a.proxyProperty("renderer.recipe"),requiresInterpolation:g.a.proxyProperty("renderer.recipe.requiresInterpolation"),effectType:g.a.proxyProperty("provider.effectType"),preloadedEffectType:g.a.proxyProperty("renderer.preloadedEffectType"),playbackStyle:g.a.proxyProperty("renderer.playbackStyle"),provider:g.a.proxyProperty("renderer.provider"),proactivelyLoadsVideo:g.a.proxyProperty("provider.proactivelyLoadsVideo"),metadataVideoSrc:g.a.proxyProperty("provider.metadataVideoSrc"),photoMimeType:g.a.proxyProperty("provider.photoMimeType"),photoSrc:g.a.proxyProperty("provider.photoSrc"),photo:g.a.proxyProperty("provider.photo"),videoMimeType:g.a.proxyProperty("provider.videoMimeType"),videoSrc:g.a.proxyProperty("provider.videoSrc"),video:g.a.proxyProperty("provider.video"),photoTime:g.a.proxyProperty("provider.photoTime"),frameTimes:g.a.proxyProperty("provider.frameTimes"),videoRotation:g.a.proxyProperty("provider.videoRotation"),loadProgress:g.a.proxyProperty("provider.progress"),autoplay:g.a.proxyProperty("renderer.autoplay"),caption:g.a.proxyProperty("renderer.caption"),_isZeroSizeWarningLogged:g.a.observableProperty(!1),_renderWhenPossible:g.a.observer("renderer.video","renderer.photo",function(){if(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=null,this.updateSize(!0),!this._isZeroSizeWarningLogged){var c=this.element.getBoundingClientRect();c.width!==0&&c.height!==0||(console.warn("The LivePhotosKit Player located at position ("+c.left+", "+c.top+") in the viewport has either a zero width or zero height (or both) and will not render. To fix this, ensure that the Player has a style that will yield a non-zero width and height."),this._isZeroSizeWarningLogged=!0)}}),attachBadgeView:function(c){var s=this;this.badgeView=c,this.updateBadgeText(),c.configurePlayAction(function(){return s.play()}),c.configureStopAction(function(){return s.beginFinishingPlaybackEarly()})},updateBadgeText:function(){this.badgeView.updateBadgeText(this.effectType)},nativeControls:g.a.observableProperty({readOnly:!0,dependencies:["showsNativeControls"],get:function(){var c=this;return this.showsNativeControls?this._nativeControls_cachedValue||(this._nativeControls_cachedValue=v.a.extend({owner:g.a.observableProperty(this),_slurpProgress:g.a.observer("owner.provider.progress",function(s){this.badgeView&&(this.badgeView.progress=s)}),_slurpError:g.a.observer("owner.errors",function(s){this.badgeView&&(this.badgeView.shouldShowError=!!s&&s.length>0)}),init:function(){this._super.apply(this,arguments),c.attachBadgeView(this.badgeView)}}).create()):null},didChange:function(c){this._nativeControls_previousValue&&this._nativeControls_previousValue.detach(),this._nativeControls_previousValue=c,c&&c.attachInto(this)}}),init:function(c,s){var m=this;if(c&&!a(c))throw"Any pre-existing element provided for use as a LivePhotosKit.Player must be able to append child DOM nodes.";c&&c.childNodes.length&&(c.innerHTML="");for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(this[_]=s[_]);switch(this._super(c),this.element.className.indexOf("lpk-live-photo-player")<0&&(this.element.className=this.element.className+" lpk-live-photo-player"),this.element.setAttribute("role","image"),i.i(b.a)(this.element,"position")||this.element.style.position){case"absolute":case"fixed":case"relative":break;default:this.element.style.position="relative"}switch(i.i(b.a)(this.element,"display")||this.element.style.display){case"block":case"inline-block":case"table":case"table-caption":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row-group":case"table-cell":case"table-column":case"table-row":break;default:this.element.style.display="inline-block"}this.renderer.attachInto(this),this.renderer.eventDispatchingElement=this.element,window.addEventListener("resize",this.updateSize),"ontouchstart"in document.documentElement&&(this.addEventListener("touchstart",function(){return m.play()},!1),this.addEventListener("touchend",function(){return m.beginFinishingPlaybackEarly()},!1))},play:function(){if(!this.isPlaying){var c=this.provider;c.video||(c.needsLoadedVideoForPlayback=!0),this.wantsToPlay=!0,this.canPlay&&(this.isPlaying=!0,this._lastFrameNow=Date.now(),this._nextFrame())}return this.isPlaying},pause:function(){this.isPlaying=!1,this.wantsToPlay=!1,this._cancelNextFrame()},stop:function(){this.pause(),this.currentTime=0,this.renderer.duration=NaN},toggle:function(){this.wantsToPlay?this.pause():this.play()},beginFinishingPlaybackEarly:function(){this.recipe.beginFinishingPlaybackEarly(this)},_stopWhenAnotherPlayerStarts:g.a.observer("_constructor.activeInstance",function(c){c&&c!==this&&(this.stop(),this.renderer.reduceMemoryFootprint())}),_constructor:g.a.observableProperty(function(){return h}),_stopPlaybackWhenItemsLoadOrUnload:g.a.observer("video","photo",function(){!this.isPlaying||this.playbackStyle===l.a.LOOP&&this.autoplay||this.stop()}),addEventListener:function(c,s,m){var _=this.element;_.addEventListener.call(_,c,s,m)},removeEventListener:function(c,s,m){var _=this.element;_.removeEventListener.call(_,c,s,m)},_nextFrame:function(){var c=Date.now(),s=(c-this._lastFrameNow)*this.playbackRate;this._lastFrameNow=c,this.currentTime===this.renderedTime&&(this.currentTime+=s/1e3),this.recipe&&this.recipe.continuePlayback(this)},_cancelNextFrame:function(){cancelAnimationFrame(this._rafID)},updateSize:g.a.boundFunction(function(c,s){if(this.photoWidth&&this.photoHeight){var m=c===!0?void 0:c,_=c===!0?c:void 0;if(isNaN(m)||isNaN(s)?(m=this.element.offsetWidth,s=this.element.offsetHeight):(m=Math.round(m),s=Math.round(s),this.element.style.width=m+"px",this.element.style.height=s+"px"),m&&s){if(this._lastUpdateChangeToken===(this._lastUpdateChangeToken=m+":"+s)&&!_)return!1;var x=i.i(w.a)(this.photoWidth,this.photoHeight,m,s),C=Math.ceil(x.height),S=Math.ceil(x.width),O=Math.floor(m/2-S/2),N=Math.round(s/2-C/2),F=this.renderer;F.element.style.top=N+"px",F.element.style.left=O+"px",F.updateSize(S,C),this.displayWidth=m,this.displayHeight=s,this.nativeControls&&this.nativeControls.updateToRendererLayout(O,N,S,C)}}}),_dispatchPhotoLoadEventOnNewPhoto:g.a.observer("photo",function(c){c&&this.dispatchEvent(i.i(P.c)())}),_dispatchVideoLoadEventOnNewVideo:g.a.observer("video",function(c){c&&this.dispatchEvent(i.i(P.d)())}),throwError:function(c){this.dispatchEvent(i.i(P.e)({error:c,errorCode:c.errCode}))}}),y=document.createElement("div");r.a=h},function(n,r,i){function o(){y=!1}function a(){}function f(s,m){return-(s.importance-m.importance)||s.number-m.number}function d(s,m){for(var _=0,x=s.length,C=0;C<x-_;C++)if(s[C]===m&&(_++,C--),_){var S=C+1;s[S]=s[S+_]}return s.length-=_,s}var v=i(52),w=i(29),g=i(0),P=i(17),b=i(2),l=location.href.indexOf("_lpk_play_to_decode=true")!==-1||location.href.indexOf("_lpk_play_to_decode=false")===-1&&!b.a.isSafari&&!b.a.isIOS,h=location.href.indexOf("_lpk_persistent_frames=true")!==-1||(location.href.indexOf("_lpk_persistent_frames=false"),!1),y=!0,c=g.a.Object.extend({id:g.a.property(function(){return i.i(v.a)()}),provider:g.a.observableProperty(),video:g.a.proxyProperty("provider.video"),duration:g.a.proxyProperty("provider.videoDuration"),videoRotation:g.a.proxyProperty("provider.videoRotation"),frameTimes:g.a.proxyProperty("provider.frameTimes"),requiresInterpolation:g.a.proxyProperty("renderer.recipe.requiresInterpolation"),get frameCount(){var s=this.frameTimes;return s?s.length:0},shouldPrepareToSeek:!1,canProvideFrames:g.a.observableProperty({readOnly:!0,dependencies:["video"],get:function(){return!!this.video}}),videoWidth:g.a.observableProperty({readOnly:!0,dependencies:["video","videoRotation"],get:function(){var s=this.video;if(s)return this.videoRotation%180==0?s.videoWidth:s.videoHeight}}),videoHeight:g.a.observableProperty({readOnly:!0,dependencies:["video","videoRotation"],get:function(){var s=this.video;if(s)return this.videoRotation%180==0?s.videoHeight:s.videoWidth}}),playbackRate:g.a.observableProperty(1),_sendPlaybackRateToVideo:g.a.observer("playbackRate","video",function(s,m){m&&(m.playbackRate=s)}),_pendingFrames:g.a.property(function(){return[]}),init:function(){this._largeCanvas=document.createElement("canvas"),this._largeContext=this._largeCanvas.getContext("2d"),this._super.apply(this,arguments)},_handleVideoChange:g.a.observer("video",function(){var s=this.video,m=this._lastVideo;if(this._lastVideo=s,s!==m&&(m&&this.cleanUpOldVideo(m),s&&this.setUpNewVideo(s),s&&h))for(var _=P.a?1:0;this.frameTimes&&_<this.frameTimes.length;_++)this.getFrame(_).retain()}),setUpNewVideo:function(s){s.addEventListener("seeked",this._seeked),s.muted=!0},cleanUpOldVideo:function(s){s.removeEventListener("seeked",this._seeked),s.playbackRate=1,s.muted=!1,s.pause(),this._stopSeekingEntirely()},fractionalIndexForTime:function(s){if(s=Math.min(this.duration,Math.max(0,s)),isNaN(s))return s;var m=this.frameTimes,_=m.length,x=void 0;for(x=0;x<_&&m[x]<s;x++);x&&x--;var C=m[x],S=m[x+1];return S?x+Math.min(1,(s-C)/(S-C)):x},timeForFractionalIndex:function(s){if(s<=0)return 0;if(s>=this.frameTimes.length)return this.duration;var m=0|s,_=Math.ceil(s);if(m===_)return this.frameTimes[m];var x=this.frameTimes[m],C=_<this.frameTimes.length?this.frameTimes[_]:this.duration;return C?x+(s-m)*(C-x):x},getFrame:function(s,m){if(!this.frameTimes)throw"Attempted to get frame before ready.";if(isNaN(this.frameTimes[s]))throw"Frame number "+s+" is is not a frame in the video.";var _=w.a.getCached(this,s);return isNaN(m)||(_.importance=Math.max(_.importance,m)),_.readyState||(this._pendingFrames.push(_),this._pendingFrames.sort(f),_.didPend(),this._isSeeking||this._scheduleArtificialSeek()),_},peekFrame:function(s){var m=w.a.peekCached(this,s);return m&&m.readyState===2&&!m.lacksOwnPixelData?m:null},getNearestDecodedFrame:function(s){for(var m=Math.max(s,this.frameTimes.length-1-s),_=-1;++_<=m;){var x=this.peekFrame(s+_)||this.peekFrame(s-_);if(x)return x}return null},_scheduleArtificialSeek:function(){this._artificialSeekTimeout||(this._artificialSeekTimeout=setTimeout(this._seeked),this._artificialSeekRAFId=requestAnimationFrame(this._seeked))},_unscheduleArtificialSeek:function(){this._artificialSeekTimeout&&(clearTimeout(this._artificialSeekTimeout),this._artificialSeekTimeout=null,cancelAnimationFrame(this._artificialSeekRAFId),this._artificialSeekRAFId=null)},_stopSeekingEntirely:function(){this._unscheduleArtificialSeek(),this._isPlaying=!1,this._isSeeking=!1,this._expectedNextSeenFrameNumber=NaN,this.video&&this.video.pause()},_seeked:g.a.boundFunction(function(s){var m=this._pendingFrames;if((m.length!==0||this.requiresInterpolation)&&!(s instanceof Event&&s.target!==this.video)&&(s instanceof Event||this.video)){this._unscheduleArtificialSeek(),this._isSeeking=!1;var _=this.fractionalIndexForTime(this.video.currentTime);_|=0;for(var x,C=NaN,S=0;x=m[S];S++)if(x.number===_){C=_,x.didDecode(),this._removePendingFrame(x);break}var O=this._expectedNextSeenFrameNumber;if(this._expectedNextSeenFrameNumber=NaN,O<C)for(var N,F=0;N=m[F];F++)N.number>=O&&N.number<C&&(N.didGetSkipped(),this._removePendingFrame(N),F--);var V=m[0];if(!V)return this._isPlaying&&this.requiresInterpolation&&(this._isPlaying=!1,this.video.pause()),void(this._expectedNextSeenFrameNumber=NaN);var Q=V.number>_&&V.number<=_+2&&y;if(l||(Q=!1),Q){if(!this._isPlaying){this._isPlaying=!0;try{var ee=this.video.play();ee&&ee.then instanceof Function&&ee.then(a,o)}catch{y=!1}}this._expectedNextSeenFrameNumber=V.number,this._scheduleArtificialSeek()}else this._isPlaying&&(this._isPlaying=!1,this.video.pause()),this._expectedNextSeenFrameNumber=NaN,this.video.currentTime=V.time+1e-4,this._isSeeking=!0}}),_frameWillDispose:function(s){this._removePendingFrame(s)},_removePendingFrame:function(s){d(this._pendingFrames,s),this._pendingFrames.length||this._unscheduleArtificialSeek()}});r.a=c},function(n,r,i){function o(h){h.container=document.createElement("div"),h.container.frame=h,h.container.innerHTML='<div style="position:absolute; left:0; right:0; top:0; bottom:0; text-align:center; line-height:30px; color:white; text-shadow: black 0px 0px 4px,black 0px 0px 4px,black 0px 0px 4px,black 0px 0px 4px; font-family:HelveticaNeue-Light;"></div>',h.textBox=h.container.lastChild,h.container.insertBefore(h.image,h.textBox),h.image.style.position="absolute",h.container.style.cssText="position:relative; display:inline-block; border: 1px solid black;";var y=h._debug_aspect||(h._debug_aspect=h.videoDecoder&&(h.videoDecoder.videoWidth>h.videoDecoder.videoHeight?"landscape":"portrait"));h.container.style.width=h.image.style.width=y==="landscape"?"40px":"30px",h.container.style.height=h.image.style.height=y==="landscape"?"30px":"40px",document.body.appendChild(h.container)}var a=i(12),f=i(48),d=i(5),v=i(0),w=i(46),g=i(2);i.d(r,"a",function(){return P});var P=v.a.Object.extend(w.a,f.a,{staticMembers:{getPoolingCacheKey:function(h,y){return"f"+y+"_in_"+h.id}},container:null,image:null,_context:null,number:-1,time:-1,importance:0,videoDecoder:null,readyState:0,_poolingCacheKey:null,_debugShowInDOM:a.a,lacksOwnPixelData:!1,_postDispose:function(){this.image.width=this.image.height=0},get backingFrame(){return this.lacksOwnPixelData?this.videoDecoder.getNearestDecodedFrame(this.number)||this:this},init:function(){this._postDispose=this._postDispose.bind(this);var h=this.image=document.createElement("canvas");this._context=this.image.getContext("2d"),this._super(),this._debugShowInDOM?o(this):l&&(l.appendChild(h),h.style.cssText="position: absolute; top: 0px; width:1px; height: 1px; display: inline-block;",h.style.left=b+++"px")},initFromPool:function(h,y){clearTimeout(this._postDisposalTimeout),this.videoDecoder=h,this.number=y,this.time=h.frameTimes[y],this._debugShowInDOM&&(this.textBox.innerHTML=this.number)},dispose:function(){this.resetReadiness(),this.videoDecoder._frameWillDispose(this),this.number=this.time=-1,this.importance=0,this.videoDecoder=null,this.readyState=0,this.lacksOwnPixelData=!1,this._postDisposalTimeout=setTimeout(this._postDispose,3e3),this.constructor._disposeInstance(this),this._debugShowInDOM&&(this.textBox.innerHTML="x",this.textBox.style.color="#FF0000",this._context.clearRect(0,0,this.image.width,this.image.height))},didPend:function(){this.readyState=1,this._debugShowInDOM&&(this.textBox.style.color="#FF8800")},didDecode:function(){this.obtainPixelData(),this.readyState=2,this.resolveReadiness(this),this._debugShowInDOM&&(this.textBox.style.color="#00FF00")},obtainPixelData:function(){var h=this.image,y=this._context,c=this.videoDecoder,s=c.videoRotation,m=c.videoWidth,_=c.videoHeight,x=s%180==0?m:_,C=s%180==0?_:m;h.width===m&&h.height===_||(h.width=m,h.height=_),g.a.isFirefox&&y.getImageData(0,0,1,1);for(var S=0;S<s;S+=90)y.translate(S%180?_:m,0),y.rotate(Math.PI/2);y.drawImage(c.video,0,0,x,C),y.setTransform(1,0,0,1,0,0)},didGetSkipped:function(){d.a.log("    Skipped decoding frame "+this.number+". Using nearest frame instead."),this.lacksOwnPixelData=!0,this.readyState=2,this.resolveReadiness(this),this._debugShowInDOM&&(this._context.fillStyle="red",this._context.fillRect(0,0,this.image.width,this.image.height),this.textBox.style.color="#00FF00")}}),b=0,l=function(){if(!g.a.isIE&&!g.a.isEdge)return null;var h=document.createElement("div");return h.style.cssText="top: 0px; left: 0px; width: 50px; height: 1px; overflow: hidden; position: absolute; z-index: 100000; opacity: 0.001; pointer-events: none;",document.body?document.body.appendChild(h):setTimeout(function(){return document.body.appendChild(h)},0),h}()},function(n,r,i){var o=i(0),a=o.a.Object.extend({state:o.a.observableProperty("unloaded"),validateResult:function(f){return!!f},loadSrc:function(f){},abortCurrentLoad:function(){},isSrcLoadAllowed:o.a.observableProperty(!0),_loadSrcOnceAllowed:o.a.observer("isSrcLoadAllowed",function(f){if(f&&this.state==="unloaded"){var d=this.src;d&&(this.state="loading",this.loadSrc(d))}}),src:o.a.observableProperty({didChange:function(f){this._isWritingSrcDueToWritingOfResult||(this._isWritingResultDueToWritingOfSrc=!0,this.result=null,this._isWritingResultDueToWritingOfSrc=!1,this.abortCurrentLoad(),f&&this.isSrcLoadAllowed?(this.state="loading",this.loadSrc(f)):this.state="unloaded")}}),result:o.a.observableProperty({decideRequiresUpdate:function(){return!0},didChange:function(f){if(!this._isWritingResultDueToWritingOfSrc){var d=this.validateResult(f)?"loaded":f||this._isWritingResultDueToError?"errored":"unloaded";this._isWritingResultDueToLoadOfSrc||this._isWritingResultDueToError||(this._isWritingSrcDueToWritingOfResult=!0,this.src=null,this._isWritingSrcDueToWritingOfResult=!1,this.abortCurrentLoad(),this.state="unloaded"),this.state=d}}}),error:o.a.observableProperty(null),_clearErrorOnceNoLongerErrored:o.a.observer("state",function(f){f!=="errored"&&(this.error=null)}),progress:o.a.observableProperty({defaultValue:0,dependencies:["state"],get:function(f){return this.state==="loading"?Math.min(1,Math.max(0,+f||0)):this.state==="loaded"?1:0}}),_clearProgressOnceUnloaded:o.a.observer("state",function(f){f==="unloaded"&&(this.progress=0)}),loadDidFail:function(f){this.state==="loading"&&(this._isWritingResultDueToError=!0,this.result=null,this._isWritingResultDueToError=!1,this.error=f)},loadDidSucceed:function(f){this.state==="loading"&&(this._isWritingResultDueToLoadOfSrc=!0,this.result=f,this._isWritingResultDueToLoadOfSrc=!1,this.error=null)}});r.a=a},function(n,r,i){function o(b,l,h){var y=b.getContext("2d"),c=h===7||h===8?270:h===3||h===4?180:h===5||h===6?90:0,s=l.naturalWidth,m=l.naturalHeight,_=c%180==0?s:m,x=c%180==0?m:s,C=h===2||h===4?-1:1,S=h===5||h===7?-1:1;b.width===_&&b.height===x||(b.width=_,b.height=x);for(var O=0;O<c;O+=90)y.translate(O%180?x:_,0),y.rotate(Math.PI/2);y.scale(C,S),y.translate((C-1)/2*s,(S-1)/2*m),y.drawImage(l,0,0),y.setTransform(1,0,0,1,0,0)}var a=i(16),f=i(51),d=i(6),v=i(3),w=[],g={},P=a.a.extend({mimeType:"image/jpeg",beginSecondaryLoad:function(b,l){var h=i.i(f.a)(b);this._exifOrientationInLastLoadedBuffer=h.orientation||NaN,h.photosRenderEffect===3&&(this.effectType=v.a.EXPOSURE),w[0]=b,g.type=l,this._internalImage.src=this._internalImageSrc=URL.createObjectURL(new Blob(w,g)),(window.photoBuffers||(window.photoBuffers=[])).push(b)},abortCurrentSecondaryLoad:function(){this.__internalImage&&this._internalImage.removeAttribute("src"),this._internalImageSrc&&(URL.revokeObjectURL(this._internalImageSrc),this._internalImageSrc=null),this._exifOrientationInLastLoadedBuffer=null,this.effectType=null},get _internalImage(){var b=this.__internalImage;return b||(b=this.__internalImage=new Image,b.addEventListener("load",this._internalImageLoadDidSucceed.bind(this)),b.addEventListener("error",function(l){this.loadDidFail(l)}.bind(this))),b},get _internalCanvas(){return this.__internalCanvas||(this.__internalCanvas=document.createElement("canvas"))},loadDidFail:function(b){if(b)return b.errCode=d.a.PHOTO_FAILED_TO_LOAD,this._super(b)},_internalImageLoadDidSucceed:function(){var b=this._internalImage;this._exifOrientationInLastLoadedBuffer!==1&&(o(this._internalCanvas,this._internalImage,this._exifOrientationInLastLoadedBuffer),b=this._internalCanvas),this.loadDidSucceed(b)}});r.a=P},function(n,r,i){var o=i(0),a=i(33),f=i(31),d=i(3),v=i(1),w=o.a.Object.extend({videoSrc:o.a.proxyProperty("_videoProvider.src"),videoMimeType:o.a.proxyProperty("_videoProvider.mimeType"),video:o.a.proxyProperty("_videoProvider.result"),effectType:o.a.observableProperty({dependencies:["_photoProvider.effectType","_videoProvider.effectType","preloadedEffectType"],get:function(){return this._photoProvider.effectType||this._videoProvider.effectType||this.preloadedEffectType||d.a.default},didChange:function(g){this.setPlaybackStyle(g)}}),preloadedEffectType:o.a.observableProperty({get:function(g){return g},set:function(g){return this._photoProvider.effectType=null,this._videoProvider.effectType=null,g}}),setPlaybackStyle:function(g){this.effectType=g,this.playbackStyle=d.a.toPlaybackStyle(g)},photoSrc:o.a.proxyProperty("_photoProvider.src"),photoMimeType:o.a.proxyProperty("_photoProvider.mimeType"),photo:o.a.proxyProperty("_photoProvider.result"),playbackStyle:o.a.observableProperty(v.a.default),metadataVideoSrc:o.a.proxyProperty("_metadataVideoProvider.src"),progress:o.a.observableProperty({readOnly:!0,dependencies:["_photoProvider.progress","_videoProvider.state","_videoProvider.progress","_metadataVideoProvider.state","_metadataVideoProvider.progress"],get:function(){var g=this._videoProvider,P=this._metadataVideoProvider,b=g.state,l=P.state,h=b!=="unloaded"||l!=="unloaded"?.75:0,y=h?l==="unloaded"?g.progress:(g.progress+P.progress)/2:0;return this._photoProvider.progress*(1-h)+y*h}}),photoTime:o.a.observableProperty({dependencies:["_metadataVideoProvider.photoTime","_videoProvider.photoTime"],get:function(g){return+g===g?g:this._metadataVideoProvider.photoTime||this._videoProvider.photoTime||null}}),videoRotation:o.a.observableProperty({dependencies:["_videoProvider.videoRotation"],get:function(g){if(+g===g)return g;var P=this._videoProvider.videoRotation;return+P===P?P:null},set:function(g){return 90*Math.round(g/90)%360|0}}),frameTimes:o.a.observableProperty({dependencies:["_metadataVideoProvider.frameTimes","_videoProvider.frameTimes"],get:function(g){return g||this._metadataVideoProvider.frameTimes||this._videoProvider.frameTimes},set:function(g){if(!g)return null;if(typeof g=="string"){var P=o.a.arrayPool.get();o.a.String.splitIntoArray(g,",",P),o.a.Array.mapIntoArray(P,function(s){return Number(s.trim())},P),g=P}for(var b=Array.isArray(g),l=b&&g.length>=2,h=0,y=g.length;h<y&&l;h++){var c=g[h];+c!==c&&(l=!1)}if(!l)throw new Error("If frameTimes is provided, it must be provided as an Array or comma-delimited string containing numbers.");return g}}),videoDuration:o.a.observableProperty({readOnly:!0,dependencies:["frameTimes"],get:function(){return this.frameTimes?this.frameTimes[this.frameTimes.length-1]:void 0}}),proactivelyLoadsVideo:o.a.observableProperty(!1),needsLoadedVideoForPlayback:o.a.observableProperty(!1),_reset_needsLoadedVideoForPlayback_whenAppropriate:o.a.observer("video",function(){this.needsLoadedVideoForPlayback=!1}),isVideoLoadAllowed:o.a.observableProperty({readOnly:!0,dependencies:["proactivelyLoadsVideo","needsLoadedVideoForPlayback"],get:function(){return this.proactivelyLoadsVideo||this.needsLoadedVideoForPlayback}}),errors:o.a.observableProperty({readOnly:!0,dependencies:["_videoProvider.error","_photoProvider.error"],get:function(){return[this._photoProvider.error,this._videoProvider.error].filter(function(g){return!!g})}}),lastError:o.a.observableProperty(),_lastPhotoError:o.a.observableProperty({readOnly:!0,dependencies:["_photoProvider.error"],get:function(){return this._photoProvider.error},didChange:function(g){this.lastError=g}}),_lastVideoError:o.a.observableProperty({readOnly:!0,dependencies:["_videoProvider.error"],get:function(){return this._videoProvider.error},didChange:function(g){this.lastError=g}}),_metadataVideoProvider:o.a.observableProperty(function(){return a.a.extend({requiresMimeTypeForRawArrayBufferSrc:!1,actuallyProvidesResultingVideoFromSecondaryLoad:!1}).create()}),_videoProvider:o.a.observableProperty(function(){return a.a.extend({owner:o.a.observableProperty(this),isSrcLoadAllowed:o.a.proxyProperty("owner.isVideoLoadAllowed"),exposedSrcKeyForErrorStrings:"videoSrc",exposedMimeTypeKeyForErrorStrings:"videoMimeType"}).create()}),_photoProvider:o.a.observableProperty(function(){return f.a.extend({exposedSrcKeyForErrorStrings:"photoSrc",exposedMimeTypeKeyForErrorStrings:"photoMimeType"}).create()})});r.a=w},function(n,r,i){function o(_){var x=[0,0,0,0,0,0,0,0,1];x[0]=a(_.slice(0,4),16,16),x[1]=a(_.slice(4,8),16,16),x[3]=a(_.slice(12,16),16,16),x[4]=a(_.slice(16,20),16,16);for(var C=0;C<m.length;C++)if(f(m[C],x))return 90*C;return 0}function a(_,x,C){var S=_[0]<<24|_[1]<<16|_[2]<<8|_[3];return Math.abs(S>>C)*(S&1<<x+C-1?-1:1)}function f(_,x){if(_===x)return!0;if(!_||!x)return!1;var C=_.length;if(C!==x.length)return!1;for(var S=0;S<C;S++)if(_[S]!==x[S])return!1;return!0}var d=i(16),v=i(45),w=i(0),g=i(5),P=i(6),b=i(2),l=i(3),h=[],y={},c=d.a.extend({__internalVideo:null,_internalVideoSRC:null,photoTime:w.a.observableProperty(),playbackStyle:w.a.observableProperty(null),effectType:w.a.observableProperty(null),frameTimes:w.a.observableProperty(),videoRotation:w.a.observableProperty(),actuallyProvidesResultingVideoFromSecondaryLoad:!0,_clearMetadataPropertiesOnUnload:w.a.observer("state",function(_){_!=="loaded"&&(this.photoTime=this.frameTimes=this.videoRotation=void 0)}),beginSecondaryLoad:function(_,x){this.preprocessAndAttemptToReadMetadataFromBuffer(_),this.actuallyProvidesResultingVideoFromSecondaryLoad&&(h[0]=_,y.type=x==="video/quicktime"?"video/mp4":x,x==="application/octet-stream"&&(g.a.warn('Encountered a Content-Type of "application/octet-stream" for the file obtained for `videoSrc`.Some browsers may be unable to use the video with this MIME type. If the video portion of the Player is not functioning, make sure the proper MIME type is being provided with the response,or provide the proper MIME type manually by assigning it to the `videoMimeType` property on the Player instance. For now, an attempt will be made to treat the videos bytes as "video/mp4", but playback is not guaranteed unless either of these corrective steps are taken.'),x="video/mp4"),this._internalVideo.src=this._internalVideoSRC=URL.createObjectURL(new Blob(h,y)),b.a.isIOS&&this._internalVideo.load())},abortCurrentSecondaryLoad:function(){this.__internalVideo&&(this.__internalVideo.pause(),this.__internalVideo.removeAttribute("src"),this.__internalVideo.load(),b.a.isIOS&&(this.__internalVideo=null),this._internalVideoSRC&&(URL.revokeObjectURL(this._internalVideoSRC),this._internalVideoSRC=null),this.effectType=null)},get _internalVideo(){var _=this.__internalVideo;return _||(_=this.__internalVideo=document.createElement("video"),_.addEventListener("canplay",this.loadDidSucceed.bind(this)),_.addEventListener("error",this.loadDidFail.bind(this)),_.volume=0),_},loadDidFail:function(_){if(_)return _.errCode=P.a.VIDEO_FAILED_TO_LOAD,this._super(_);var x=this.__internalVideo;return x.error.errCode=P.a.VIDEO_FAILED_TO_LOAD,x&&this._super(x.error)},loadDidSucceed:function(){var _=this.__internalVideo;return _&&this._super(_)},preprocessAndAttemptToReadMetadataFromBuffer:function(_){var x=void 0,C=void 0;try{x=new v.a(new v.b(_)),x.read()}catch{x=null}if(!x)return this.photoTime=null,this.frameTimes=null,void(this.videoRotation=0);var S=(C=x.tracks)&&(C=C.vide)&&(C=C[0])&&C.getAllSampleSeconds&&C.getAllSampleSeconds();S&&(this.frameTimes=S);var O=void 0;try{O=x.tracks.meta[0].timeToSeconds(x.tracks.meta[0].trak.edts.elst.editList[0].trackDuration)}catch{}O&&(this.photoTime=O);var N=new Uint8Array(_),F=(C=x.tracks)&&(C=C.soun)&&(C=C[0])&&(C=C.trak)&&C.offset;if(F){var V="free";N[F+4]=V.charCodeAt(0),N[F+5]=V.charCodeAt(1),N[F+6]=V.charCodeAt(2),N[F+7]=V.charCodeAt(3)}var Q=(C=x.tracks)&&(C=C.vide)&&(C=C[0])&&(C=C.trak)&&(C=C.tkhd)&&(C=C.offset)&&C+48,ee=0;if(Q){for(var ae=[],j=0;j<s.length;j++)ae[j]=N[Q+j];if(ee=o(ae))for(var T=0;T<s.length;T++)N[Q+T]=s[T]}this.videoRotation=ee;var I=x.metaData.keys&&x.metaData.keys.keyList.get("com.apple.photos.variation-identifier"),R=void 0;if(I>0)switch(x.metaData.values.items[I]){case 1:R=l.a.LOOP;break;case 2:R=l.a.BOUNCE;break;case 3:R=l.a.EXPOSURE}this.effectType=R}}),s=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],m=[[1,0,0,0,1,0,0,0,1],[0,1,0,-1,0,0,0,0,1],[-1,0,0,0,-1,0,0,0,1],[0,-1,0,1,0,0,0,0,1]];r.a=c},function(n,r,i){var o=i(4),a=i(1),f=i(2),d=f.a.isSafari,v=o.a.create({correspondingPlaybackStyle:a.a.FULL,get minimumShortenedDuration(){return this.enterDuration+this.exitDuration+.01},get spontaneousFinishDuration(){return this.exitDuration},enterDuration:1/3,exitDuration:.5,videoBeginTime:.15,zoomScaleFactor:1.075,blurRadius:5,blurRadiusStep:.2,requiresInterpolation:!0,quantizeRadius:function(w){return this.blurRadiusStep?Math.round(w/this.blurRadiusStep)*this.blurRadiusStep:w},easeInOut:function(w){return w<0?0:w>1?1:.5-.5*Math.cos(w*Math.PI)},calculateAnimationDuration:function(w,g,P){var b=g?g+this.videoBeginTime+this.exitDuration:0;return Math.max(0,Math.min(w||1/0,b))},getEntranceExitParameter:function(w,g){return Math.min(Math.max(0,Math.min(1,1-this.easeInOut((w-(g-this.exitDuration))/this.exitDuration))),1-Math.max(0,Math.min(1,1-this.easeInOut(w/this.enterDuration))))||0},getTransform:function(w,g,P,b){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=1+(this.zoomScaleFactor-1)*this.getEntranceExitParameter(w,g),s=-(c-1)/2*P,m=-(c-1)/2*b,_=Math.round(s*devicePixelRatio)/devicePixelRatio,x=Math.round(m*devicePixelRatio)/devicePixelRatio;return Math.abs(c-l)<1e-5?"translate3d("+_+"px, "+x+"px, 0) scale3d("+h+", "+y+", 1)":s||m||c?"translate3d("+s+"px, "+m+"px, 0) scale3d("+c+", "+c+", 1)":"translate3d(0, 0, 0)"},photo:o.a.PhotoIngredient.create({opacity:o.a.computedStyle(function(w){if(w<this.recipe.enterDuration)return(1-this.recipe.easeInOut(w/this.recipe.enterDuration)).toString();if(w<this.renderer.duration-this.recipe.exitDuration)return"0";var g=this.recipe.easeInOut((w-(this.renderer.duration-this.recipe.exitDuration))/this.recipe.exitDuration);return g!==1?g:"1"}),display:o.a.computedStyle(function(w){return w>this.recipe.enterDuration&&w<this.renderer.duration-this.recipe.exitDuration?"none":""}),filter:o.a.computedStyle(function(w){if(!d)return"";var g=this.recipe,P=g.blurRadius*g.getEntranceExitParameter(w,this.renderer.duration);return P?"blur("+g.quantizeRadius(P)+"px)":""}),transform:o.a.computedStyle(function(w){return this.recipe.getTransform(w,this.renderer.duration,this.displayWidth,this.displayHeight)}),zIndex:o.a.computedStyle(function(){return 3})}),video:o.a.InterpolatedVideoIngredient.create({get backingScaleFactor(){return this.recipe.zoomScaleFactor},lookaheadTime:.01+7/15,videoTimeAtTime:function(w){var g=Math.max(0,Math.min(this.videoDuration,w-this.recipe.videoBeginTime));return Math.min(g,this.renderer.duration-this.recipe.exitDuration-this.recipe.videoBeginTime)},prepareVideoFramesFromTime:function(w){this.retainFramesForTime(w,w+this.lookaheadTime)},display:o.a.computedStyle(function(w){return w===0||w===this.renderer.duration?"none":""}),transform:o.a.computedStyle(function(w){return this.recipe.getTransform(w,this.renderer.duration,this.displayWidth,this.displayHeight,this.backingScaleFactor,this.backingScaleX,this.backingScaleY)}),zIndex:o.a.computedStyle(function(){return 1})})});r.a=v},function(n,r,i){var o=i(4),a=i(1),f=o.a.create({correspondingPlaybackStyle:a.a.HINT,minimumShortenedDuration:.9,get spontaneousFinishDuration(){return this.exitBlurDuration},exitBlurDuration:.75,bottomVideoRevealBeginTime:.1,zoomScaleFactor:1.075,blurRadius:7.5,blurRadiusStep:1,requiresInterpolation:!0,quantizeRadius:function(d){return Math.round(d/this.blurRadiusStep)*this.blurRadiusStep},tween:function(d){return d<0?0:d>1?1:.5-.5*Math.cos(d*Math.PI)},calculateAnimationDuration:function(d,v,w){var g=v?v-w+this.exitBlurDuration:0;return Math.max(0,Math.min(d||1/0,g))},photo:o.a.PhotoIngredient.create({hideDuration:.06,get returnDuration(){return this.recipe.exitBlurDuration},opacity:o.a.computedStyle(function(d){if(d<this.hideDuration)return(1-this.recipe.tween(d/this.hideDuration)).toString();if(d<this.renderer.duration-this.returnDuration)return"0";var v=this.recipe.tween((d-(this.renderer.duration-this.returnDuration))/this.returnDuration);return v!==1?v.toString():""}),display:o.a.computedStyle(function(d){return d>this.hideDuration&&d<this.renderer.duration-this.returnDuration?"none":""}),webkitFilter:o.a.computedStyle(function(d){if(d<this.renderer.duration-this.returnDuration)return"";var v=this.recipe.blurRadius*(1-this.recipe.tween((d-(this.renderer.duration-this.returnDuration))/this.returnDuration));return v?"blur("+this.recipe.quantizeRadius(v)+"px)":""}),transform:o.a.computedStyle(function(d){if(d<this.renderer.duration-this.returnDuration)return"translateZ(0)";var v=1+(this.recipe.zoomScaleFactor-1)*(1-this.recipe.tween((d-(this.renderer.duration-this.returnDuration))/this.returnDuration));return"translate3d("+-(v-1)/2*this.displayWidth+"px, "+-(v-1)/2*this.displayHeight+"px, 0) scale3d("+v+", "+v+", 1)"}),zIndex:o.a.computedStyle(function(){return 3})}),video:o.a.InterpolatedVideoIngredient.create({get backingScaleFactor(){return this.recipe.zoomScaleFactor},scaleInDuration:.15,get blurOutDuration(){return this.recipe.exitBlurDuration},lookaheadTime:.01+7/15,videoTimeAtTime:function(d){return Math.min(this.videoDuration,d+this.renderer.photoTime)},prepareVideoFramesFromTime:function(d){this.retainFramesForTime(d,d+this.lookaheadTime)},display:o.a.computedStyle(function(d){return d&&d!==this.renderer.duration?"":"none"}),transform:o.a.computedStyle(function(d){var v=1+(this.recipe.zoomScaleFactor-1)*Math.max(0,Math.min(1,1-this.recipe.tween((d-(this.renderer.duration-this.blurOutDuration))/this.blurOutDuration)-(1-this.recipe.tween(d/this.scaleInDuration)))),w=-(v-1)/2*this.displayWidth,g=-(v-1)/2*this.displayHeight,P=Math.round(w*devicePixelRatio)/devicePixelRatio,b=Math.round(g*devicePixelRatio)/devicePixelRatio;return Math.abs(v-this.backingScaleFactor)<1e-5?"translate3d("+P+"px, "+b+"px, 0) scale3d("+this.backingScaleX+", "+this.backingScaleY+", 1)":"translate3d("+w+"px, "+g+"px, 0) scale3d("+v+", "+v+", 1)"}),webkitFilter:o.a.computedStyle(function(d){var v=this.recipe.blurRadius*this.recipe.tween((d-(this.renderer.duration-this.blurOutDuration))/this.blurOutDuration);return v?"blur("+this.recipe.quantizeRadius(v)+"px)":""}),zIndex:o.a.computedStyle(function(){return 1})})});r.a=f},function(n,r,i){var o=i(4),a=i(2),f=(a.a.isSafari,o.a.create({requiresInterpolation:!0,photo:o.a.PhotoIngredient.create({display:o.a.computedStyle(function(d){return this.isPlaying||d>0?"none":""})}),video:o.a.InterpolatedVideoIngredient.create({lookaheadTime:.01+7/15,videoTimeAtTime:function(d){return d%this.renderer.duration},prepareVideoFramesFromTime:function(d){this.retainFramesForTime(d,d+this.lookaheadTime)},display:o.a.computedStyle(function(d){return""})}),beginFinishingPlaybackEarly:function(d){d.autoplay||(d.isPlaying?d.pause():d.wantsToPlay=!1)},continuePlayback:function(d){var v=d.currentTime,w=d.duration;v>=w&&(d.currentTime=v%w),d._rafID=requestAnimationFrame(d._nextFrame.bind(d))}}));r.a=f},function(n,r,i){var o=i(4),a=i(36),f=i(1);a.a.register();var d=o.a.create({correspondingPlaybackStyle:f.a.LOOP,photo:o.a.PhotoIngredient.create({display:o.a.computedStyle(function(v){return this.isPlaying||v>0?"none":""})}),video:o.a.VideoIngredient.create({display:o.a.computedStyle(function(v){return""})}),beginFinishingPlaybackEarly:function(v){v.autoplay||(v.isPlaying?v.pause():v.wantsToPlay=!1)},continuePlayback:function(v){var w=v.currentTime,g=v.duration;w>=g&&(v.currentTime=w%g),v._rafID=requestAnimationFrame(v._nextFrame.bind(v))},requestMoreCompatibleRecipe:function(v){return o.a.registerRecipeWithPlaybackStyle(a.a,this.correspondingPlaybackStyle),a.a}});r.a=d},function(n,r,i){var o=i(0),a=i(41),f=i(1),d=i(13),v=a.a.extend(d.a,{_loCanvas:null,_hiCanvas:null,backingScaleFactor:1,setUpForRender:function(){var w=this.element,g=(this.isPlaying,this.renderer),P=g.autoplay,b=g.parentView,l=g.playbackStyle,h=g.video;if(!this._loCanvas||!this._hiCanvas){w.innerHTML&&(w.innerHTML="");var y=this._loCanvas=o.a.canvasPool.get(),c=this._hiCanvas=o.a.canvasPool.get();y._context=y.getContext("2d"),c._context=c.getContext("2d"),y.style.cssText=c.style.cssText="position: absolute; left: 0; top: 0; width: 100%; height: 100%; transform: translateZ(0);",w.appendChild(y),w.appendChild(c),this._swapCanvases()}w.className="lpk-render-layer lpk-video",w.style.position="absolute",w.style.transformOrigin="0 0",w.style.zIndex=1,this._super(),l===f.a.LOOP&&(this.shouldLoop=!0),this.shouldLoop&&requestAnimationFrame(function(){h.currentTime=-1,P&&b.play()}),window.test=this},updateSize:function(w,g){if(!arguments.length)return this._super();this._super(w,g);var P=Math.ceil(w*this.backingScaleFactor),b=Math.ceil(g*this.backingScaleFactor);this.backingScaleX=P/w,this.backingScaleY=b/g,this.element.style.width=P+"px",this.element.style.height=b+"px",this._loCanvas&&this._hiCanvas&&(this._loCanvas.width=this._hiCanvas.width=P*devicePixelRatio,this._loCanvas.height=this._hiCanvas.height=b*devicePixelRatio,this._loCanvas._drawnFrameNumber=this._hiCanvas._drawnFrameNumber=-1,this.renderAtTime())},renderAtTime:function(w){if(!arguments.length)return this._super();this._super(w);var g=this.backingScaleX,P=this.backingScaleY;g===1&&P===1||(this.element.style.transform+=" scale3d("+1/g+", "+1/P+", 1)")},renderFramePair:function(w,g,P){(w&&this._hiCanvas._drawnFrameNumber===w.number||g&&this._loCanvas._drawnFrameNumber===g.number)&&this._swapCanvases(),this._putFrameInCanvasIfNeeded(w,this._loCanvas),this._putFrameInCanvasIfNeeded(g,this._hiCanvas),g&&(this._hiCanvas.style.opacity=P)},_swapCanvases:function(){var w=this._hiCanvas;this._hiCanvas=this._loCanvas,this._loCanvas=w,this._loCanvas.style.opacity="",this._loCanvas.style.zIndex=1,this._hiCanvas.style.zIndex=2},_putFrameInCanvasIfNeeded:function(w,g){g._drawnFrameNumber!==(g._drawnFrameNumber=w?w.number:-1)&&(g.setAttribute("data-frame-number",g._drawnFrameNumber.toString()),w?g._context.drawImage(w.image,0,0,g.width,g.height):g._context.clearRect(0,0,g.width,g.height))},dispose:function(){this._super(),this._loCanvas&&o.a.canvasPool.ret(this._loCanvas),this._hiCanvas&&o.a.canvasPool.ret(this._hiCanvas)},tearDownFromRender:function(){var w=this.renderer,g=w.parentView;this.shouldLoop=!1,g&&g.stop(),this._clearAllRetainedFrames(),this._super()}});r.a=v},function(n,r,i){var o=i(42),a=i(13),f=i(49),d=o.a.extend(a.a,{tagName:"canvas",get _canvas(){return this.element},get _context(){return this.__context||(this.__context=this._canvas.getContext("2d"))},init:function(){this._super.apply(this,arguments),this.element.className="lpk-render-layer lpk-photo",this.element.style.position="absolute",this.element.style.width=this.element.style.height="100%",this.element.style.transformOrigin="0 0",this.element.style.zIndex=2},tearDownFromRender:function(){this._super(),this._canvas.width=this._canvas.height=0},updateSize:function(v,w){if(!arguments.length)return this._super();this._super(v,w);var g=Math.ceil(v*devicePixelRatio),P=Math.ceil(w*devicePixelRatio),b=this.photo,l=this._canvas;this._lastPhoto===(this._lastPhoto=b)&&l.width===g&&l.height===P||(l.width=g,l.height=P,b&&i.i(f.a)(this._context,b,0,0,g,P))}});r.a=d},function(n,r,i){var o=i(0),a=i(2),f=i(13),d=i(43),v=d.a.extend(f.a,{_isPlayingChanged:o.a.observer("isPlaying",function(w){this._video&&(w?(this.duration=1/0,this.play()):this.pause())}),_isVisible:!1,applyStyles:function(){var w=this.element,g=this.video,P=this.videoRotation,b=g.videoHeight,l=g.videoWidth,h=1;[90,270].indexOf(P)>=0&&(h=l/b);var y=`
                height: 100%;
                position: absolute;
                width: 100%;
                -moz-transform: scale(`+h+") rotate("+P+`deg);
                -webkit-transform: scale(`+h+") rotate("+P+`deg);
                -o-transform: scale(`+h+") rotate("+P+`deg);
                -ms-transform: scale(`+h+") rotate("+P+`deg);
                transform: scale(`+h+") rotate("+P+`deg);
                z-index: 1;
            `;w.setAttribute("style",y),w.className="lpk-render-layer lpk-video",g.style.height="100%",g.style.width="100%"},cleanupElement:function(){var w=this.element,g=this.renderer,P=this._video,b=g.parentView;w.innerHtml&&(w.innerHtml=""),P&&(P.loop=!1,P.muted=!1,P.removeEventListener("pause",this.playIfPlaying)),b&&b.stop(),delete this._video},pause:function(){var w=this._isVisible,g=this._video;w&&g.pause()},play:function(){if(this._isVisible){var w=this._video,g=w.play();g?g.catch(this._handlePlayFailure):a.a.isIE||a.a.isEdge||(w.pause(),setTimeout(this._handlePlayFailure))}},_handlePlayFailure:o.a.boundFunction(function(){this.renderer.requestMoreCompatibleRecipe()}),playIfPlaying:o.a.boundFunction(function(){var w=this.isPlaying,g=this._video;if(w&&g.paused){var P=g.play();P&&P.catch(function(){})}}),setUpForRender:function(){var w=this.element,g=(this.isPlaying,this.renderer),P=g.autoplay,b=g.parentView,l=g.video;this.cleanupElement(),w.appendChild(l),this.applyStyles(),l.loop=!0,l.muted=!0,this._video=l,this._isVisible=!0,this._super(),P&&(l.addEventListener("pause",this.playIfPlaying),b.play())},tearDownFromRender:function(){this.cleanupElement(),this._isVisible=!1,this._super()}});r.a=v},function(n,r,i){function o(b){b.retain()}function a(b){b.release()}var f=i(0),d=i(7),v=i(17),w=d.a.extend({videoDecoder:f.a.proxyProperty("renderer.videoDecoder"),videoDuration:f.a.proxyProperty("videoDecoder.duration"),canRender:f.a.proxyProperty({readOnly:!0,proxyPath:"videoDecoder.canProvideFrames"}),init:function(){this._super.apply(this,arguments);var b=this.layerName,l=this.recipe;this._framePrepIDKey=l.name+"_"+b+"_framePrepID"},videoTimeAtTime:function(b){return b},_videoTimeAtTime:function(b){return isNaN(b)?b:this.videoTimeAtTime(b)},prepareToRenderAtTime:function(b){var l=this._currentPrepID=++g;if(!this.canRender)return!1;this.prepareVideoFramesFromTime(b);for(var h,y=this._retainedFrames,c=0,s=0;h=y[s];s++)h.readyState!==2&&(h[this._framePrepIDKey]=l,h.onReadyOrFail(this._frameDidPrepare),c++);return this._preppingFrameCount=c,!c},reduceMemoryFootprint:function(){this._super(),this._clearAllRetainedFrames()},_clearAllRetainedFrames:function(){this._clearExtraRetainedFrames(),this._clearRetainedInstantaneousFrames()},_clearExtraRetainedFrames:function(){var b=this._retainedFrames;b&&(b.forEach(a),b.length=0)},_clearRetainedInstantaneousFrames:function(){this._retainedLoFrame&&this._retainedLoFrame.release(),this._retainedHiFrame&&this._retainedHiFrame.release(),this._retainedLoFrame=this._retainedHiFrame=null},_frameDidPrepare:f.a.boundFunction(function(b){b[this._framePrepIDKey]===this._currentPrepID&&(b[this._framePrepIDKey]=void 0,--this._preppingFrameCount||this.renderer.prepareToRenderAtTime(this.renderer.currentTime))}),prepareVideoFramesFromTime:function(b){this.retainFramesForTime(b)},canRenderAtTime:function(b){if(this.display(b)==="none")return!0;if(!this.canRender)return!1;for(var l,h=!0,y=this.requiredFramesForTime(b),c=0;l=y[c];c++)h=h&&l.readyState===2,l.retain().release();return h},renderAtTime:function(b){if(!arguments.length)return this._super();if(this.display(b)==="none")return this._clearRetainedInstantaneousFrames(),this._super(b);var l=this._videoTimeAtTime(b),h=this.requiredFramesForVideoTime(l),y=h[0]||null,c=h[1]||null;if(y&&y.retain(),c&&c.retain(),this._clearRetainedInstantaneousFrames(),this._retainedLoFrame=y,this._retainedHiFrame=c,y&&(y=y.backingFrame),c&&(c=c.backingFrame),y&&c&&y.number>c.number){var s=y;c=y,y=s}y===c&&(c=null);var m=!y||c?this.videoDecoder.fractionalIndexForTime(l):y.frameNumber,_=m-(0|m);this.renderFramePair(y,c,_),this._super(b)},renderFramePair:function(){},requiredFramesForVideoTime:function(b,l,h){isNaN(l)&&(l=b);var y=this.videoDecoder,c=this.videoDuration,s=y.frameCount,m=P;if(m.length=0,l<0||b>c||isNaN(b)||isNaN(l))return m;var _=Math.max(0,Math.floor(y.fractionalIndexForTime(b))),x=Math.min(y.frameCount,Math.ceil(y.fractionalIndexForTime(l))),C=x<_,S=C?s-1:x;if(_===S-1){var O=y.frameTimes;O[S]-O[_]<1/30+.001&&(S=_)}for(var N=_;N<=S;N++)v.a&&N===0||(m.push(y.getFrame(N,h)),N+1===s&&C&&(N=-1,S=x));return m},requiredFramesForTime:function(b,l,h){return this.requiredFramesForVideoTime(this._videoTimeAtTime(b),this._videoTimeAtTime(l),h)},retainFramesForVideoTime:function(b,l,h){l===void 0&&(l=b);var y=this.lookaheadTime,c=this.shouldLoop,s=this.requiredFramesForVideoTime(b,l,h),m=this._retainedFrames||(this._retainedFrames=[]);s.forEach(o);for(var _=m.length-1;_>=0;_--){var x=m[_],C=x.time;(!c||C>y/2)&&(a(x),m.splice(_,1))}m.push.apply(m,s)},retainFramesForTime:function(b,l,h){return this.retainFramesForVideoTime(this._videoTimeAtTime(b),this._videoTimeAtTime(l),h)},dispose:function(){this.retainFramesForVideoTime(NaN),this._super()}}),g=1,P=[];r.a=w},function(n,r,i){var o=i(7),a=i(0),f=o.a.extend({isPlaying:a.a.proxyProperty({readOnly:!0,proxyPath:"renderer.parentView.isPlaying"}),photo:a.a.proxyProperty({readOnly:!0,proxyPath:"renderer.photo"}),canRender:a.a.proxyProperty("photo"),canRenderAtTime:function(d){var v=this.photo;return!(this.display(d)!=="none"&&(!v||v instanceof Image&&!v.complete))}});r.a=f},function(n,r,i){var o=i(7),a=i(0),f=o.a.extend({canRender:a.a.proxyProperty({readOnly:!0,proxyPath:"video"}),isPlaying:a.a.proxyProperty({readOnly:!0,proxyPath:"renderer.parentView.isPlaying"}),video:a.a.proxyProperty({readOnly:!0,proxyPath:"renderer.video"}),videoRotation:a.a.proxyProperty({readOnly:!0,proxyPath:"renderer.provider.videoRotation"})});r.a=f},function(n,r,i){function o(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m){var _=i.i(d.a)(m),x=g.get(_);if(x)return x;var C=m.map(function(S){if(S[0]==="i"&&l(S[1]))return"I"+S.substring(1)});return m=m.concat(C.filter(function(S){return!!S})),x=new RegExp(m.join("|"),"g"),g.set(_,x),x}function f(m,_){var x=m.charCodeAt(0),C=_.charCodeAt(0),S=new Map;return function(O){var N=S.get(O);if(N!==void 0)return N;var F=O.charCodeAt(0);return N=F>=x&&F<=C,S.set(O,N),N}}var d=i(20),v=function(){function m(_,x){for(var C=0;C<x.length;C++){var S=x[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,x,C){return x&&m(_.prototype,x),C&&m(_,C),_}}(),w=["iOS","iPhone","iPad","iPod","WebKit"],g=new Map,P=f("0","9"),b=f("a","z"),l=f("A","Z"),h=function(m){return b(m)||l(m)},y=function(m){return h(m)||P(m)},c=new Map,s=function(){function m(){o(this,m)}return v(m,null,[{key:"splitIntoArray",value:function(_,x,C){for(var S=_.indexOf(x),O=0,N=x.length;S!==-1;)C.push(_.substring(O,S)),O=S+N,S=_.indexOf(x,O);C.push(_.substring(O))}},{key:"hyphenate",value:function(_,x,C){if(!_)return"";x||x===null||x===!1||(x=w);var S=x||C?i.i(d.a)(x)+"#"+_+"#"+!!C:_,O=c.get(S);if(O)return O;if(Array.isArray(x)){var N=m.hyphenateCarefully(_,x,C);return c.set(S,N),N}var F=_.length,V="",Q=void 0,ee=void 0,ae=void 0,j=void 0,T=void 0;for(Q=0;Q<F;Q++)ee=_[Q-1],ae=_[Q],j=ae.toLowerCase(),T=_[Q+1],ee&&y(ae)&&y(ee)&&(!l(ee)&&l(ae)||P(ee)&&h(ae)||T&&l(ee)&&l(ae)&&b(T))?V+="-"+j:V+=j;return c.set(S,V),V}},{key:"hyphenateCarefully",value:function(_,x,C){var S=a(x),O=_.match(S);if(!O||!O.length)return m.hyphenate(_,null,C);for(var N=_.split(S),F=m.hyphenate(N[0]),V=0,Q=O.length;V<Q;V++){var ee=O[V];C||(ee=ee.toLowerCase());var ae=N[V+1];ae&&(ae=m.hyphenate(ae,null,C)),F+=(F&&"-")+ee,ae&&(F+=(h(ae[0])?"-":"")+ae)}return F}}]),m}();r.a=s},function(n,r,i){function o(b,l){if(!(b instanceof l))throw new TypeError("Cannot call a class as a function")}function a(b,l){b||f(l)}function f(b){throw b}var d=i(5);i.d(r,"b",function(){return w}),i.d(r,"a",function(){return g});var v=function(){function b(l,h){for(var y=0;y<h.length;y++){var c=h[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,h,y){return h&&b(l.prototype,h),y&&b(l,y),l}}(),w=(function(){function b(l,h){o(this,b),this.w=l,this.h=h}v(b,[{key:"toString",value:function(){return"("+this.w+", "+this.h+")"}},{key:"getHalfSize",value:function(){return new b(this.w>>>1,this.h>>>1)}},{key:"length",value:function(){return this.w*this.h}}])}(),function(){function b(l,h,y){o(this,b),this.bytes=new Uint8Array(l),this.start=h||0,this.pos=this.start,this.end=h+y||this.bytes.length}return v(b,[{key:"readU8Array",value:function(l){if(this.pos>this.end-l)return null;var h=this.bytes.subarray(this.pos,this.pos+l);return this.pos+=l,h}},{key:"readU32Array",value:function(l,h,y){if(h=h||1,this.pos>this.end-l*h*4)return null;if(h===1){for(var c=new Uint32Array(l),s=0;s<l;s++)c[s]=this.readU32();return c}for(var m=new Array(l),_=0;_<l;_++){var x=null;if(y){x={};for(var C=0;C<h;C++)x[y[C]]=this.readU32()}else{x=new Uint32Array(h);for(var S=0;S<h;S++)x[S]=this.readU32()}m[_]=x}return m}},{key:"read8",value:function(){return this.readU8()<<24>>24}},{key:"readU8",value:function(){return this.pos>=this.end?null:this.bytes[this.pos++]}},{key:"read16",value:function(){return this.readU16()<<16>>16}},{key:"readU16",value:function(){if(this.pos>=this.end-1)return null;var l=this.bytes[this.pos+0]<<8|this.bytes[this.pos+1];return this.pos+=2,l}},{key:"read24",value:function(){return this.readU24()<<8>>8}},{key:"readU24",value:function(){var l=this.pos,h=this.bytes;if(l>this.end-3)return null;var y=h[l+0]<<16|h[l+1]<<8|h[l+2];return this.pos+=3,y}},{key:"peek32",value:function(l){var h=this.pos,y=this.bytes;if(h>this.end-4)return null;var c=y[h+0]<<24|y[h+1]<<16|y[h+2]<<8|y[h+3];return l&&(this.pos+=4),c}},{key:"read32",value:function(){return this.peek32(!0)}},{key:"readU32",value:function(){return this.peek32(!0)>>>0}},{key:"read4CC",value:function(){var l=this.pos;if(l>this.end-4)return null;for(var h="",y=0;y<4;y++)h+=String.fromCharCode(this.bytes[l+y]);return this.pos+=4,h}},{key:"readFP16",value:function(){return this.read32()/65536}},{key:"readFP8",value:function(){return this.read16()/256}},{key:"readISO639",value:function(){for(var l=this.readU16(),h="",y=0;y<3;y++){var c=l>>>5*(2-y)&31;h+=String.fromCharCode(c+96)}return h}},{key:"readUTF8",value:function(l){for(var h="",y=0;y<l;y++)h+=String.fromCharCode(this.readU8());return h}},{key:"readPString",value:function(l){var h=this.readU8();a(h<=l);var y=this.readUTF8(h);return this.reserved(l-h-1,0),y}},{key:"skip",value:function(l){this.seek(this.pos+l)}},{key:"reserved",value:function(l,h){for(var y=0;y<l;y++)a(this.readU8()===h)}},{key:"seek",value:function(l){(l<0||l>this.end)&&f("Index out of bounds (bounds: [0, "+this.end+"], index: "+l+")."),this.pos=l}},{key:"subStream",value:function(l,h){return new b(this.bytes.buffer,l,h)}},{key:"uint",value:function(l){for(var h=this.position,y=h+l,c=0,s=h;s<y;s++)c<<=8,c|=255&this.readU8();return c}},{key:"length",get:function(){return this.end-this.start}},{key:"position",get:function(){return this.pos}},{key:"remaining",get:function(){return this.end-this.pos}}]),b}()),g=function(){function b(l){o(this,b),this.stream=l,this.tracks={},this.metaData={}}return v(b,[{key:"getPath",value:function(l){for(var h=l.split("."),y=this,c=0,s=h.length;c<s;c++)y=y?y[h[c]]:void 0;return y}},{key:"readBoxes",value:function(l,h){for(;l.peek32();){var y=this.readBox(l);if(y.type in h){var c=h[y.type];Array.isArray(c)||(h[y.type]=[c]),h[y.type].push(y)}else h[y.type]=y}}},{key:"readBox",value:function(l){function h(){m.version=l.readU8(),m.flags=l.readU24()}function y(){return m.size-(l.position-m.offset)}function c(){l.skip(y())}function s(){var Zt=l.subStream(l.position,y());_.readBoxes(Zt,m),l.skip(Zt.length)}var m={offset:l.position},_=this;(function(){m.size=l.readU32(),m.type=l.read4CC()})();var x=void 0,C=void 0,S=void 0;switch(m.type){case"ftyp":var O=m;O.name="File Type Box",O.majorBrand=l.read4CC(),O.minorVersion=l.readU32(),O.compatibleBrands=new Array((O.size-16)/4);for(var N=0;N<O.compatibleBrands.length;N++)O.compatibleBrands[N]=l.read4CC();break;case"moov":m.name="Movie Box",s();break;case"mvhd":var F=m;F.name="Movie Header Box",h(),a(F.version==0),F.creationTime=l.readU32(),F.modificationTime=l.readU32(),F.timeScale=l.readU32(),F.duration=l.readU32(),F.rate=l.readFP16(),F.volume=l.readFP8(),l.skip(10),F.matrix=l.readU32Array(9),l.skip(24),F.nextTrackId=l.readU32();break;case"trak":var V=m;V.name="Track Box",s();var Q=new P(this,V),ee=V.mdia&&V.mdia.hdlr&&V.mdia.hdlr.handlerType||"unknownHandlerType",ae=this.tracks;(ae[ee]||(ae[ee]=[])).push(Q),ae[V.tkhd.trackId]=Q;break;case"tkhd":var j=m;j.name="Track Header Box",h(),a(j.version==0),j.creationTime=l.readU32(),j.modificationTime=l.readU32(),j.trackId=l.readU32(),l.skip(4),j.duration=l.readU32(),l.skip(8),j.layer=l.readU16(),j.alternateGroup=l.readU16(),j.volume=l.readFP8(),l.skip(2),j.matrix=l.readU32Array(9),j.width=l.readFP16(),j.height=l.readFP16();break;case"edts":m.name="Edit Atom",s();break;case"elst":var T=m;T.name="Edit List Atom",h(),T.editList=[],S=l.readU32();for(var I=0;I<S;I++)T.editList.push({trackDuration:l.read32(),mediaTime:l.read32(),mediaRate:l.readU32()});a(!y()),c();break;case"mdia":m.name="Media Box",s();break;case"mdhd":var R=m;R.name="Media Header Box",h(),a(R.version==0),R.creationTime=l.readU32(),R.modificationTime=l.readU32(),R.timeScale=l.readU32(),R.duration=l.readU32(),R.language=l.readISO639(),l.skip(2);break;case"hdlr":var L=m;L.name="Handler Reference Box",h(),l.skip(4),L.handlerType=l.read4CC(),l.skip(12),C=L.size-32,C>0&&(L.name=l.readUTF8(C));break;case"minf":m.name="Media Information Box",s();break;case"stbl":m.name="Sample Table Box",s();break;case"stsd":var M=m;M.name="Sample Description Box",h(),M.sd=[],l.readU32(),s();break;case"avc1":var U=m;l.reserved(6,0),U.dataReferenceIndex=l.readU16(),a(l.readU16()==0),a(l.readU16()==0),l.readU32(),l.readU32(),l.readU32(),U.width=l.readU16(),U.height=l.readU16(),U.horizontalResolution=l.readFP16(),U.verticalResolution=l.readFP16(),a(l.readU32()==0),U.frameCount=l.readU16(),U.compressorName=l.readPString(32),U.depth=l.readU16(),a(l.readU16()==65535),s();break;case"mp4a":var H=m;if(l.reserved(6,0),H.dataReferenceIndex=l.readU16(),H.version=l.readU16(),H.version!==0){c();break}l.skip(2),l.skip(4),H.channelCount=l.readU16(),H.sampleSize=l.readU16(),H.compressionId=l.readU16(),H.packetSize=l.readU16(),H.sampleRate=l.readU32()>>>16,s();break;case"esds":m.name="Elementary Stream Descriptor",h(),c();break;case"avcC":var q=m;q.name="AVC Configuration Box",q.configurationVersion=l.readU8(),q.avcProfileIndicaation=l.readU8(),q.profileCompatibility=l.readU8(),q.avcLevelIndication=l.readU8(),q.lengthSizeMinusOne=3&l.readU8(),a(q.lengthSizeMinusOne==3,"TODO"),x=31&l.readU8(),q.sps=[];for(var W=0;W<x;W++)q.sps.push(l.readU8Array(l.readU16()));x=31&l.readU8(),q.pps=[];for(var G=0;G<x;G++)q.pps.push(l.readU8Array(l.readU16()));c();break;case"btrt":var re=m;re.name="Bit Rate Box",re.bufferSizeDb=l.readU32(),re.maxBitrate=l.readU32(),re.avgBitrate=l.readU32();break;case"stts":var le=m;le.name="Decoding Time to Sample Box",h(),le.table=l.readU32Array(l.readU32(),2,["count","delta"]);break;case"stss":var he=m;he.name="Sync Sample Box",h(),he.samples=l.readU32Array(l.readU32());break;case"stsc":var pe=m;pe.name="Sample to Chunk Box",h(),pe.table=l.readU32Array(l.readU32(),3,["firstChunk","samplesPerChunk","sampleDescriptionId"]);break;case"stsz":var Fe=m;Fe.name="Sample Size Box",h(),Fe.sampleSize=l.readU32(),x=l.readU32(),Fe.sampleSize==0&&(Fe.table=l.readU32Array(x));break;case"stco":var ge=m;ge.name="Chunk Offset Box",h(),ge.table=l.readU32Array(l.readU32());break;case"smhd":var ke=m;ke.name="Sound Media Header Box",h(),ke.balance=l.readFP8(),l.reserved(2,0);break;case"mdat":var Ne=m;Ne.name="Media Data Box",a(Ne.size>=8,"Cannot parse large media data yet."),Ne.data=l.readU8Array(y());break;case"mebx":m.name="Mebx",s();break;case"meta":m.name="Metadata",s();break;case"keys":var Ee=m;Ee.name="Metadata Item Keys",h();var Ze=Ee.keyCount=l.read32(),Se=Ee.offset-Ee.size;Ee.keyList=new Map;for(var ye=1;ye<=Ze;ye++){var de=l.read32()-8;de<1||de>Se||(l.skip(4),Ee.keyList.set(l.readUTF8(de),ye))}this.metaData.keys=Ee;break;case"ilst":var Te=m;Te.name="Metadata Item List",Te.items=[];for(var nt=Te.offset+Te.size;l.position<nt;){var $e=(l.position,l.readU32(),l.readU32()),rt=l.readU32()-16,ft=(l.read4CC(),l.readU8()),Yt=l.readU24(),bn=(l.readU16(),l.readU16(),void 0);bn=ft===0&&Yt!==1?l.uint(rt):l.readUTF8(rt),Te.items[$e]=bn}this.metaData.values=Te;break;default:c()}return m}},{key:"read",value:function(){var l=new Date().getTime();this.file={},this.readBoxes(this.stream,this.file),d.a.info("Parsed stream in "+(new Date().getTime()-l)+" ms")}},{key:"traceSamples",value:function(){var l=this.tracks[1],h=this.tracks[2];d.a.info("Video Samples: "+l.getSampleCount()),d.a.info("Audio Samples: "+h.getSampleCount());for(var y=0,c=0,s=0;s<100;s++){var m=l.sampleToOffset(y),_=h.sampleToOffset(c),x=l.sampleToSize(y,1),C=h.sampleToSize(c,1);m<_?(d.a.info("V Sample "+y+" Offset : "+m+", Size : "+x),y++):(d.a.info("A Sample "+c+" Offset : "+_+", Size : "+C),c++)}}}]),b}(),P=function(){function b(l,h){o(this,b),this.file=l,this.trak=h}return v(b,[{key:"getSampleSizeTable",value:function(){return this.trak.mdia.minf.stbl.stsz.table}},{key:"getSampleCount",value:function(){return this.getSampleSizeTable().length}},{key:"sampleToSize",value:function(l,h){for(var y=this.getSampleSizeTable(),c=0,s=l;s<l+h;s++)c+=y[s];return c}},{key:"sampleToChunk",value:function(l){var h=this.trak.mdia.minf.stbl.stsc.table;if(h.length===1){var y=h[0];return a(y.firstChunk===1),{index:l/y.samplesPerChunk,offset:l%y.samplesPerChunk}}for(var c=0,s=0;s<h.length;s++){var m=h[s];if(s>0){var _=h[s-1],x=m.firstChunk-_.firstChunk,C=_.samplesPerChunk*x;if(!(l>=C))return{index:c+Math.floor(l/_.samplesPerChunk),offset:l%_.samplesPerChunk};if(l-=C,s===h.length-1)return{index:c+x+Math.floor(l/m.samplesPerChunk),offset:l%m.samplesPerChunk};c+=x}}a(!1)}},{key:"chunkToOffset",value:function(l){return this.trak.mdia.minf.stbl.stco.table[l]}},{key:"sampleToOffset",value:function(l){var h=this.sampleToChunk(l);return this.chunkToOffset(h.index)+this.sampleToSize(l-h.offset,h.offset)}},{key:"timeToSample",value:function(l){for(var h=this.trak.mdia.minf.stbl.stts.table,y=0,c=0;c<h.length;c++){var s=h[c].count*h[c].delta;if(!(l>=s))return y+Math.floor(l/h[c].delta);l-=s,y+=h[c].count}}},{key:"sampleToTime",value:function(l){for(var h=this.trak.mdia.minf.stbl.stts.table,y=0,c=0,s=0;s<h.length&&y<l;s++){var m=h[s],_=Math.min(l-y,m.count);y+=_,c+=_*m.delta}return c}},{key:"getTotalTime",value:function(){for(var l=this.trak.mdia.minf.stbl.stts.table,h=0,y=0;y<l.length;y++)h+=l[y].count*l[y].delta;return a(this.trak.mdia.mdhd.duration===h),this.trak.mdia.mdhd.duration}},{key:"getTotalTimeInSeconds",value:function(){return this.timeToSeconds(this.getTotalTime())}},{key:"getTimeScale",value:function(){return this.trak.mdia.mdhd.timeScale}},{key:"timeToSeconds",value:function(l){return l/this.getTimeScale()}},{key:"secondsToTime",value:function(l){return l*this.getTimeScale()}},{key:"secondsToSample",value:function(l){return this.timeToSample(this.secondsToTime(l))}},{key:"sampleToSeconds",value:function(l){return this.timeToSeconds(this.sampleToTime(l))}},{key:"getAllSampleTimes",value:function(){for(var l=[],h=this.getSampleCount(),y=0;y<h;y++)l.push(this.sampleToTime(y));return l}},{key:"getAllSampleSeconds",value:function(){for(var l=[],h=this.getSampleCount(),y=0;y<h;y++)l.push(this.sampleToSeconds(y));return l}},{key:"getSampleNALUnits",value:function(l){for(var h=this.file.stream.bytes,y=this.sampleToOffset(l),c=y+this.sampleToSize(l,1),s=[];c-y>0;){var m=new w(h.buffer,y).readU32();s.push(h.subarray(y+4,y+m+4)),y=y+m+4}return s}}]),b}()},function(n,r,i){var o={staticMembers:{_pool:null,_cache:null,init:function(){this._pool=[],this._cache={},this._super()},getPoolingCacheKey:function(){throw"Must implement `getPoolingCacheKey` to use PoolCaching."},getCached:function(){var a=this.getPoolingCacheKey.apply(this,arguments),f=this._cache[a];return f||(f=this._cache[a]=this._pool.pop()||this.create(),f._poolingCacheKey=a,f.initFromPool.apply(f,arguments)),f},peekCached:function(){var a=this.getPoolingCacheKey.apply(this,arguments);return this._cache[a]||null},_disposeInstance:function(a){delete this._cache[a._poolingCacheKey],a._poolingCacheKey=void 0,a._poolingLifecycleCount=1+(0|a._poolingLifecycleCount),this._pool.push(a)}},dispose:function(){},_poolingCacheKey:null,initFromPool:function(){},_retainCount:0,retain:function(){return this._retainCount++,this},release:function(){return this._retainCount--,this._retainCount||this.dispose(),this}};r.a=o},function(n,r,i){function o(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function a(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}function f(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}var d=i(19);i.d(r,"a",function(){return P}),i.d(r,"b",function(){return l}),i.d(r,"c",function(){return y}),i.d(r,"d",function(){return s});var v=function(){function m(_,x){for(var C=0;C<x.length;C++){var S=x[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,x,C){return x&&m(_.prototype,x),C&&m(_,C),_}}(),w=function(){function m(){f(this,m),this._a=[]}return v(m,[{key:"get",value:function(){return this._a.pop()||this.create()}},{key:"ret",value:function(_){this.prepare(_),this._a.push(_)}}]),m}(),g=function(m){function _(){return f(this,_),o(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,m),v(_,[{key:"create",value:function(){return[]}},{key:"prepare",value:function(x){x.length=0}}]),_}(w),P=new g,b=function(m){function _(){return f(this,_),o(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,m),v(_,[{key:"create",value:function(){return new d.a}},{key:"prepare",value:function(x){x.clear()}}]),_}(w),l=new b,h=function(m){function _(){return f(this,_),o(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,m),v(_,[{key:"create",value:function(){return Object.create(null)}},{key:"prepare",value:function(x){var C=x;for(var S in C)delete C[S]}}]),_}(w),y=new h,c=function(m){function _(){return f(this,_),o(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,m),v(_,[{key:"create",value:function(){return document.createElement("canvas")}},{key:"prepare",value:function(x){var C=x.parentNode;C&&C.removeChild(x),x.width=x.height=0}}]),_}(w),s=new c},function(n,r,i){function o(f,d){return f.apply(void 0,d)}var a={_readiness:"pending",_resolutionArgs:null,_fulfillmentCallbacks:null,_rejectionCallbacks:null,onReadyOrFail:function(f,d){this._resolveIfAlreadyResolved(f,d,!1)||this._pendCallbacks(f,d)},onReadyOrFailSync:function(f,d){this._resolveIfAlreadyResolved(f,d,!0)||this._pendCallbacks(f,d)},_resolveIfAlreadyResolved:function(f,d,v){var w=this._resolutionArgs;return this._readiness==="success"&&f?(v?o(f,w):setTimeout(o,0,f,w),!0):!(this._readiness!=="failure"||!d)&&(v?o(d,w):setTimeout(o,0,d,w),!0)},_pendCallbacks:function(f,d){f&&(this._fulfillmentCallbacks||(this._fulfillmentCallbacks=[])).push(f),d&&(this._rejectionCallbacks||(this._rejectionCallbacks=[])).push(d)},clearReadinessCallbacks:function(){this._fulfillmentCallbacks&&(this._fulfillmentCallbacks.length=0),this._rejectionCallbacks&&(this._rejectionCallbacks.length=0)},resetReadiness:function(){this._readiness="pending",this._resolutionArgs&&(this._resolutionArgs.length=0),this.clearReadinessCallbacks()},resolveReadiness:function(){this._readiness==="pending"&&(this._readiness="success",(this._resolutionArgs=this._resolutionArgs||[]).push.apply(this._resolutionArgs,arguments),this._invokeCallbacks(this._fulfillmentCallbacks),this.clearReadinessCallbacks())},rejectReadiness:function(){this._readiness==="pending"&&(this._readiness="failure",(this._resolutionArgs=this._resolutionArgs||[]).push.apply(this._resolutionArgs,arguments),this._invokeCallbacks(this._rejectionCallbacks),this.clearReadinessCallbacks())},_invokeCallbacks:function(f){if(f){for(var d,v=0;d=f[v];v++)d.apply(void 0,this._resolutionArgs);f.length=0}}};r.a=a},function(n,r,i){function o(){for(var h=1;h<arguments.length;h++)this[h-1]=arguments[h];return this}function a(h){return h&&h.tagName==="IMG"&&/^data:image\/svg|\.svg\?|\.svg$/.test(h.src)}var f=document.createElement("canvas"),d=f.getContext("2d"),v=document.createElement("canvas"),w=v.getContext("2d");f.width=v.width=f.height=v.height=0;var g=!1,P=!1,b=function(h,y){for(var c=arguments.length,s=Array(c>2?c-2:0),m=2;m<c;m++)s[m-2]=arguments[m];if(a(y))return h.drawImage.apply(h,o.apply(l,arguments)),!0;var _=g,x=P;g=P=!1;var C=y instanceof HTMLImageElement?y.naturalWidth:y.width,S=y instanceof HTMLImageElement?y.naturalHeight:y.height;if(!C||!S)throw"Source image provided to drawImageSmooth was not loaded, or otherwise had no dimensions.";var O=void 0,N=void 0,F=void 0,V=void 0,Q=void 0,ee=void 0,ae=void 0,j=void 0;switch(arguments.length-1){case 3:O=0,N=0,F=C,V=S,Q=arguments[2],ee=arguments[3],ae=C,j=S;break;case 5:O=0,N=0,F=C,V=S,Q=arguments[2],ee=arguments[3],ae=arguments[4],j=arguments[5];break;case 9:O=arguments[2],N=arguments[3],F=arguments[4],V=arguments[5],Q=arguments[6],ee=arguments[7],ae=arguments[8],j=arguments[9]}var T=ae/F,I=j/V;if(T&&I){var R=Math.max(T,I),L=Math.pow(2,Math.ceil(Math.log(1.1*R)/Math.log(2)));if(L>=1)return h.drawImage.apply(h,o.apply(l,arguments)),!0;var M=void 0;if(_){M="_cachedSmoothDownsample_from"+O+","+N+","+F+","+V+"@"+L+"x";var U=y[M];if(U)return h.drawImage(U,0,0,U.width,U.height,Q,ee,ae,j),!0}if(x)return h.drawImage.apply(h,o.apply(l,arguments)),!1;var H=1,q=F,W=V,G=Math.max(Math.pow(2,Math.ceil(Math.log(q)/Math.log(2))),f.width),re=Math.max(Math.pow(2,Math.ceil(Math.log(W)/Math.log(2))),f.height);for(f.width===G&&f.height===re||(f.width=v.width=G,f.height=v.height=re),d.drawImage(y,O,N,F,V,0,0,F,V);H>L;){w.drawImage(f,0,0,q,W,0,0,q=Math.ceil(q/2),W=Math.ceil(W/2)),d.clearRect(0,0,q,W);var le=f;f=v,v=le;var he=d;d=w,w=he,H/=2}if(_){var pe=document.createElement("canvas");pe.width=q,pe.height=W,pe.getContext("2d").drawImage(f,0,0),y[M]=pe}return h.drawImage(f,0,0,q,W,Q,ee,ae,j),d.clearRect(0,0,F,V),w.clearRect(0,0,F,V),!0}};b.usingCache=function(){return g=!0,this},b.avoidingWorkIf=function(h){return P=h,this};var l=[];r.a=b},function(n,r,i){function o(){var f="_callbacksForEventHandler"+ ++a;return function(d){var v=this[f]||(this[f]=[]);if(typeof d=="function")return v.push(d);if(v)for(var w=0,g=v.length;w<g;++w)v[w](d)}}r.a=o;var a=1},function(n,r,i){function o(l){var h=l&&new DataView(l),y={};return h&&a(h)&&f(h,y),y}function a(l){return l.getUint16(0)===65496}function f(l,h){for(var y=l.byteLength,c=2;c<y;){var s=l.getUint16(c);s===65505&&d(l,c+4,h),s!==65472&&s!==65474||v(l,c+5,h),c+=2+l.getUint16(c+2)}return h}function d(l,h,y){if(l.getUint32(h)!==1165519206)return y;var c=h+6,s=void 0,m=l.getUint16(c);if(m===18761)s=!0;else{if(m!==19789)return y;s=!1}for(var _=c+l.getUint32(c+4,s),x=l.getUint16(_,s),C=0;C<x;C++){var S=_+12*C+2,O=l.getUint16(S,s);O===274&&(y.orientation=l.getUint16(S+8,s)),O===34665&&w(l,c,b(l,S,s),s,y)}return y}function v(l,h,y){return y.height=l.getUint16(h),y.width=l.getUint16(h+2),y}function w(l,h,y,c,s){var m=P(l,h+y,c),_=void 0;return 37500 in m&&(_=m[37500],g(l,h+l.getUint32(_+8),s)),s}function g(l,h,y){for(var c="",s=0;s<9;s++)c+=String.fromCharCode(l.getUint8(h+s));if(c!=="Apple iOS")return y;var m=l.getUint16(h+9+3)===18761,_=P(l,h+9+3+2,m);return 27 in _&&(y.photosRenderEffect=b(l,_[27],m)),y}function P(l,h,y){for(var c=l.getUint16(h,y),s=h+2,m={},_=0;_<c;_++){var x=s+12*_;m[l.getUint16(x,y)]=x}return m}function b(l,h,y){var c=l.getUint16(h+2,y),s=l.getUint32(h+4,y),m=l.getUint32(h+8,y),_=[];switch(c){case 3:if(s===1)return l.getUint16(h+8,y);if(s===2)return[l.getUint16(h+8,y),l.getUint16(h+10,y)];for(var x=0;x<s;x++)_[x]=l.getUint16(m+4*x,y);return _;case 4:if(s===1)return m;for(var C=0;C<s;C++)_[C]=l.getUint32(m+4*C,y);return _;case 9:if(s===1)return l.getInt32(h+8,y);for(var S=0;S<s;S++)_[S]=l.getInt32(m+4*S,y);return _;default:return null}}r.a=o},function(n,r,i){function o(){for(var f=a()+a();f.length<16;)f+=a();return f.slice(0,16)}function a(){return Math.random().toString(16).substring(2)}r.a=o},function(n,r,i){function o(d,v){var w=d,g=w._computedStyle;g||(g=w._computedStyle=document.defaultView.getComputedStyle(d,null));var P=g.getPropertyValue(v);return!P&&a.get(v)&&(P=a.get(v)(g)||P),P}r.a=o;var a=function(){var d=new Map;return d.set("font",function(v){for(var w="",g=0,P=f.length;g<P;g++){var b=f[g],l=v.getPropertyValue("font-"+b);if(l&&(w&&(w+=" "),w+=l,b==="size")){var h=v.getPropertyValue("line-height");h&&(w+="/"+h)}}return w}),d}(),f=["style","variant","weight","size","family"]},function(n,r,i){function o(f,d,v,w,g,P,b){var l=void 0;if(typeof f=="string"){var h=f;h==="fit"&&(l=!1),h==="cover"&&(l=!0)}else l=!!f;var y=arguments.length;y!==6&&(b=y-1);var c=void 0,s=void 0,m=void 0,_=void 0,x=void 0;if(b===2||b===3){var C=d,S=v;s=C.height,c=C.width,_=S.height,m=S.width,x=w}else c=d,s=v,m=w,_=g,x=P;var O=c/s,N=m/_,F=l?O<N:O>N;return x=x||{},x.width=F?m:_*O,x.height=F?m/O:_,x}function a(f,d,v,w,g){return o(!1,f,d,v,w,g,arguments.length)}r.a=a},function(n,r,i){r.a="current"},function(n,r,i){r.a="Mcurrent"},function(n,r,i){r.a="1.5.6"}])})})(Rh);var Ih=Rh.exports;const iy=md(Ih),oy=Cp({__proto__:null,default:iy},[Ih]),ay={id:"_zhaochunqi-logseq-livephotos-plugin",icon:"./logo.svg"},sy=(e,...t)=>String.raw(e,...t),ly=ay.id,uy=()=>{parent.window.LivePhotosKit||(parent.window.LivePhotosKit=oy)};function cy(){console.info(`#${ly}: MAIN`);const e=document.getElementById("app");e&&Lh(e).render(fa(Cd.StrictMode,{children:fa(ry,{})}));function t(){return{show(){logseq.showMainUI()}}}logseq.provideModel(t()),logseq.setMainUIInlineStyle({zIndex:11});const n="template-plugin-open";logseq.provideStyle(sy`
    .${n} {
      opacity: 0.55;
      font-size: 20px;
      margin-top: 4px;
    }

    .${n}:hover {
      opacity: 0.9;
    }
  `),logseq.App.registerUIItem("toolbar",{key:n,template:`
    <a data-on-click="show">
        <div class="${n}"></div>
    </a>    
`}),logseq.App.onMacroRendererSlotted(async({slot:r,payload:i})=>{const[o,a,f]=i.arguments;if(o!==":live-photo"||!a||!f)return;uy();const d=parent.document.getElementById(r);if(!d)return;d.innerHTML="",d.style.width="100%",d.style.height="auto",d.style.minHeight="300px",d.style.display="block";const v=parent.document.createElement("div");v.style.width="100%",v.style.height="500px",v.style.position="relative",d.appendChild(v);const w=parent.window.LivePhotosKit;if(w&&w.Player)try{const g=w.Player(v);g.photoSrc=a,g.videoSrc=f,g.showsNativeControls=!0}catch(g){console.error("LivePhotosKit Player init error:",g),d.innerHTML=`<div style="color:red">Error initializing Live Photo: ${g}</div>`}else console.error("LivePhotosKit not found on parent window"),d.innerHTML='<div style="color:red">LivePhotosKit library not loaded.</div>'})}logseq.ready(cy).catch(console.error);
